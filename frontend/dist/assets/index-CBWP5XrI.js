var jF=Object.defineProperty;var sT=n=>{throw TypeError(n)};var DF=(n,e,t)=>e in n?jF(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ee=(n,e,t)=>DF(n,typeof e!="symbol"?e+"":e,t),Rw=(n,e,t)=>e.has(n)||sT("Cannot "+t);var u=(n,e,t)=>(Rw(n,e,"read from private field"),t?t.call(n):e.get(n)),T=(n,e,t)=>e.has(n)?sT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),A=(n,e,t,r)=>(Rw(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),N=(n,e,t)=>(Rw(n,e,"access private method"),t);var nn=(n,e,t,r)=>({set _(s){A(n,e,s,t)},get _(){return u(n,e,r)}});function LF(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();function R2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var N2={exports:{}},N0={},P2={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv=Symbol.for("react.element"),FF=Symbol.for("react.portal"),$F=Symbol.for("react.fragment"),BF=Symbol.for("react.strict_mode"),zF=Symbol.for("react.profiler"),UF=Symbol.for("react.provider"),VF=Symbol.for("react.context"),HF=Symbol.for("react.forward_ref"),WF=Symbol.for("react.suspense"),GF=Symbol.for("react.memo"),KF=Symbol.for("react.lazy"),iT=Symbol.iterator;function YF(n){return n===null||typeof n!="object"?null:(n=iT&&n[iT]||n["@@iterator"],typeof n=="function"?n:null)}var k2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I2=Object.assign,_2={};function If(n,e,t){this.props=n,this.context=e,this.refs=_2,this.updater=t||k2}If.prototype.isReactComponent={};If.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};If.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function M2(){}M2.prototype=If.prototype;function ME(n,e,t){this.props=n,this.context=e,this.refs=_2,this.updater=t||k2}var OE=ME.prototype=new M2;OE.constructor=ME;I2(OE,If.prototype);OE.isPureReactComponent=!0;var aT=Array.isArray,O2=Object.prototype.hasOwnProperty,jE={current:null},j2={key:!0,ref:!0,__self:!0,__source:!0};function D2(n,e,t){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)O2.call(e,r)&&!j2.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=t;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(n&&n.defaultProps)for(r in o=n.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:sv,type:n,key:i,ref:a,props:s,_owner:jE.current}}function XF(n,e){return{$$typeof:sv,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function DE(n){return typeof n=="object"&&n!==null&&n.$$typeof===sv}function QF(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var oT=/\/+/g;function Nw(n,e){return typeof n=="object"&&n!==null&&n.key!=null?QF(""+n.key):e.toString(36)}function ly(n,e,t,r,s){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case sv:case FF:a=!0}}if(a)return a=n,s=s(a),n=r===""?"."+Nw(a,0):r,aT(s)?(t="",n!=null&&(t=n.replace(oT,"$&/")+"/"),ly(s,e,t,"",function(c){return c})):s!=null&&(DE(s)&&(s=XF(s,t+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(oT,"$&/")+"/")+n)),e.push(s)),1;if(a=0,r=r===""?".":r+":",aT(n))for(var o=0;o<n.length;o++){i=n[o];var l=r+Nw(i,o);a+=ly(i,e,t,l,s)}else if(l=YF(n),typeof l=="function")for(n=l.call(n),o=0;!(i=n.next()).done;)i=i.value,l=r+Nw(i,o++),a+=ly(i,e,t,l,s);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Nv(n,e,t){if(n==null)return n;var r=[],s=0;return ly(n,r,"","",function(i){return e.call(t,i,s++)}),r}function ZF(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var tr={current:null},cy={transition:null},JF={ReactCurrentDispatcher:tr,ReactCurrentBatchConfig:cy,ReactCurrentOwner:jE};function L2(){throw Error("act(...) is not supported in production builds of React.")}$e.Children={map:Nv,forEach:function(n,e,t){Nv(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Nv(n,function(){e++}),e},toArray:function(n){return Nv(n,function(e){return e})||[]},only:function(n){if(!DE(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};$e.Component=If;$e.Fragment=$F;$e.Profiler=zF;$e.PureComponent=ME;$e.StrictMode=BF;$e.Suspense=WF;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JF;$e.act=L2;$e.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=I2({},n.props),s=n.key,i=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=jE.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(l in e)O2.call(e,l)&&!j2.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:sv,type:n.type,key:s,ref:i,props:r,_owner:a}};$e.createContext=function(n){return n={$$typeof:VF,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:UF,_context:n},n.Consumer=n};$e.createElement=D2;$e.createFactory=function(n){var e=D2.bind(null,n);return e.type=n,e};$e.createRef=function(){return{current:null}};$e.forwardRef=function(n){return{$$typeof:HF,render:n}};$e.isValidElement=DE;$e.lazy=function(n){return{$$typeof:KF,_payload:{_status:-1,_result:n},_init:ZF}};$e.memo=function(n,e){return{$$typeof:GF,type:n,compare:e===void 0?null:e}};$e.startTransition=function(n){var e=cy.transition;cy.transition={};try{n()}finally{cy.transition=e}};$e.unstable_act=L2;$e.useCallback=function(n,e){return tr.current.useCallback(n,e)};$e.useContext=function(n){return tr.current.useContext(n)};$e.useDebugValue=function(){};$e.useDeferredValue=function(n){return tr.current.useDeferredValue(n)};$e.useEffect=function(n,e){return tr.current.useEffect(n,e)};$e.useId=function(){return tr.current.useId()};$e.useImperativeHandle=function(n,e,t){return tr.current.useImperativeHandle(n,e,t)};$e.useInsertionEffect=function(n,e){return tr.current.useInsertionEffect(n,e)};$e.useLayoutEffect=function(n,e){return tr.current.useLayoutEffect(n,e)};$e.useMemo=function(n,e){return tr.current.useMemo(n,e)};$e.useReducer=function(n,e,t){return tr.current.useReducer(n,e,t)};$e.useRef=function(n){return tr.current.useRef(n)};$e.useState=function(n){return tr.current.useState(n)};$e.useSyncExternalStore=function(n,e,t){return tr.current.useSyncExternalStore(n,e,t)};$e.useTransition=function(){return tr.current.useTransition()};$e.version="18.3.1";P2.exports=$e;var S=P2.exports;const X=R2(S),LE=LF({__proto__:null,default:X},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qF=S,e4=Symbol.for("react.element"),t4=Symbol.for("react.fragment"),n4=Object.prototype.hasOwnProperty,r4=qF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s4={key:!0,ref:!0,__self:!0,__source:!0};function F2(n,e,t){var r,s={},i=null,a=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)n4.call(e,r)&&!s4.hasOwnProperty(r)&&(s[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:e4,type:n,key:i,ref:a,props:s,_owner:r4.current}}N0.Fragment=t4;N0.jsx=F2;N0.jsxs=F2;N2.exports=N0;var f=N2.exports,Pb={},$2={exports:{}},Qr={},B2={exports:{}},z2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e($,F){var H=$.length;$.push(F);e:for(;0<H;){var J=H-1>>>1,Z=$[J];if(0<s(Z,F))$[J]=F,$[H]=Z,H=J;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var F=$[0],H=$.pop();if(H!==F){$[0]=H;e:for(var J=0,Z=$.length,te=Z>>>1;J<te;){var ye=2*(J+1)-1,Ne=$[ye],Q=ye+1,L=$[Q];if(0>s(Ne,H))Q<Z&&0>s(L,Ne)?($[J]=L,$[Q]=H,J=Q):($[J]=Ne,$[ye]=H,J=ye);else if(Q<Z&&0>s(L,H))$[J]=L,$[Q]=H,J=Q;else break e}}return F}function s($,F){var H=$.sortIndex-F.sortIndex;return H!==0?H:$.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,h=null,p=3,m=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b($){for(var F=t(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=$)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=t(c)}}function E($){if(g=!1,b($),!v)if(t(l)!==null)v=!0,B(C);else{var F=t(c);F!==null&&U(E,F.startTime-$)}}function C($,F){v=!1,g&&(g=!1,x(k),k=-1),m=!0;var H=p;try{for(b(F),h=t(l);h!==null&&(!(h.expirationTime>F)||$&&!O());){var J=h.callback;if(typeof J=="function"){h.callback=null,p=h.priorityLevel;var Z=J(h.expirationTime<=F);F=n.unstable_now(),typeof Z=="function"?h.callback=Z:h===t(l)&&r(l),b(F)}else r(l);h=t(l)}if(h!==null)var te=!0;else{var ye=t(c);ye!==null&&U(E,ye.startTime-F),te=!1}return te}finally{h=null,p=H,m=!1}}var R=!1,P=null,k=-1,I=5,_=-1;function O(){return!(n.unstable_now()-_<I)}function M(){if(P!==null){var $=n.unstable_now();_=$;var F=!0;try{F=P(!0,$)}finally{F?z():(R=!1,P=null)}}else R=!1}var z;if(typeof w=="function")z=function(){w(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,K=D.port2;D.port1.onmessage=M,z=function(){K.postMessage(null)}}else z=function(){y(M,0)};function B($){P=$,R||(R=!0,z())}function U($,F){k=y(function(){$(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,B(C))},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function($){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var H=p;p=F;try{return $()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,F){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var H=p;p=$;try{return F()}finally{p=H}},n.unstable_scheduleCallback=function($,F,H){var J=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?J+H:J):H=J,$){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=H+Z,$={id:d++,callback:F,priorityLevel:$,startTime:H,expirationTime:Z,sortIndex:-1},H>J?($.sortIndex=H,e(c,$),t(l)===null&&$===t(c)&&(g?(x(k),k=-1):g=!0,U(E,H-J))):($.sortIndex=Z,e(l,$),v||m||(v=!0,B(C))),$},n.unstable_shouldYield=O,n.unstable_wrapCallback=function($){var F=p;return function(){var H=p;p=F;try{return $.apply(this,arguments)}finally{p=H}}}})(z2);B2.exports=z2;var i4=B2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a4=S,Yr=i4;function q(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var U2=new Set,Qp={};function ed(n,e){gf(n,e),gf(n+"Capture",e)}function gf(n,e){for(Qp[n]=e,n=0;n<e.length;n++)U2.add(e[n])}var qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kb=Object.prototype.hasOwnProperty,o4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lT={},cT={};function l4(n){return kb.call(cT,n)?!0:kb.call(lT,n)?!1:o4.test(n)?cT[n]=!0:(lT[n]=!0,!1)}function c4(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function u4(n,e,t,r){if(e===null||typeof e>"u"||c4(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nr(n,e,t,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Cn[n]=new nr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Cn[e]=new nr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Cn[n]=new nr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Cn[n]=new nr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Cn[n]=new nr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Cn[n]=new nr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Cn[n]=new nr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Cn[n]=new nr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Cn[n]=new nr(n,5,!1,n.toLowerCase(),null,!1,!1)});var FE=/[\-:]([a-z])/g;function $E(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(FE,$E);Cn[e]=new nr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(FE,$E);Cn[e]=new nr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(FE,$E);Cn[e]=new nr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Cn[n]=new nr(n,1,!1,n.toLowerCase(),null,!1,!1)});Cn.xlinkHref=new nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Cn[n]=new nr(n,1,!1,n.toLowerCase(),null,!0,!0)});function BE(n,e,t,r){var s=Cn.hasOwnProperty(e)?Cn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(u4(e,t,s,r)&&(t=null),r||s===null?l4(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):s.mustUseProperty?n[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,r=s.attributeNamespace,t===null?n.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var oo=a4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pv=Symbol.for("react.element"),Ed=Symbol.for("react.portal"),Ad=Symbol.for("react.fragment"),zE=Symbol.for("react.strict_mode"),Ib=Symbol.for("react.profiler"),V2=Symbol.for("react.provider"),H2=Symbol.for("react.context"),UE=Symbol.for("react.forward_ref"),_b=Symbol.for("react.suspense"),Mb=Symbol.for("react.suspense_list"),VE=Symbol.for("react.memo"),xo=Symbol.for("react.lazy"),W2=Symbol.for("react.offscreen"),uT=Symbol.iterator;function Kf(n){return n===null||typeof n!="object"?null:(n=uT&&n[uT]||n["@@iterator"],typeof n=="function"?n:null)}var Rt=Object.assign,Pw;function cp(n){if(Pw===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Pw=e&&e[1]||""}return`
`+Pw+n}var kw=!1;function Iw(n,e){if(!n||kw)return"";kw=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=o);break}}}finally{kw=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?cp(n):""}function d4(n){switch(n.tag){case 5:return cp(n.type);case 16:return cp("Lazy");case 13:return cp("Suspense");case 19:return cp("SuspenseList");case 0:case 2:case 15:return n=Iw(n.type,!1),n;case 11:return n=Iw(n.type.render,!1),n;case 1:return n=Iw(n.type,!0),n;default:return""}}function Ob(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ad:return"Fragment";case Ed:return"Portal";case Ib:return"Profiler";case zE:return"StrictMode";case _b:return"Suspense";case Mb:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case H2:return(n.displayName||"Context")+".Consumer";case V2:return(n._context.displayName||"Context")+".Provider";case UE:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case VE:return e=n.displayName||null,e!==null?e:Ob(n.type)||"Memo";case xo:e=n._payload,n=n._init;try{return Ob(n(e))}catch{}}return null}function h4(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ob(e);case 8:return e===zE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ll(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function G2(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function f4(n){var e=G2(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function kv(n){n._valueTracker||(n._valueTracker=f4(n))}function K2(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=G2(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function sx(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function jb(n,e){var t=e.checked;return Rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function dT(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Ll(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Y2(n,e){e=e.checked,e!=null&&BE(n,"checked",e,!1)}function Db(n,e){Y2(n,e);var t=Ll(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Lb(n,e.type,t):e.hasOwnProperty("defaultValue")&&Lb(n,e.type,Ll(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function hT(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Lb(n,e,t){(e!=="number"||sx(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var up=Array.isArray;function Bd(n,e,t,r){if(n=n.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<n.length;t++)s=e.hasOwnProperty("$"+n[t].value),n[t].selected!==s&&(n[t].selected=s),s&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Ll(t),e=null,s=0;s<n.length;s++){if(n[s].value===t){n[s].selected=!0,r&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function Fb(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return Rt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function fT(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(q(92));if(up(t)){if(1<t.length)throw Error(q(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ll(t)}}function X2(n,e){var t=Ll(e.value),r=Ll(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function pT(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Q2(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $b(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Q2(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Iv,Z2=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,s){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Iv=Iv||document.createElement("div"),Iv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Iv.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Zp(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Lp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p4=["Webkit","ms","Moz","O"];Object.keys(Lp).forEach(function(n){p4.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Lp[e]=Lp[n]})});function J2(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Lp.hasOwnProperty(n)&&Lp[n]?(""+e).trim():e+"px"}function q2(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,s=J2(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,s):n[t]=s}}var m4=Rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bb(n,e){if(e){if(m4[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function zb(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ub=null;function HE(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Vb=null,zd=null,Ud=null;function mT(n){if(n=ov(n)){if(typeof Vb!="function")throw Error(q(280));var e=n.stateNode;e&&(e=M0(e),Vb(n.stateNode,n.type,e))}}function eP(n){zd?Ud?Ud.push(n):Ud=[n]:zd=n}function tP(){if(zd){var n=zd,e=Ud;if(Ud=zd=null,mT(n),e)for(n=0;n<e.length;n++)mT(e[n])}}function nP(n,e){return n(e)}function rP(){}var _w=!1;function sP(n,e,t){if(_w)return n(e,t);_w=!0;try{return nP(n,e,t)}finally{_w=!1,(zd!==null||Ud!==null)&&(rP(),tP())}}function Jp(n,e){var t=n.stateNode;if(t===null)return null;var r=M0(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(q(231,e,typeof t));return t}var Hb=!1;if(qa)try{var Yf={};Object.defineProperty(Yf,"passive",{get:function(){Hb=!0}}),window.addEventListener("test",Yf,Yf),window.removeEventListener("test",Yf,Yf)}catch{Hb=!1}function g4(n,e,t,r,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var Fp=!1,ix=null,ax=!1,Wb=null,v4={onError:function(n){Fp=!0,ix=n}};function y4(n,e,t,r,s,i,a,o,l){Fp=!1,ix=null,g4.apply(v4,arguments)}function x4(n,e,t,r,s,i,a,o,l){if(y4.apply(this,arguments),Fp){if(Fp){var c=ix;Fp=!1,ix=null}else throw Error(q(198));ax||(ax=!0,Wb=c)}}function td(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function iP(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function gT(n){if(td(n)!==n)throw Error(q(188))}function w4(n){var e=n.alternate;if(!e){if(e=td(n),e===null)throw Error(q(188));return e!==n?null:n}for(var t=n,r=e;;){var s=t.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){t=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===t)return gT(s),n;if(i===r)return gT(s),e;i=i.sibling}throw Error(q(188))}if(t.return!==r.return)t=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===t){a=!0,t=s,r=i;break}if(o===r){a=!0,r=s,t=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===t){a=!0,t=i,r=s;break}if(o===r){a=!0,r=i,t=s;break}o=o.sibling}if(!a)throw Error(q(189))}}if(t.alternate!==r)throw Error(q(190))}if(t.tag!==3)throw Error(q(188));return t.stateNode.current===t?n:e}function aP(n){return n=w4(n),n!==null?oP(n):null}function oP(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=oP(n);if(e!==null)return e;n=n.sibling}return null}var lP=Yr.unstable_scheduleCallback,vT=Yr.unstable_cancelCallback,b4=Yr.unstable_shouldYield,S4=Yr.unstable_requestPaint,Dt=Yr.unstable_now,E4=Yr.unstable_getCurrentPriorityLevel,WE=Yr.unstable_ImmediatePriority,cP=Yr.unstable_UserBlockingPriority,ox=Yr.unstable_NormalPriority,A4=Yr.unstable_LowPriority,uP=Yr.unstable_IdlePriority,P0=null,Li=null;function C4(n){if(Li&&typeof Li.onCommitFiberRoot=="function")try{Li.onCommitFiberRoot(P0,n,void 0,(n.current.flags&128)===128)}catch{}}var Xs=Math.clz32?Math.clz32:N4,T4=Math.log,R4=Math.LN2;function N4(n){return n>>>=0,n===0?32:31-(T4(n)/R4|0)|0}var _v=64,Mv=4194304;function dp(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function lx(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,s=n.suspendedLanes,i=n.pingedLanes,a=t&268435455;if(a!==0){var o=a&~s;o!==0?r=dp(o):(i&=a,i!==0&&(r=dp(i)))}else a=t&~s,a!==0?r=dp(a):i!==0&&(r=dp(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Xs(e),s=1<<t,r|=n[t],e&=~s;return r}function P4(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k4(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,s=n.expirationTimes,i=n.pendingLanes;0<i;){var a=31-Xs(i),o=1<<a,l=s[a];l===-1?(!(o&t)||o&r)&&(s[a]=P4(o,e)):l<=e&&(n.expiredLanes|=o),i&=~o}}function Gb(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function dP(){var n=_v;return _v<<=1,!(_v&4194240)&&(_v=64),n}function Mw(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function iv(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Xs(e),n[e]=t}function I4(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var s=31-Xs(t),i=1<<s;e[s]=0,r[s]=-1,n[s]=-1,t&=~i}}function GE(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Xs(t),s=1<<r;s&e|n[r]&e&&(n[r]|=e),t&=~s}}var st=0;function hP(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var fP,KE,pP,mP,gP,Kb=!1,Ov=[],Al=null,Cl=null,Tl=null,qp=new Map,em=new Map,So=[],_4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yT(n,e){switch(n){case"focusin":case"focusout":Al=null;break;case"dragenter":case"dragleave":Cl=null;break;case"mouseover":case"mouseout":Tl=null;break;case"pointerover":case"pointerout":qp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":em.delete(e.pointerId)}}function Xf(n,e,t,r,s,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ov(e),e!==null&&KE(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function M4(n,e,t,r,s){switch(e){case"focusin":return Al=Xf(Al,n,e,t,r,s),!0;case"dragenter":return Cl=Xf(Cl,n,e,t,r,s),!0;case"mouseover":return Tl=Xf(Tl,n,e,t,r,s),!0;case"pointerover":var i=s.pointerId;return qp.set(i,Xf(qp.get(i)||null,n,e,t,r,s)),!0;case"gotpointercapture":return i=s.pointerId,em.set(i,Xf(em.get(i)||null,n,e,t,r,s)),!0}return!1}function vP(n){var e=cc(n.target);if(e!==null){var t=td(e);if(t!==null){if(e=t.tag,e===13){if(e=iP(t),e!==null){n.blockedOn=e,gP(n.priority,function(){pP(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function uy(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Yb(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Ub=r,t.target.dispatchEvent(r),Ub=null}else return e=ov(t),e!==null&&KE(e),n.blockedOn=t,!1;e.shift()}return!0}function xT(n,e,t){uy(n)&&t.delete(e)}function O4(){Kb=!1,Al!==null&&uy(Al)&&(Al=null),Cl!==null&&uy(Cl)&&(Cl=null),Tl!==null&&uy(Tl)&&(Tl=null),qp.forEach(xT),em.forEach(xT)}function Qf(n,e){n.blockedOn===e&&(n.blockedOn=null,Kb||(Kb=!0,Yr.unstable_scheduleCallback(Yr.unstable_NormalPriority,O4)))}function tm(n){function e(s){return Qf(s,n)}if(0<Ov.length){Qf(Ov[0],n);for(var t=1;t<Ov.length;t++){var r=Ov[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Al!==null&&Qf(Al,n),Cl!==null&&Qf(Cl,n),Tl!==null&&Qf(Tl,n),qp.forEach(e),em.forEach(e),t=0;t<So.length;t++)r=So[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<So.length&&(t=So[0],t.blockedOn===null);)vP(t),t.blockedOn===null&&So.shift()}var Vd=oo.ReactCurrentBatchConfig,cx=!0;function j4(n,e,t,r){var s=st,i=Vd.transition;Vd.transition=null;try{st=1,YE(n,e,t,r)}finally{st=s,Vd.transition=i}}function D4(n,e,t,r){var s=st,i=Vd.transition;Vd.transition=null;try{st=4,YE(n,e,t,r)}finally{st=s,Vd.transition=i}}function YE(n,e,t,r){if(cx){var s=Yb(n,e,t,r);if(s===null)Vw(n,e,r,ux,t),yT(n,r);else if(M4(s,n,e,t,r))r.stopPropagation();else if(yT(n,r),e&4&&-1<_4.indexOf(n)){for(;s!==null;){var i=ov(s);if(i!==null&&fP(i),i=Yb(n,e,t,r),i===null&&Vw(n,e,r,ux,t),i===s)break;s=i}s!==null&&r.stopPropagation()}else Vw(n,e,r,null,t)}}var ux=null;function Yb(n,e,t,r){if(ux=null,n=HE(r),n=cc(n),n!==null)if(e=td(n),e===null)n=null;else if(t=e.tag,t===13){if(n=iP(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return ux=n,null}function yP(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(E4()){case WE:return 1;case cP:return 4;case ox:case A4:return 16;case uP:return 536870912;default:return 16}default:return 16}}var wl=null,XE=null,dy=null;function xP(){if(dy)return dy;var n,e=XE,t=e.length,r,s="value"in wl?wl.value:wl.textContent,i=s.length;for(n=0;n<t&&e[n]===s[n];n++);var a=t-n;for(r=1;r<=a&&e[t-r]===s[i-r];r++);return dy=s.slice(n,1<r?1-r:void 0)}function hy(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function jv(){return!0}function wT(){return!1}function Zr(n){function e(t,r,s,i,a){this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?jv:wT,this.isPropagationStopped=wT,this}return Rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=jv)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=jv)},persist:function(){},isPersistent:jv}),e}var _f={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},QE=Zr(_f),av=Rt({},_f,{view:0,detail:0}),L4=Zr(av),Ow,jw,Zf,k0=Rt({},av,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ZE,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Zf&&(Zf&&n.type==="mousemove"?(Ow=n.screenX-Zf.screenX,jw=n.screenY-Zf.screenY):jw=Ow=0,Zf=n),Ow)},movementY:function(n){return"movementY"in n?n.movementY:jw}}),bT=Zr(k0),F4=Rt({},k0,{dataTransfer:0}),$4=Zr(F4),B4=Rt({},av,{relatedTarget:0}),Dw=Zr(B4),z4=Rt({},_f,{animationName:0,elapsedTime:0,pseudoElement:0}),U4=Zr(z4),V4=Rt({},_f,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),H4=Zr(V4),W4=Rt({},_f,{data:0}),ST=Zr(W4),G4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X4(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=Y4[n])?!!e[n]:!1}function ZE(){return X4}var Q4=Rt({},av,{key:function(n){if(n.key){var e=G4[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=hy(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?K4[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ZE,charCode:function(n){return n.type==="keypress"?hy(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?hy(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Z4=Zr(Q4),J4=Rt({},k0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ET=Zr(J4),q4=Rt({},av,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ZE}),e5=Zr(q4),t5=Rt({},_f,{propertyName:0,elapsedTime:0,pseudoElement:0}),n5=Zr(t5),r5=Rt({},k0,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),s5=Zr(r5),i5=[9,13,27,32],JE=qa&&"CompositionEvent"in window,$p=null;qa&&"documentMode"in document&&($p=document.documentMode);var a5=qa&&"TextEvent"in window&&!$p,wP=qa&&(!JE||$p&&8<$p&&11>=$p),AT=" ",CT=!1;function bP(n,e){switch(n){case"keyup":return i5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SP(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Cd=!1;function o5(n,e){switch(n){case"compositionend":return SP(e);case"keypress":return e.which!==32?null:(CT=!0,AT);case"textInput":return n=e.data,n===AT&&CT?null:n;default:return null}}function l5(n,e){if(Cd)return n==="compositionend"||!JE&&bP(n,e)?(n=xP(),dy=XE=wl=null,Cd=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wP&&e.locale!=="ko"?null:e.data;default:return null}}var c5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TT(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!c5[n.type]:e==="textarea"}function EP(n,e,t,r){eP(r),e=dx(e,"onChange"),0<e.length&&(t=new QE("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Bp=null,nm=null;function u5(n){OP(n,0)}function I0(n){var e=Nd(n);if(K2(e))return n}function d5(n,e){if(n==="change")return e}var AP=!1;if(qa){var Lw;if(qa){var Fw="oninput"in document;if(!Fw){var RT=document.createElement("div");RT.setAttribute("oninput","return;"),Fw=typeof RT.oninput=="function"}Lw=Fw}else Lw=!1;AP=Lw&&(!document.documentMode||9<document.documentMode)}function NT(){Bp&&(Bp.detachEvent("onpropertychange",CP),nm=Bp=null)}function CP(n){if(n.propertyName==="value"&&I0(nm)){var e=[];EP(e,nm,n,HE(n)),sP(u5,e)}}function h5(n,e,t){n==="focusin"?(NT(),Bp=e,nm=t,Bp.attachEvent("onpropertychange",CP)):n==="focusout"&&NT()}function f5(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return I0(nm)}function p5(n,e){if(n==="click")return I0(e)}function m5(n,e){if(n==="input"||n==="change")return I0(e)}function g5(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Zs=typeof Object.is=="function"?Object.is:g5;function rm(n,e){if(Zs(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var s=t[r];if(!kb.call(e,s)||!Zs(n[s],e[s]))return!1}return!0}function PT(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function kT(n,e){var t=PT(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=PT(t)}}function TP(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?TP(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function RP(){for(var n=window,e=sx();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=sx(n.document)}return e}function qE(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function v5(n){var e=RP(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&TP(t.ownerDocument.documentElement,t)){if(r!==null&&qE(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=t.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!n.extend&&i>r&&(s=r,r=i,i=s),s=kT(t,i);var a=kT(t,r);s&&a&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var y5=qa&&"documentMode"in document&&11>=document.documentMode,Td=null,Xb=null,zp=null,Qb=!1;function IT(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Qb||Td==null||Td!==sx(r)||(r=Td,"selectionStart"in r&&qE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zp&&rm(zp,r)||(zp=r,r=dx(Xb,"onSelect"),0<r.length&&(e=new QE("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Td)))}function Dv(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Rd={animationend:Dv("Animation","AnimationEnd"),animationiteration:Dv("Animation","AnimationIteration"),animationstart:Dv("Animation","AnimationStart"),transitionend:Dv("Transition","TransitionEnd")},$w={},NP={};qa&&(NP=document.createElement("div").style,"AnimationEvent"in window||(delete Rd.animationend.animation,delete Rd.animationiteration.animation,delete Rd.animationstart.animation),"TransitionEvent"in window||delete Rd.transitionend.transition);function _0(n){if($w[n])return $w[n];if(!Rd[n])return n;var e=Rd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in NP)return $w[n]=e[t];return n}var PP=_0("animationend"),kP=_0("animationiteration"),IP=_0("animationstart"),_P=_0("transitionend"),MP=new Map,_T="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yl(n,e){MP.set(n,e),ed(e,[n])}for(var Bw=0;Bw<_T.length;Bw++){var zw=_T[Bw],x5=zw.toLowerCase(),w5=zw[0].toUpperCase()+zw.slice(1);Yl(x5,"on"+w5)}Yl(PP,"onAnimationEnd");Yl(kP,"onAnimationIteration");Yl(IP,"onAnimationStart");Yl("dblclick","onDoubleClick");Yl("focusin","onFocus");Yl("focusout","onBlur");Yl(_P,"onTransitionEnd");gf("onMouseEnter",["mouseout","mouseover"]);gf("onMouseLeave",["mouseout","mouseover"]);gf("onPointerEnter",["pointerout","pointerover"]);gf("onPointerLeave",["pointerout","pointerover"]);ed("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ed("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ed("onBeforeInput",["compositionend","keypress","textInput","paste"]);ed("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ed("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ed("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b5=new Set("cancel close invalid load scroll toggle".split(" ").concat(hp));function MT(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,x4(r,e,void 0,n),n.currentTarget=null}function OP(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;MT(s,o,c),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;MT(s,o,c),i=l}}}if(ax)throw n=Wb,ax=!1,Wb=null,n}function mt(n,e){var t=e[t1];t===void 0&&(t=e[t1]=new Set);var r=n+"__bubble";t.has(r)||(jP(e,n,2,!1),t.add(r))}function Uw(n,e,t){var r=0;e&&(r|=4),jP(t,n,r,e)}var Lv="_reactListening"+Math.random().toString(36).slice(2);function sm(n){if(!n[Lv]){n[Lv]=!0,U2.forEach(function(t){t!=="selectionchange"&&(b5.has(t)||Uw(t,!1,n),Uw(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Lv]||(e[Lv]=!0,Uw("selectionchange",!1,e))}}function jP(n,e,t,r){switch(yP(e)){case 1:var s=j4;break;case 4:s=D4;break;default:s=YE}t=s.bind(null,e,t,n),s=void 0,!Hb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?n.addEventListener(e,t,{capture:!0,passive:s}):n.addEventListener(e,t,!0):s!==void 0?n.addEventListener(e,t,{passive:s}):n.addEventListener(e,t,!1)}function Vw(n,e,t,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=cc(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}sP(function(){var c=i,d=HE(t),h=[];e:{var p=MP.get(n);if(p!==void 0){var m=QE,v=n;switch(n){case"keypress":if(hy(t)===0)break e;case"keydown":case"keyup":m=Z4;break;case"focusin":v="focus",m=Dw;break;case"focusout":v="blur",m=Dw;break;case"beforeblur":case"afterblur":m=Dw;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=bT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=$4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=e5;break;case PP:case kP:case IP:m=U4;break;case _P:m=n5;break;case"scroll":m=L4;break;case"wheel":m=s5;break;case"copy":case"cut":case"paste":m=H4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ET}var g=(e&4)!==0,y=!g&&n==="scroll",x=g?p!==null?p+"Capture":null:p;g=[];for(var w=c,b;w!==null;){b=w;var E=b.stateNode;if(b.tag===5&&E!==null&&(b=E,x!==null&&(E=Jp(w,x),E!=null&&g.push(im(w,E,b)))),y)break;w=w.return}0<g.length&&(p=new m(p,v,null,t,d),h.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==Ub&&(v=t.relatedTarget||t.fromElement)&&(cc(v)||v[eo]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=c,v=v?cc(v):null,v!==null&&(y=td(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(g=bT,E="onMouseLeave",x="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(g=ET,E="onPointerLeave",x="onPointerEnter",w="pointer"),y=m==null?p:Nd(m),b=v==null?p:Nd(v),p=new g(E,w+"leave",m,t,d),p.target=y,p.relatedTarget=b,E=null,cc(d)===c&&(g=new g(x,w+"enter",v,t,d),g.target=b,g.relatedTarget=y,E=g),y=E,m&&v)t:{for(g=m,x=v,w=0,b=g;b;b=ld(b))w++;for(b=0,E=x;E;E=ld(E))b++;for(;0<w-b;)g=ld(g),w--;for(;0<b-w;)x=ld(x),b--;for(;w--;){if(g===x||x!==null&&g===x.alternate)break t;g=ld(g),x=ld(x)}g=null}else g=null;m!==null&&OT(h,p,m,g,!1),v!==null&&y!==null&&OT(h,y,v,g,!0)}}e:{if(p=c?Nd(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=d5;else if(TT(p))if(AP)C=m5;else{C=f5;var R=h5}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=p5);if(C&&(C=C(n,c))){EP(h,C,t,d);break e}R&&R(n,p,c),n==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&Lb(p,"number",p.value)}switch(R=c?Nd(c):window,n){case"focusin":(TT(R)||R.contentEditable==="true")&&(Td=R,Xb=c,zp=null);break;case"focusout":zp=Xb=Td=null;break;case"mousedown":Qb=!0;break;case"contextmenu":case"mouseup":case"dragend":Qb=!1,IT(h,t,d);break;case"selectionchange":if(y5)break;case"keydown":case"keyup":IT(h,t,d)}var P;if(JE)e:{switch(n){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Cd?bP(n,t)&&(k="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(k="onCompositionStart");k&&(wP&&t.locale!=="ko"&&(Cd||k!=="onCompositionStart"?k==="onCompositionEnd"&&Cd&&(P=xP()):(wl=d,XE="value"in wl?wl.value:wl.textContent,Cd=!0)),R=dx(c,k),0<R.length&&(k=new ST(k,n,null,t,d),h.push({event:k,listeners:R}),P?k.data=P:(P=SP(t),P!==null&&(k.data=P)))),(P=a5?o5(n,t):l5(n,t))&&(c=dx(c,"onBeforeInput"),0<c.length&&(d=new ST("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:c}),d.data=P))}OP(h,e)})}function im(n,e,t){return{instance:n,listener:e,currentTarget:t}}function dx(n,e){for(var t=e+"Capture",r=[];n!==null;){var s=n,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Jp(n,t),i!=null&&r.unshift(im(n,i,s)),i=Jp(n,e),i!=null&&r.push(im(n,i,s))),n=n.return}return r}function ld(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function OT(n,e,t,r,s){for(var i=e._reactName,a=[];t!==null&&t!==r;){var o=t,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,s?(l=Jp(t,i),l!=null&&a.unshift(im(t,l,o))):s||(l=Jp(t,i),l!=null&&a.push(im(t,l,o)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var S5=/\r\n?/g,E5=/\u0000|\uFFFD/g;function jT(n){return(typeof n=="string"?n:""+n).replace(S5,`
`).replace(E5,"")}function Fv(n,e,t){if(e=jT(e),jT(n)!==e&&t)throw Error(q(425))}function hx(){}var Zb=null,Jb=null;function qb(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var e1=typeof setTimeout=="function"?setTimeout:void 0,A5=typeof clearTimeout=="function"?clearTimeout:void 0,DT=typeof Promise=="function"?Promise:void 0,C5=typeof queueMicrotask=="function"?queueMicrotask:typeof DT<"u"?function(n){return DT.resolve(null).then(n).catch(T5)}:e1;function T5(n){setTimeout(function(){throw n})}function Hw(n,e){var t=e,r=0;do{var s=t.nextSibling;if(n.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(r===0){n.removeChild(s),tm(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=s}while(t);tm(e)}function Rl(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function LT(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Mf=Math.random().toString(36).slice(2),Ii="__reactFiber$"+Mf,am="__reactProps$"+Mf,eo="__reactContainer$"+Mf,t1="__reactEvents$"+Mf,R5="__reactListeners$"+Mf,N5="__reactHandles$"+Mf;function cc(n){var e=n[Ii];if(e)return e;for(var t=n.parentNode;t;){if(e=t[eo]||t[Ii]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=LT(n);n!==null;){if(t=n[Ii])return t;n=LT(n)}return e}n=t,t=n.parentNode}return null}function ov(n){return n=n[Ii]||n[eo],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Nd(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(q(33))}function M0(n){return n[am]||null}var n1=[],Pd=-1;function Xl(n){return{current:n}}function gt(n){0>Pd||(n.current=n1[Pd],n1[Pd]=null,Pd--)}function ht(n,e){Pd++,n1[Pd]=n.current,n.current=e}var Fl={},Dn=Xl(Fl),xr=Xl(!1),Fu=Fl;function vf(n,e){var t=n.type.contextTypes;if(!t)return Fl;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in t)s[i]=e[i];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function wr(n){return n=n.childContextTypes,n!=null}function fx(){gt(xr),gt(Dn)}function FT(n,e,t){if(Dn.current!==Fl)throw Error(q(168));ht(Dn,e),ht(xr,t)}function DP(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,h4(n)||"Unknown",s));return Rt({},t,r)}function px(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Fl,Fu=Dn.current,ht(Dn,n),ht(xr,xr.current),!0}function $T(n,e,t){var r=n.stateNode;if(!r)throw Error(q(169));t?(n=DP(n,e,Fu),r.__reactInternalMemoizedMergedChildContext=n,gt(xr),gt(Dn),ht(Dn,n)):gt(xr),ht(xr,t)}var aa=null,O0=!1,Ww=!1;function LP(n){aa===null?aa=[n]:aa.push(n)}function P5(n){O0=!0,LP(n)}function Ql(){if(!Ww&&aa!==null){Ww=!0;var n=0,e=st;try{var t=aa;for(st=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}aa=null,O0=!1}catch(s){throw aa!==null&&(aa=aa.slice(n+1)),lP(WE,Ql),s}finally{st=e,Ww=!1}}return null}var kd=[],Id=0,mx=null,gx=0,ls=[],cs=0,$u=null,Ha=1,Wa="";function nc(n,e){kd[Id++]=gx,kd[Id++]=mx,mx=n,gx=e}function FP(n,e,t){ls[cs++]=Ha,ls[cs++]=Wa,ls[cs++]=$u,$u=n;var r=Ha;n=Wa;var s=32-Xs(r)-1;r&=~(1<<s),t+=1;var i=32-Xs(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Ha=1<<32-Xs(e)+s|t<<s|r,Wa=i+n}else Ha=1<<i|t<<s|r,Wa=n}function eA(n){n.return!==null&&(nc(n,1),FP(n,1,0))}function tA(n){for(;n===mx;)mx=kd[--Id],kd[Id]=null,gx=kd[--Id],kd[Id]=null;for(;n===$u;)$u=ls[--cs],ls[cs]=null,Wa=ls[--cs],ls[cs]=null,Ha=ls[--cs],ls[cs]=null}var Wr=null,Hr=null,St=!1,Hs=null;function $P(n,e){var t=ds(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function BT(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Wr=n,Hr=Rl(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Wr=n,Hr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=$u!==null?{id:Ha,overflow:Wa}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=ds(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Wr=n,Hr=null,!0):!1;default:return!1}}function r1(n){return(n.mode&1)!==0&&(n.flags&128)===0}function s1(n){if(St){var e=Hr;if(e){var t=e;if(!BT(n,e)){if(r1(n))throw Error(q(418));e=Rl(t.nextSibling);var r=Wr;e&&BT(n,e)?$P(r,t):(n.flags=n.flags&-4097|2,St=!1,Wr=n)}}else{if(r1(n))throw Error(q(418));n.flags=n.flags&-4097|2,St=!1,Wr=n}}}function zT(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Wr=n}function $v(n){if(n!==Wr)return!1;if(!St)return zT(n),St=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!qb(n.type,n.memoizedProps)),e&&(e=Hr)){if(r1(n))throw BP(),Error(q(418));for(;e;)$P(n,e),e=Rl(e.nextSibling)}if(zT(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(q(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Hr=Rl(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Hr=null}}else Hr=Wr?Rl(n.stateNode.nextSibling):null;return!0}function BP(){for(var n=Hr;n;)n=Rl(n.nextSibling)}function yf(){Hr=Wr=null,St=!1}function nA(n){Hs===null?Hs=[n]:Hs.push(n)}var k5=oo.ReactCurrentBatchConfig;function Jf(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(q(309));var r=t.stateNode}if(!r)throw Error(q(147,n));var s=r,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof n!="string")throw Error(q(284));if(!t._owner)throw Error(q(290,n))}return n}function Bv(n,e){throw n=Object.prototype.toString.call(e),Error(q(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function UT(n){var e=n._init;return e(n._payload)}function zP(n){function e(x,w){if(n){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function t(x,w){if(!n)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function s(x,w){return x=Il(x,w),x.index=0,x.sibling=null,x}function i(x,w,b){return x.index=b,n?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return n&&x.alternate===null&&(x.flags|=2),x}function o(x,w,b,E){return w===null||w.tag!==6?(w=Jw(b,x.mode,E),w.return=x,w):(w=s(w,b),w.return=x,w)}function l(x,w,b,E){var C=b.type;return C===Ad?d(x,w,b.props.children,E,b.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===xo&&UT(C)===w.type)?(E=s(w,b.props),E.ref=Jf(x,w,b),E.return=x,E):(E=xy(b.type,b.key,b.props,null,x.mode,E),E.ref=Jf(x,w,b),E.return=x,E)}function c(x,w,b,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=qw(b,x.mode,E),w.return=x,w):(w=s(w,b.children||[]),w.return=x,w)}function d(x,w,b,E,C){return w===null||w.tag!==7?(w=Du(b,x.mode,E,C),w.return=x,w):(w=s(w,b),w.return=x,w)}function h(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Jw(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pv:return b=xy(w.type,w.key,w.props,null,x.mode,b),b.ref=Jf(x,null,w),b.return=x,b;case Ed:return w=qw(w,x.mode,b),w.return=x,w;case xo:var E=w._init;return h(x,E(w._payload),b)}if(up(w)||Kf(w))return w=Du(w,x.mode,b,null),w.return=x,w;Bv(x,w)}return null}function p(x,w,b,E){var C=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:o(x,w,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pv:return b.key===C?l(x,w,b,E):null;case Ed:return b.key===C?c(x,w,b,E):null;case xo:return C=b._init,p(x,w,C(b._payload),E)}if(up(b)||Kf(b))return C!==null?null:d(x,w,b,E,null);Bv(x,b)}return null}function m(x,w,b,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return x=x.get(b)||null,o(w,x,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Pv:return x=x.get(E.key===null?b:E.key)||null,l(w,x,E,C);case Ed:return x=x.get(E.key===null?b:E.key)||null,c(w,x,E,C);case xo:var R=E._init;return m(x,w,b,R(E._payload),C)}if(up(E)||Kf(E))return x=x.get(b)||null,d(w,x,E,C,null);Bv(w,E)}return null}function v(x,w,b,E){for(var C=null,R=null,P=w,k=w=0,I=null;P!==null&&k<b.length;k++){P.index>k?(I=P,P=null):I=P.sibling;var _=p(x,P,b[k],E);if(_===null){P===null&&(P=I);break}n&&P&&_.alternate===null&&e(x,P),w=i(_,w,k),R===null?C=_:R.sibling=_,R=_,P=I}if(k===b.length)return t(x,P),St&&nc(x,k),C;if(P===null){for(;k<b.length;k++)P=h(x,b[k],E),P!==null&&(w=i(P,w,k),R===null?C=P:R.sibling=P,R=P);return St&&nc(x,k),C}for(P=r(x,P);k<b.length;k++)I=m(P,x,k,b[k],E),I!==null&&(n&&I.alternate!==null&&P.delete(I.key===null?k:I.key),w=i(I,w,k),R===null?C=I:R.sibling=I,R=I);return n&&P.forEach(function(O){return e(x,O)}),St&&nc(x,k),C}function g(x,w,b,E){var C=Kf(b);if(typeof C!="function")throw Error(q(150));if(b=C.call(b),b==null)throw Error(q(151));for(var R=C=null,P=w,k=w=0,I=null,_=b.next();P!==null&&!_.done;k++,_=b.next()){P.index>k?(I=P,P=null):I=P.sibling;var O=p(x,P,_.value,E);if(O===null){P===null&&(P=I);break}n&&P&&O.alternate===null&&e(x,P),w=i(O,w,k),R===null?C=O:R.sibling=O,R=O,P=I}if(_.done)return t(x,P),St&&nc(x,k),C;if(P===null){for(;!_.done;k++,_=b.next())_=h(x,_.value,E),_!==null&&(w=i(_,w,k),R===null?C=_:R.sibling=_,R=_);return St&&nc(x,k),C}for(P=r(x,P);!_.done;k++,_=b.next())_=m(P,x,k,_.value,E),_!==null&&(n&&_.alternate!==null&&P.delete(_.key===null?k:_.key),w=i(_,w,k),R===null?C=_:R.sibling=_,R=_);return n&&P.forEach(function(M){return e(x,M)}),St&&nc(x,k),C}function y(x,w,b,E){if(typeof b=="object"&&b!==null&&b.type===Ad&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Pv:e:{for(var C=b.key,R=w;R!==null;){if(R.key===C){if(C=b.type,C===Ad){if(R.tag===7){t(x,R.sibling),w=s(R,b.props.children),w.return=x,x=w;break e}}else if(R.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===xo&&UT(C)===R.type){t(x,R.sibling),w=s(R,b.props),w.ref=Jf(x,R,b),w.return=x,x=w;break e}t(x,R);break}else e(x,R);R=R.sibling}b.type===Ad?(w=Du(b.props.children,x.mode,E,b.key),w.return=x,x=w):(E=xy(b.type,b.key,b.props,null,x.mode,E),E.ref=Jf(x,w,b),E.return=x,x=E)}return a(x);case Ed:e:{for(R=b.key;w!==null;){if(w.key===R)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){t(x,w.sibling),w=s(w,b.children||[]),w.return=x,x=w;break e}else{t(x,w);break}else e(x,w);w=w.sibling}w=qw(b,x.mode,E),w.return=x,x=w}return a(x);case xo:return R=b._init,y(x,w,R(b._payload),E)}if(up(b))return v(x,w,b,E);if(Kf(b))return g(x,w,b,E);Bv(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(t(x,w.sibling),w=s(w,b),w.return=x,x=w):(t(x,w),w=Jw(b,x.mode,E),w.return=x,x=w),a(x)):t(x,w)}return y}var xf=zP(!0),UP=zP(!1),vx=Xl(null),yx=null,_d=null,rA=null;function sA(){rA=_d=yx=null}function iA(n){var e=vx.current;gt(vx),n._currentValue=e}function i1(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Hd(n,e){yx=n,rA=_d=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(yr=!0),n.firstContext=null)}function gs(n){var e=n._currentValue;if(rA!==n)if(n={context:n,memoizedValue:e,next:null},_d===null){if(yx===null)throw Error(q(308));_d=n,yx.dependencies={lanes:0,firstContext:n}}else _d=_d.next=n;return e}var uc=null;function aA(n){uc===null?uc=[n]:uc.push(n)}function VP(n,e,t,r){var s=e.interleaved;return s===null?(t.next=t,aA(e)):(t.next=s.next,s.next=t),e.interleaved=t,to(n,r)}function to(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var wo=!1;function oA(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HP(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ga(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Nl(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,We&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,to(n,t)}return s=r.interleaved,s===null?(e.next=e,aA(r)):(e.next=s.next,s.next=e),r.interleaved=e,to(n,t)}function fy(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,GE(n,t)}}function VT(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var s=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?s=i=a:i=i.next=a,t=t.next}while(t!==null);i===null?s=i=e:i=i.next=e}else s=i=e;t={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function xx(n,e,t,r){var s=n.updateQueue;wo=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var d=n.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;a=0,d=c=l=null,o=i;do{var p=o.lane,m=o.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=n,g=o;switch(p=e,m=t,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(m,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(m,h,p):v,p==null)break e;h=Rt({},h,p);break e;case 2:wo=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,p=s.effects,p===null?s.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,a|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);zu|=a,n.lanes=a,n.memoizedState=h}}function HT(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],s=r.callback;if(s!==null){if(r.callback=null,r=t,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var lv={},Fi=Xl(lv),om=Xl(lv),lm=Xl(lv);function dc(n){if(n===lv)throw Error(q(174));return n}function lA(n,e){switch(ht(lm,e),ht(om,n),ht(Fi,lv),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$b(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=$b(e,n)}gt(Fi),ht(Fi,e)}function wf(){gt(Fi),gt(om),gt(lm)}function WP(n){dc(lm.current);var e=dc(Fi.current),t=$b(e,n.type);e!==t&&(ht(om,n),ht(Fi,t))}function cA(n){om.current===n&&(gt(Fi),gt(om))}var Ct=Xl(0);function wx(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gw=[];function uA(){for(var n=0;n<Gw.length;n++)Gw[n]._workInProgressVersionPrimary=null;Gw.length=0}var py=oo.ReactCurrentDispatcher,Kw=oo.ReactCurrentBatchConfig,Bu=0,Tt=null,Jt=null,hn=null,bx=!1,Up=!1,cm=0,I5=0;function Rn(){throw Error(q(321))}function dA(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Zs(n[t],e[t]))return!1;return!0}function hA(n,e,t,r,s,i){if(Bu=i,Tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,py.current=n===null||n.memoizedState===null?j5:D5,n=t(r,s),Up){i=0;do{if(Up=!1,cm=0,25<=i)throw Error(q(301));i+=1,hn=Jt=null,e.updateQueue=null,py.current=L5,n=t(r,s)}while(Up)}if(py.current=Sx,e=Jt!==null&&Jt.next!==null,Bu=0,hn=Jt=Tt=null,bx=!1,e)throw Error(q(300));return n}function fA(){var n=cm!==0;return cm=0,n}function ui(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Tt.memoizedState=hn=n:hn=hn.next=n,hn}function vs(){if(Jt===null){var n=Tt.alternate;n=n!==null?n.memoizedState:null}else n=Jt.next;var e=hn===null?Tt.memoizedState:hn.next;if(e!==null)hn=e,Jt=n;else{if(n===null)throw Error(q(310));Jt=n,n={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},hn===null?Tt.memoizedState=hn=n:hn=hn.next=n}return hn}function um(n,e){return typeof e=="function"?e(n):e}function Yw(n){var e=vs(),t=e.queue;if(t===null)throw Error(q(311));t.lastRenderedReducer=n;var r=Jt,s=r.baseQueue,i=t.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,t.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,c=i;do{var d=c.lane;if((Bu&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=r):l=l.next=h,Tt.lanes|=d,zu|=d}c=c.next}while(c!==null&&c!==i);l===null?a=r:l.next=o,Zs(r,e.memoizedState)||(yr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){s=n;do i=s.lane,Tt.lanes|=i,zu|=i,s=s.next;while(s!==n)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Xw(n){var e=vs(),t=e.queue;if(t===null)throw Error(q(311));t.lastRenderedReducer=n;var r=t.dispatch,s=t.pending,i=e.memoizedState;if(s!==null){t.pending=null;var a=s=s.next;do i=n(i,a.action),a=a.next;while(a!==s);Zs(i,e.memoizedState)||(yr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,r]}function GP(){}function KP(n,e){var t=Tt,r=vs(),s=e(),i=!Zs(r.memoizedState,s);if(i&&(r.memoizedState=s,yr=!0),r=r.queue,pA(QP.bind(null,t,r,n),[n]),r.getSnapshot!==e||i||hn!==null&&hn.memoizedState.tag&1){if(t.flags|=2048,dm(9,XP.bind(null,t,r,s,e),void 0,null),fn===null)throw Error(q(349));Bu&30||YP(t,e,s)}return s}function YP(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function XP(n,e,t,r){e.value=t,e.getSnapshot=r,ZP(e)&&JP(n)}function QP(n,e,t){return t(function(){ZP(e)&&JP(n)})}function ZP(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Zs(n,t)}catch{return!0}}function JP(n){var e=to(n,1);e!==null&&Qs(e,n,1,-1)}function WT(n){var e=ui();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:um,lastRenderedState:n},e.queue=n,n=n.dispatch=O5.bind(null,Tt,n),[e.memoizedState,n]}function dm(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function qP(){return vs().memoizedState}function my(n,e,t,r){var s=ui();Tt.flags|=n,s.memoizedState=dm(1|e,t,void 0,r===void 0?null:r)}function j0(n,e,t,r){var s=vs();r=r===void 0?null:r;var i=void 0;if(Jt!==null){var a=Jt.memoizedState;if(i=a.destroy,r!==null&&dA(r,a.deps)){s.memoizedState=dm(e,t,i,r);return}}Tt.flags|=n,s.memoizedState=dm(1|e,t,i,r)}function GT(n,e){return my(8390656,8,n,e)}function pA(n,e){return j0(2048,8,n,e)}function ek(n,e){return j0(4,2,n,e)}function tk(n,e){return j0(4,4,n,e)}function nk(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function rk(n,e,t){return t=t!=null?t.concat([n]):null,j0(4,4,nk.bind(null,e,n),t)}function mA(){}function sk(n,e){var t=vs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&dA(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function ik(n,e){var t=vs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&dA(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function ak(n,e,t){return Bu&21?(Zs(t,e)||(t=dP(),Tt.lanes|=t,zu|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,yr=!0),n.memoizedState=t)}function _5(n,e){var t=st;st=t!==0&&4>t?t:4,n(!0);var r=Kw.transition;Kw.transition={};try{n(!1),e()}finally{st=t,Kw.transition=r}}function ok(){return vs().memoizedState}function M5(n,e,t){var r=kl(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},lk(n))ck(e,t);else if(t=VP(n,e,t,r),t!==null){var s=qn();Qs(t,n,r,s),uk(t,e,r)}}function O5(n,e,t){var r=kl(n),s={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(lk(n))ck(e,s);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,t);if(s.hasEagerState=!0,s.eagerState=o,Zs(o,a)){var l=e.interleaved;l===null?(s.next=s,aA(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}t=VP(n,e,s,r),t!==null&&(s=qn(),Qs(t,n,r,s),uk(t,e,r))}}function lk(n){var e=n.alternate;return n===Tt||e!==null&&e===Tt}function ck(n,e){Up=bx=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function uk(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,GE(n,t)}}var Sx={readContext:gs,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},j5={readContext:gs,useCallback:function(n,e){return ui().memoizedState=[n,e===void 0?null:e],n},useContext:gs,useEffect:GT,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,my(4194308,4,nk.bind(null,e,n),t)},useLayoutEffect:function(n,e){return my(4194308,4,n,e)},useInsertionEffect:function(n,e){return my(4,2,n,e)},useMemo:function(n,e){var t=ui();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=ui();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=M5.bind(null,Tt,n),[r.memoizedState,n]},useRef:function(n){var e=ui();return n={current:n},e.memoizedState=n},useState:WT,useDebugValue:mA,useDeferredValue:function(n){return ui().memoizedState=n},useTransition:function(){var n=WT(!1),e=n[0];return n=_5.bind(null,n[1]),ui().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Tt,s=ui();if(St){if(t===void 0)throw Error(q(407));t=t()}else{if(t=e(),fn===null)throw Error(q(349));Bu&30||YP(r,e,t)}s.memoizedState=t;var i={value:t,getSnapshot:e};return s.queue=i,GT(QP.bind(null,r,i,n),[n]),r.flags|=2048,dm(9,XP.bind(null,r,i,t,e),void 0,null),t},useId:function(){var n=ui(),e=fn.identifierPrefix;if(St){var t=Wa,r=Ha;t=(r&~(1<<32-Xs(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=cm++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=I5++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},D5={readContext:gs,useCallback:sk,useContext:gs,useEffect:pA,useImperativeHandle:rk,useInsertionEffect:ek,useLayoutEffect:tk,useMemo:ik,useReducer:Yw,useRef:qP,useState:function(){return Yw(um)},useDebugValue:mA,useDeferredValue:function(n){var e=vs();return ak(e,Jt.memoizedState,n)},useTransition:function(){var n=Yw(um)[0],e=vs().memoizedState;return[n,e]},useMutableSource:GP,useSyncExternalStore:KP,useId:ok,unstable_isNewReconciler:!1},L5={readContext:gs,useCallback:sk,useContext:gs,useEffect:pA,useImperativeHandle:rk,useInsertionEffect:ek,useLayoutEffect:tk,useMemo:ik,useReducer:Xw,useRef:qP,useState:function(){return Xw(um)},useDebugValue:mA,useDeferredValue:function(n){var e=vs();return Jt===null?e.memoizedState=n:ak(e,Jt.memoizedState,n)},useTransition:function(){var n=Xw(um)[0],e=vs().memoizedState;return[n,e]},useMutableSource:GP,useSyncExternalStore:KP,useId:ok,unstable_isNewReconciler:!1};function Ns(n,e){if(n&&n.defaultProps){e=Rt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function a1(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Rt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var D0={isMounted:function(n){return(n=n._reactInternals)?td(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=qn(),s=kl(n),i=Ga(r,s);i.payload=e,t!=null&&(i.callback=t),e=Nl(n,i,s),e!==null&&(Qs(e,n,s,r),fy(e,n,s))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=qn(),s=kl(n),i=Ga(r,s);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=Nl(n,i,s),e!==null&&(Qs(e,n,s,r),fy(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=qn(),r=kl(n),s=Ga(t,r);s.tag=2,e!=null&&(s.callback=e),e=Nl(n,s,r),e!==null&&(Qs(e,n,r,t),fy(e,n,r))}};function KT(n,e,t,r,s,i,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!rm(t,r)||!rm(s,i):!0}function dk(n,e,t){var r=!1,s=Fl,i=e.contextType;return typeof i=="object"&&i!==null?i=gs(i):(s=wr(e)?Fu:Dn.current,r=e.contextTypes,i=(r=r!=null)?vf(n,s):Fl),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=D0,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=i),e}function YT(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&D0.enqueueReplaceState(e,e.state,null)}function o1(n,e,t,r){var s=n.stateNode;s.props=t,s.state=n.memoizedState,s.refs={},oA(n);var i=e.contextType;typeof i=="object"&&i!==null?s.context=gs(i):(i=wr(e)?Fu:Dn.current,s.context=vf(n,i)),s.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(a1(n,e,i,t),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&D0.enqueueReplaceState(s,s.state,null),xx(n,t,s,r),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function bf(n,e){try{var t="",r=e;do t+=d4(r),r=r.return;while(r);var s=t}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:s,digest:null}}function Qw(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function l1(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var F5=typeof WeakMap=="function"?WeakMap:Map;function hk(n,e,t){t=Ga(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Ax||(Ax=!0,y1=r),l1(n,e)},t}function fk(n,e,t){t=Ga(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;t.payload=function(){return r(s)},t.callback=function(){l1(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){l1(n,e),typeof r!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function XT(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new F5;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(t)||(s.add(t),n=J5.bind(null,n,e,t),e.then(n,n))}function QT(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function ZT(n,e,t,r,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ga(-1,1),e.tag=2,Nl(t,e,1))),t.lanes|=1),n)}var $5=oo.ReactCurrentOwner,yr=!1;function Yn(n,e,t,r){e.child=n===null?UP(e,null,t,r):xf(e,n.child,t,r)}function JT(n,e,t,r,s){t=t.render;var i=e.ref;return Hd(e,s),r=hA(n,e,t,r,i,s),t=fA(),n!==null&&!yr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,no(n,e,s)):(St&&t&&eA(e),e.flags|=1,Yn(n,e,r,s),e.child)}function qT(n,e,t,r,s){if(n===null){var i=t.type;return typeof i=="function"&&!EA(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,pk(n,e,i,r,s)):(n=xy(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&s)){var a=i.memoizedProps;if(t=t.compare,t=t!==null?t:rm,t(a,r)&&n.ref===e.ref)return no(n,e,s)}return e.flags|=1,n=Il(i,r),n.ref=e.ref,n.return=e,e.child=n}function pk(n,e,t,r,s){if(n!==null){var i=n.memoizedProps;if(rm(i,r)&&n.ref===e.ref)if(yr=!1,e.pendingProps=r=i,(n.lanes&s)!==0)n.flags&131072&&(yr=!0);else return e.lanes=n.lanes,no(n,e,s)}return c1(n,e,t,r,s)}function mk(n,e,t){var r=e.pendingProps,s=r.children,i=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(Od,$r),$r|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,ht(Od,$r),$r|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:t,ht(Od,$r),$r|=r}else i!==null?(r=i.baseLanes|t,e.memoizedState=null):r=t,ht(Od,$r),$r|=r;return Yn(n,e,s,t),e.child}function gk(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function c1(n,e,t,r,s){var i=wr(t)?Fu:Dn.current;return i=vf(e,i),Hd(e,s),t=hA(n,e,t,r,i,s),r=fA(),n!==null&&!yr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,no(n,e,s)):(St&&r&&eA(e),e.flags|=1,Yn(n,e,t,s),e.child)}function eR(n,e,t,r,s){if(wr(t)){var i=!0;px(e)}else i=!1;if(Hd(e,s),e.stateNode===null)gy(n,e),dk(e,t,r),o1(e,t,r,s),r=!0;else if(n===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=t.contextType;typeof c=="object"&&c!==null?c=gs(c):(c=wr(t)?Fu:Dn.current,c=vf(e,c));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&YT(e,a,r,c),wo=!1;var p=e.memoizedState;a.state=p,xx(e,r,a,s),l=e.memoizedState,o!==r||p!==l||xr.current||wo?(typeof d=="function"&&(a1(e,t,d,r),l=e.memoizedState),(o=wo||KT(e,t,o,r,p,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,HP(n,e),o=e.memoizedProps,c=e.type===e.elementType?o:Ns(e.type,o),a.props=c,h=e.pendingProps,p=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=gs(l):(l=wr(t)?Fu:Dn.current,l=vf(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||p!==l)&&YT(e,a,r,l),wo=!1,p=e.memoizedState,a.state=p,xx(e,r,a,s);var v=e.memoizedState;o!==h||p!==v||xr.current||wo?(typeof m=="function"&&(a1(e,t,m,r),v=e.memoizedState),(c=wo||KT(e,t,c,r,p,v,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return u1(n,e,t,r,i,s)}function u1(n,e,t,r,s,i){gk(n,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&$T(e,t,!1),no(n,e,i);r=e.stateNode,$5.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&a?(e.child=xf(e,n.child,null,i),e.child=xf(e,null,o,i)):Yn(n,e,o,i),e.memoizedState=r.state,s&&$T(e,t,!0),e.child}function vk(n){var e=n.stateNode;e.pendingContext?FT(n,e.pendingContext,e.pendingContext!==e.context):e.context&&FT(n,e.context,!1),lA(n,e.containerInfo)}function tR(n,e,t,r,s){return yf(),nA(s),e.flags|=256,Yn(n,e,t,r),e.child}var d1={dehydrated:null,treeContext:null,retryLane:0};function h1(n){return{baseLanes:n,cachePool:null,transitions:null}}function yk(n,e,t){var r=e.pendingProps,s=Ct.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),ht(Ct,s&1),n===null)return s1(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,n=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=$0(a,r,0,null),n=Du(n,r,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=h1(t),e.memoizedState=d1,n):gA(e,a));if(s=n.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return B5(n,e,a,r,o,s,t);if(i){i=r.fallback,a=e.mode,s=n.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Il(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Il(o,i):(i=Du(i,a,t,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=n.child.memoizedState,a=a===null?h1(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=n.childLanes&~t,e.memoizedState=d1,r}return i=n.child,n=i.sibling,r=Il(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function gA(n,e){return e=$0({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function zv(n,e,t,r){return r!==null&&nA(r),xf(e,n.child,null,t),n=gA(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function B5(n,e,t,r,s,i,a){if(t)return e.flags&256?(e.flags&=-257,r=Qw(Error(q(422))),zv(n,e,a,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=$0({mode:"visible",children:r.children},s,0,null),i=Du(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&xf(e,n.child,null,a),e.child.memoizedState=h1(a),e.memoizedState=d1,i);if(!(e.mode&1))return zv(n,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(q(419)),r=Qw(i,r,void 0),zv(n,e,a,r)}if(o=(a&n.childLanes)!==0,yr||o){if(r=fn,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,to(n,s),Qs(r,n,s,-1))}return SA(),r=Qw(Error(q(421))),zv(n,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=q5.bind(null,n),s._reactRetry=e,null):(n=i.treeContext,Hr=Rl(s.nextSibling),Wr=e,St=!0,Hs=null,n!==null&&(ls[cs++]=Ha,ls[cs++]=Wa,ls[cs++]=$u,Ha=n.id,Wa=n.overflow,$u=e),e=gA(e,r.children),e.flags|=4096,e)}function nR(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),i1(n.return,e,t)}function Zw(n,e,t,r,s){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=t,i.tailMode=s)}function xk(n,e,t){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Yn(n,e,r.children,t),r=Ct.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&nR(n,t,e);else if(n.tag===19)nR(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(ht(Ct,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)n=t.alternate,n!==null&&wx(n)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),Zw(e,!1,s,t,i);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&wx(n)===null){e.child=s;break}n=s.sibling,s.sibling=t,t=s,s=n}Zw(e,!0,t,null,i);break;case"together":Zw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gy(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function no(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),zu|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(q(153));if(e.child!==null){for(n=e.child,t=Il(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Il(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function z5(n,e,t){switch(e.tag){case 3:vk(e),yf();break;case 5:WP(e);break;case 1:wr(e.type)&&px(e);break;case 4:lA(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ht(vx,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ht(Ct,Ct.current&1),e.flags|=128,null):t&e.child.childLanes?yk(n,e,t):(ht(Ct,Ct.current&1),n=no(n,e,t),n!==null?n.sibling:null);ht(Ct,Ct.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return xk(n,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ht(Ct,Ct.current),r)break;return null;case 22:case 23:return e.lanes=0,mk(n,e,t)}return no(n,e,t)}var wk,f1,bk,Sk;wk=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};f1=function(){};bk=function(n,e,t,r){var s=n.memoizedProps;if(s!==r){n=e.stateNode,dc(Fi.current);var i=null;switch(t){case"input":s=jb(n,s),r=jb(n,r),i=[];break;case"select":s=Rt({},s,{value:void 0}),r=Rt({},r,{value:void 0}),i=[];break;case"textarea":s=Fb(n,s),r=Fb(n,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=hx)}Bb(t,r);var a;t=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Qp.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(o=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(i||(i=[]),i.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Qp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&mt("scroll",n),i||o===l||(i=[])):(i=i||[]).push(c,l))}t&&(i=i||[]).push("style",t);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Sk=function(n,e,t,r){t!==r&&(e.flags|=4)};function qf(n,e){if(!St)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Nn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function U5(n,e,t){var r=e.pendingProps;switch(tA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(e),null;case 1:return wr(e.type)&&fx(),Nn(e),null;case 3:return r=e.stateNode,wf(),gt(xr),gt(Dn),uA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&($v(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hs!==null&&(b1(Hs),Hs=null))),f1(n,e),Nn(e),null;case 5:cA(e);var s=dc(lm.current);if(t=e.type,n!==null&&e.stateNode!=null)bk(n,e,t,r,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Nn(e),null}if(n=dc(Fi.current),$v(e)){r=e.stateNode,t=e.type;var i=e.memoizedProps;switch(r[Ii]=e,r[am]=i,n=(e.mode&1)!==0,t){case"dialog":mt("cancel",r),mt("close",r);break;case"iframe":case"object":case"embed":mt("load",r);break;case"video":case"audio":for(s=0;s<hp.length;s++)mt(hp[s],r);break;case"source":mt("error",r);break;case"img":case"image":case"link":mt("error",r),mt("load",r);break;case"details":mt("toggle",r);break;case"input":dT(r,i),mt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},mt("invalid",r);break;case"textarea":fT(r,i),mt("invalid",r)}Bb(t,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Fv(r.textContent,o,n),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Fv(r.textContent,o,n),s=["children",""+o]):Qp.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&mt("scroll",r)}switch(t){case"input":kv(r),hT(r,i,!0);break;case"textarea":kv(r),pT(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=hx)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Q2(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=a.createElement(t,{is:r.is}):(n=a.createElement(t),t==="select"&&(a=n,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):n=a.createElementNS(n,t),n[Ii]=e,n[am]=r,wk(n,e,!1,!1),e.stateNode=n;e:{switch(a=zb(t,r),t){case"dialog":mt("cancel",n),mt("close",n),s=r;break;case"iframe":case"object":case"embed":mt("load",n),s=r;break;case"video":case"audio":for(s=0;s<hp.length;s++)mt(hp[s],n);s=r;break;case"source":mt("error",n),s=r;break;case"img":case"image":case"link":mt("error",n),mt("load",n),s=r;break;case"details":mt("toggle",n),s=r;break;case"input":dT(n,r),s=jb(n,r),mt("invalid",n);break;case"option":s=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},s=Rt({},r,{value:void 0}),mt("invalid",n);break;case"textarea":fT(n,r),s=Fb(n,r),mt("invalid",n);break;default:s=r}Bb(t,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?q2(n,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Z2(n,l)):i==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Zp(n,l):typeof l=="number"&&Zp(n,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qp.hasOwnProperty(i)?l!=null&&i==="onScroll"&&mt("scroll",n):l!=null&&BE(n,i,l,a))}switch(t){case"input":kv(n),hT(n,r,!1);break;case"textarea":kv(n),pT(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Ll(r.value));break;case"select":n.multiple=!!r.multiple,i=r.value,i!=null?Bd(n,!!r.multiple,i,!1):r.defaultValue!=null&&Bd(n,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=hx)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nn(e),null;case 6:if(n&&e.stateNode!=null)Sk(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(t=dc(lm.current),dc(Fi.current),$v(e)){if(r=e.stateNode,t=e.memoizedProps,r[Ii]=e,(i=r.nodeValue!==t)&&(n=Wr,n!==null))switch(n.tag){case 3:Fv(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Fv(r.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Ii]=e,e.stateNode=r}return Nn(e),null;case 13:if(gt(Ct),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(St&&Hr!==null&&e.mode&1&&!(e.flags&128))BP(),yf(),e.flags|=98560,i=!1;else if(i=$v(e),r!==null&&r.dehydrated!==null){if(n===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[Ii]=e}else yf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nn(e),i=!1}else Hs!==null&&(b1(Hs),Hs=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Ct.current&1?en===0&&(en=3):SA())),e.updateQueue!==null&&(e.flags|=4),Nn(e),null);case 4:return wf(),f1(n,e),n===null&&sm(e.stateNode.containerInfo),Nn(e),null;case 10:return iA(e.type._context),Nn(e),null;case 17:return wr(e.type)&&fx(),Nn(e),null;case 19:if(gt(Ct),i=e.memoizedState,i===null)return Nn(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)qf(i,!1);else{if(en!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=wx(n),a!==null){for(e.flags|=128,qf(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)i=t,n=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,n=a.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return ht(Ct,Ct.current&1|2),e.child}n=n.sibling}i.tail!==null&&Dt()>Sf&&(e.flags|=128,r=!0,qf(i,!1),e.lanes=4194304)}else{if(!r)if(n=wx(a),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),qf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!St)return Nn(e),null}else 2*Dt()-i.renderingStartTime>Sf&&t!==1073741824&&(e.flags|=128,r=!0,qf(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Dt(),e.sibling=null,t=Ct.current,ht(Ct,r?t&1|2:t&1),e):(Nn(e),null);case 22:case 23:return bA(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$r&1073741824&&(Nn(e),e.subtreeFlags&6&&(e.flags|=8192)):Nn(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function V5(n,e){switch(tA(e),e.tag){case 1:return wr(e.type)&&fx(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return wf(),gt(xr),gt(Dn),uA(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return cA(e),null;case 13:if(gt(Ct),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(q(340));yf()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return gt(Ct),null;case 4:return wf(),null;case 10:return iA(e.type._context),null;case 22:case 23:return bA(),null;case 24:return null;default:return null}}var Uv=!1,jn=!1,H5=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Md(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){It(n,e,r)}else t.current=null}function p1(n,e,t){try{t()}catch(r){It(n,e,r)}}var rR=!1;function W5(n,e){if(Zb=cx,n=RP(),qE(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,c=0,d=0,h=n,p=null;t:for(;;){for(var m;h!==t||s!==0&&h.nodeType!==3||(o=a+s),h!==i||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++c===s&&(o=a),p===i&&++d===r&&(l=a),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Jb={focusedElem:n,selectionRange:t},cx=!1,ge=e;ge!==null;)if(e=ge,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ge=n;else for(;ge!==null;){e=ge;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,y=v.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:Ns(e.type,g),y);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(E){It(e,e.return,E)}if(n=e.sibling,n!==null){n.return=e.return,ge=n;break}ge=e.return}return v=rR,rR=!1,v}function Vp(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&n)===n){var i=s.destroy;s.destroy=void 0,i!==void 0&&p1(e,t,i)}s=s.next}while(s!==r)}}function L0(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function m1(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function Ek(n){var e=n.alternate;e!==null&&(n.alternate=null,Ek(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ii],delete e[am],delete e[t1],delete e[R5],delete e[N5])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Ak(n){return n.tag===5||n.tag===3||n.tag===4}function sR(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Ak(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function g1(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=hx));else if(r!==4&&(n=n.child,n!==null))for(g1(n,e,t),n=n.sibling;n!==null;)g1(n,e,t),n=n.sibling}function v1(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(v1(n,e,t),n=n.sibling;n!==null;)v1(n,e,t),n=n.sibling}var wn=null,Vs=!1;function fo(n,e,t){for(t=t.child;t!==null;)Ck(n,e,t),t=t.sibling}function Ck(n,e,t){if(Li&&typeof Li.onCommitFiberUnmount=="function")try{Li.onCommitFiberUnmount(P0,t)}catch{}switch(t.tag){case 5:jn||Md(t,e);case 6:var r=wn,s=Vs;wn=null,fo(n,e,t),wn=r,Vs=s,wn!==null&&(Vs?(n=wn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):wn.removeChild(t.stateNode));break;case 18:wn!==null&&(Vs?(n=wn,t=t.stateNode,n.nodeType===8?Hw(n.parentNode,t):n.nodeType===1&&Hw(n,t),tm(n)):Hw(wn,t.stateNode));break;case 4:r=wn,s=Vs,wn=t.stateNode.containerInfo,Vs=!0,fo(n,e,t),wn=r,Vs=s;break;case 0:case 11:case 14:case 15:if(!jn&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&p1(t,e,a),s=s.next}while(s!==r)}fo(n,e,t);break;case 1:if(!jn&&(Md(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(o){It(t,e,o)}fo(n,e,t);break;case 21:fo(n,e,t);break;case 22:t.mode&1?(jn=(r=jn)||t.memoizedState!==null,fo(n,e,t),jn=r):fo(n,e,t);break;default:fo(n,e,t)}}function iR(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new H5),e.forEach(function(r){var s=e3.bind(null,n,r);t.has(r)||(t.add(r),r.then(s,s))})}}function Es(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];try{var i=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:wn=o.stateNode,Vs=!1;break e;case 3:wn=o.stateNode.containerInfo,Vs=!0;break e;case 4:wn=o.stateNode.containerInfo,Vs=!0;break e}o=o.return}if(wn===null)throw Error(q(160));Ck(i,a,s),wn=null,Vs=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){It(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Tk(e,n),e=e.sibling}function Tk(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Es(e,n),ai(n),r&4){try{Vp(3,n,n.return),L0(3,n)}catch(g){It(n,n.return,g)}try{Vp(5,n,n.return)}catch(g){It(n,n.return,g)}}break;case 1:Es(e,n),ai(n),r&512&&t!==null&&Md(t,t.return);break;case 5:if(Es(e,n),ai(n),r&512&&t!==null&&Md(t,t.return),n.flags&32){var s=n.stateNode;try{Zp(s,"")}catch(g){It(n,n.return,g)}}if(r&4&&(s=n.stateNode,s!=null)){var i=n.memoizedProps,a=t!==null?t.memoizedProps:i,o=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Y2(s,i),zb(o,a);var c=zb(o,i);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?q2(s,h):d==="dangerouslySetInnerHTML"?Z2(s,h):d==="children"?Zp(s,h):BE(s,d,h,c)}switch(o){case"input":Db(s,i);break;case"textarea":X2(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Bd(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?Bd(s,!!i.multiple,i.defaultValue,!0):Bd(s,!!i.multiple,i.multiple?[]:"",!1))}s[am]=i}catch(g){It(n,n.return,g)}}break;case 6:if(Es(e,n),ai(n),r&4){if(n.stateNode===null)throw Error(q(162));s=n.stateNode,i=n.memoizedProps;try{s.nodeValue=i}catch(g){It(n,n.return,g)}}break;case 3:if(Es(e,n),ai(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{tm(e.containerInfo)}catch(g){It(n,n.return,g)}break;case 4:Es(e,n),ai(n);break;case 13:Es(e,n),ai(n),s=n.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(xA=Dt())),r&4&&iR(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(jn=(c=jn)||d,Es(e,n),jn=c):Es(e,n),ai(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(ge=n,d=n.child;d!==null;){for(h=ge=d;ge!==null;){switch(p=ge,m=p.child,p.tag){case 0:case 11:case 14:case 15:Vp(4,p,p.return);break;case 1:Md(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){It(r,t,g)}}break;case 5:Md(p,p.return);break;case 22:if(p.memoizedState!==null){oR(h);continue}}m!==null?(m.return=p,ge=m):oR(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=J2("display",a))}catch(g){It(n,n.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){It(n,n.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Es(e,n),ai(n),r&4&&iR(n);break;case 21:break;default:Es(e,n),ai(n)}}function ai(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(Ak(t)){var r=t;break e}t=t.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Zp(s,""),r.flags&=-33);var i=sR(n);v1(n,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=sR(n);g1(n,o,a);break;default:throw Error(q(161))}}catch(l){It(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function G5(n,e,t){ge=n,Rk(n)}function Rk(n,e,t){for(var r=(n.mode&1)!==0;ge!==null;){var s=ge,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Uv;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||jn;o=Uv;var c=jn;if(Uv=a,(jn=l)&&!c)for(ge=s;ge!==null;)a=ge,l=a.child,a.tag===22&&a.memoizedState!==null?lR(s):l!==null?(l.return=a,ge=l):lR(s);for(;i!==null;)ge=i,Rk(i),i=i.sibling;ge=s,Uv=o,jn=c}aR(n)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ge=i):aR(n)}}function aR(n){for(;ge!==null;){var e=ge;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jn||L0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jn)if(t===null)r.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:Ns(e.type,t.memoizedProps);r.componentDidUpdate(s,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&HT(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}HT(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&tm(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}jn||e.flags&512&&m1(e)}catch(p){It(e,e.return,p)}}if(e===n){ge=null;break}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}}function oR(n){for(;ge!==null;){var e=ge;if(e===n){ge=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ge=t;break}ge=e.return}}function lR(n){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{L0(4,e)}catch(l){It(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){It(e,s,l)}}var i=e.return;try{m1(e)}catch(l){It(e,i,l)}break;case 5:var a=e.return;try{m1(e)}catch(l){It(e,a,l)}}}catch(l){It(e,e.return,l)}if(e===n){ge=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ge=o;break}ge=e.return}}var K5=Math.ceil,Ex=oo.ReactCurrentDispatcher,vA=oo.ReactCurrentOwner,fs=oo.ReactCurrentBatchConfig,We=0,fn=null,Ht=null,En=0,$r=0,Od=Xl(0),en=0,hm=null,zu=0,F0=0,yA=0,Hp=null,vr=null,xA=0,Sf=1/0,ra=null,Ax=!1,y1=null,Pl=null,Vv=!1,bl=null,Cx=0,Wp=0,x1=null,vy=-1,yy=0;function qn(){return We&6?Dt():vy!==-1?vy:vy=Dt()}function kl(n){return n.mode&1?We&2&&En!==0?En&-En:k5.transition!==null?(yy===0&&(yy=dP()),yy):(n=st,n!==0||(n=window.event,n=n===void 0?16:yP(n.type)),n):1}function Qs(n,e,t,r){if(50<Wp)throw Wp=0,x1=null,Error(q(185));iv(n,t,r),(!(We&2)||n!==fn)&&(n===fn&&(!(We&2)&&(F0|=t),en===4&&Eo(n,En)),br(n,r),t===1&&We===0&&!(e.mode&1)&&(Sf=Dt()+500,O0&&Ql()))}function br(n,e){var t=n.callbackNode;k4(n,e);var r=lx(n,n===fn?En:0);if(r===0)t!==null&&vT(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&vT(t),e===1)n.tag===0?P5(cR.bind(null,n)):LP(cR.bind(null,n)),C5(function(){!(We&6)&&Ql()}),t=null;else{switch(hP(r)){case 1:t=WE;break;case 4:t=cP;break;case 16:t=ox;break;case 536870912:t=uP;break;default:t=ox}t=jk(t,Nk.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function Nk(n,e){if(vy=-1,yy=0,We&6)throw Error(q(327));var t=n.callbackNode;if(Wd()&&n.callbackNode!==t)return null;var r=lx(n,n===fn?En:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Tx(n,r);else{e=r;var s=We;We|=2;var i=kk();(fn!==n||En!==e)&&(ra=null,Sf=Dt()+500,ju(n,e));do try{Q5();break}catch(o){Pk(n,o)}while(!0);sA(),Ex.current=i,We=s,Ht!==null?e=0:(fn=null,En=0,e=en)}if(e!==0){if(e===2&&(s=Gb(n),s!==0&&(r=s,e=w1(n,s))),e===1)throw t=hm,ju(n,0),Eo(n,r),br(n,Dt()),t;if(e===6)Eo(n,r);else{if(s=n.current.alternate,!(r&30)&&!Y5(s)&&(e=Tx(n,r),e===2&&(i=Gb(n),i!==0&&(r=i,e=w1(n,i))),e===1))throw t=hm,ju(n,0),Eo(n,r),br(n,Dt()),t;switch(n.finishedWork=s,n.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:rc(n,vr,ra);break;case 3:if(Eo(n,r),(r&130023424)===r&&(e=xA+500-Dt(),10<e)){if(lx(n,0)!==0)break;if(s=n.suspendedLanes,(s&r)!==r){qn(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=e1(rc.bind(null,n,vr,ra),e);break}rc(n,vr,ra);break;case 4:if(Eo(n,r),(r&4194240)===r)break;for(e=n.eventTimes,s=-1;0<r;){var a=31-Xs(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=Dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*K5(r/1960))-r,10<r){n.timeoutHandle=e1(rc.bind(null,n,vr,ra),r);break}rc(n,vr,ra);break;case 5:rc(n,vr,ra);break;default:throw Error(q(329))}}}return br(n,Dt()),n.callbackNode===t?Nk.bind(null,n):null}function w1(n,e){var t=Hp;return n.current.memoizedState.isDehydrated&&(ju(n,e).flags|=256),n=Tx(n,e),n!==2&&(e=vr,vr=t,e!==null&&b1(e)),n}function b1(n){vr===null?vr=n:vr.push.apply(vr,n)}function Y5(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var s=t[r],i=s.getSnapshot;s=s.value;try{if(!Zs(i(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Eo(n,e){for(e&=~yA,e&=~F0,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Xs(e),r=1<<t;n[t]=-1,e&=~r}}function cR(n){if(We&6)throw Error(q(327));Wd();var e=lx(n,0);if(!(e&1))return br(n,Dt()),null;var t=Tx(n,e);if(n.tag!==0&&t===2){var r=Gb(n);r!==0&&(e=r,t=w1(n,r))}if(t===1)throw t=hm,ju(n,0),Eo(n,e),br(n,Dt()),t;if(t===6)throw Error(q(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,rc(n,vr,ra),br(n,Dt()),null}function wA(n,e){var t=We;We|=1;try{return n(e)}finally{We=t,We===0&&(Sf=Dt()+500,O0&&Ql())}}function Uu(n){bl!==null&&bl.tag===0&&!(We&6)&&Wd();var e=We;We|=1;var t=fs.transition,r=st;try{if(fs.transition=null,st=1,n)return n()}finally{st=r,fs.transition=t,We=e,!(We&6)&&Ql()}}function bA(){$r=Od.current,gt(Od)}function ju(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,A5(t)),Ht!==null)for(t=Ht.return;t!==null;){var r=t;switch(tA(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fx();break;case 3:wf(),gt(xr),gt(Dn),uA();break;case 5:cA(r);break;case 4:wf();break;case 13:gt(Ct);break;case 19:gt(Ct);break;case 10:iA(r.type._context);break;case 22:case 23:bA()}t=t.return}if(fn=n,Ht=n=Il(n.current,null),En=$r=e,en=0,hm=null,yA=F0=zu=0,vr=Hp=null,uc!==null){for(e=0;e<uc.length;e++)if(t=uc[e],r=t.interleaved,r!==null){t.interleaved=null;var s=r.next,i=t.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}t.pending=r}uc=null}return n}function Pk(n,e){do{var t=Ht;try{if(sA(),py.current=Sx,bx){for(var r=Tt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}bx=!1}if(Bu=0,hn=Jt=Tt=null,Up=!1,cm=0,vA.current=null,t===null||t.return===null){en=1,hm=e,Ht=null;break}e:{var i=n,a=t.return,o=t,l=e;if(e=En,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=QT(a);if(m!==null){m.flags&=-257,ZT(m,a,o,i,e),m.mode&1&&XT(i,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){XT(i,c,e),SA();break e}l=Error(q(426))}}else if(St&&o.mode&1){var y=QT(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),ZT(y,a,o,i,e),nA(bf(l,o));break e}}i=l=bf(l,o),en!==4&&(en=2),Hp===null?Hp=[i]:Hp.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=hk(i,l,e);VT(i,x);break e;case 1:o=l;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Pl===null||!Pl.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=fk(i,o,e);VT(i,E);break e}}i=i.return}while(i!==null)}_k(t)}catch(C){e=C,Ht===t&&t!==null&&(Ht=t=t.return);continue}break}while(!0)}function kk(){var n=Ex.current;return Ex.current=Sx,n===null?Sx:n}function SA(){(en===0||en===3||en===2)&&(en=4),fn===null||!(zu&268435455)&&!(F0&268435455)||Eo(fn,En)}function Tx(n,e){var t=We;We|=2;var r=kk();(fn!==n||En!==e)&&(ra=null,ju(n,e));do try{X5();break}catch(s){Pk(n,s)}while(!0);if(sA(),We=t,Ex.current=r,Ht!==null)throw Error(q(261));return fn=null,En=0,en}function X5(){for(;Ht!==null;)Ik(Ht)}function Q5(){for(;Ht!==null&&!b4();)Ik(Ht)}function Ik(n){var e=Ok(n.alternate,n,$r);n.memoizedProps=n.pendingProps,e===null?_k(n):Ht=e,vA.current=null}function _k(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=V5(t,e),t!==null){t.flags&=32767,Ht=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{en=6,Ht=null;return}}else if(t=U5(t,e,$r),t!==null){Ht=t;return}if(e=e.sibling,e!==null){Ht=e;return}Ht=e=n}while(e!==null);en===0&&(en=5)}function rc(n,e,t){var r=st,s=fs.transition;try{fs.transition=null,st=1,Z5(n,e,t,r)}finally{fs.transition=s,st=r}return null}function Z5(n,e,t,r){do Wd();while(bl!==null);if(We&6)throw Error(q(327));t=n.finishedWork;var s=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(q(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(I4(n,i),n===fn&&(Ht=fn=null,En=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Vv||(Vv=!0,jk(ox,function(){return Wd(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=fs.transition,fs.transition=null;var a=st;st=1;var o=We;We|=4,vA.current=null,W5(n,t),Tk(t,n),v5(Jb),cx=!!Zb,Jb=Zb=null,n.current=t,G5(t),S4(),We=o,st=a,fs.transition=i}else n.current=t;if(Vv&&(Vv=!1,bl=n,Cx=s),i=n.pendingLanes,i===0&&(Pl=null),C4(t.stateNode),br(n,Dt()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)s=e[t],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ax)throw Ax=!1,n=y1,y1=null,n;return Cx&1&&n.tag!==0&&Wd(),i=n.pendingLanes,i&1?n===x1?Wp++:(Wp=0,x1=n):Wp=0,Ql(),null}function Wd(){if(bl!==null){var n=hP(Cx),e=fs.transition,t=st;try{if(fs.transition=null,st=16>n?16:n,bl===null)var r=!1;else{if(n=bl,bl=null,Cx=0,We&6)throw Error(q(331));var s=We;for(We|=4,ge=n.current;ge!==null;){var i=ge,a=i.child;if(ge.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(ge=c;ge!==null;){var d=ge;switch(d.tag){case 0:case 11:case 15:Vp(8,d,i)}var h=d.child;if(h!==null)h.return=d,ge=h;else for(;ge!==null;){d=ge;var p=d.sibling,m=d.return;if(Ek(d),d===c){ge=null;break}if(p!==null){p.return=m,ge=p;break}ge=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}ge=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ge=a;else e:for(;ge!==null;){if(i=ge,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Vp(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ge=x;break e}ge=i.return}}var w=n.current;for(ge=w;ge!==null;){a=ge;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ge=b;else e:for(a=w;ge!==null;){if(o=ge,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:L0(9,o)}}catch(C){It(o,o.return,C)}if(o===a){ge=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,ge=E;break e}ge=o.return}}if(We=s,Ql(),Li&&typeof Li.onPostCommitFiberRoot=="function")try{Li.onPostCommitFiberRoot(P0,n)}catch{}r=!0}return r}finally{st=t,fs.transition=e}}return!1}function uR(n,e,t){e=bf(t,e),e=hk(n,e,1),n=Nl(n,e,1),e=qn(),n!==null&&(iv(n,1,e),br(n,e))}function It(n,e,t){if(n.tag===3)uR(n,n,t);else for(;e!==null;){if(e.tag===3){uR(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pl===null||!Pl.has(r))){n=bf(t,n),n=fk(e,n,1),e=Nl(e,n,1),n=qn(),e!==null&&(iv(e,1,n),br(e,n));break}}e=e.return}}function J5(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=qn(),n.pingedLanes|=n.suspendedLanes&t,fn===n&&(En&t)===t&&(en===4||en===3&&(En&130023424)===En&&500>Dt()-xA?ju(n,0):yA|=t),br(n,e)}function Mk(n,e){e===0&&(n.mode&1?(e=Mv,Mv<<=1,!(Mv&130023424)&&(Mv=4194304)):e=1);var t=qn();n=to(n,e),n!==null&&(iv(n,e,t),br(n,t))}function q5(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Mk(n,t)}function e3(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,s=n.memoizedState;s!==null&&(t=s.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),Mk(n,t)}var Ok;Ok=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||xr.current)yr=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return yr=!1,z5(n,e,t);yr=!!(n.flags&131072)}else yr=!1,St&&e.flags&1048576&&FP(e,gx,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gy(n,e),n=e.pendingProps;var s=vf(e,Dn.current);Hd(e,t),s=hA(null,e,r,n,s,t);var i=fA();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wr(r)?(i=!0,px(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,oA(e),s.updater=D0,e.stateNode=s,s._reactInternals=e,o1(e,r,n,t),e=u1(null,e,r,!0,i,t)):(e.tag=0,St&&i&&eA(e),Yn(null,e,s,t),e=e.child),e;case 16:r=e.elementType;e:{switch(gy(n,e),n=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=n3(r),n=Ns(r,n),s){case 0:e=c1(null,e,r,n,t);break e;case 1:e=eR(null,e,r,n,t);break e;case 11:e=JT(null,e,r,n,t);break e;case 14:e=qT(null,e,r,Ns(r.type,n),t);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ns(r,s),c1(n,e,r,s,t);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ns(r,s),eR(n,e,r,s,t);case 3:e:{if(vk(e),n===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,HP(n,e),xx(e,r,null,t);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=bf(Error(q(423)),e),e=tR(n,e,r,t,s);break e}else if(r!==s){s=bf(Error(q(424)),e),e=tR(n,e,r,t,s);break e}else for(Hr=Rl(e.stateNode.containerInfo.firstChild),Wr=e,St=!0,Hs=null,t=UP(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(yf(),r===s){e=no(n,e,t);break e}Yn(n,e,r,t)}e=e.child}return e;case 5:return WP(e),n===null&&s1(e),r=e.type,s=e.pendingProps,i=n!==null?n.memoizedProps:null,a=s.children,qb(r,s)?a=null:i!==null&&qb(r,i)&&(e.flags|=32),gk(n,e),Yn(n,e,a,t),e.child;case 6:return n===null&&s1(e),null;case 13:return yk(n,e,t);case 4:return lA(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=xf(e,null,r,t):Yn(n,e,r,t),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ns(r,s),JT(n,e,r,s,t);case 7:return Yn(n,e,e.pendingProps,t),e.child;case 8:return Yn(n,e,e.pendingProps.children,t),e.child;case 12:return Yn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,ht(vx,r._currentValue),r._currentValue=a,i!==null)if(Zs(i.value,a)){if(i.children===s.children&&!xr.current){e=no(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ga(-1,t&-t),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=t,l=i.alternate,l!==null&&(l.lanes|=t),i1(i.return,t,e),o.lanes|=t;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(q(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),i1(a,t,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Yn(n,e,s.children,t),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Hd(e,t),s=gs(s),r=r(s),e.flags|=1,Yn(n,e,r,t),e.child;case 14:return r=e.type,s=Ns(r,e.pendingProps),s=Ns(r.type,s),qT(n,e,r,s,t);case 15:return pk(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ns(r,s),gy(n,e),e.tag=1,wr(r)?(n=!0,px(e)):n=!1,Hd(e,t),dk(e,r,s),o1(e,r,s,t),u1(null,e,r,!0,n,t);case 19:return xk(n,e,t);case 22:return mk(n,e,t)}throw Error(q(156,e.tag))};function jk(n,e){return lP(n,e)}function t3(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ds(n,e,t,r){return new t3(n,e,t,r)}function EA(n){return n=n.prototype,!(!n||!n.isReactComponent)}function n3(n){if(typeof n=="function")return EA(n)?1:0;if(n!=null){if(n=n.$$typeof,n===UE)return 11;if(n===VE)return 14}return 2}function Il(n,e){var t=n.alternate;return t===null?(t=ds(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function xy(n,e,t,r,s,i){var a=2;if(r=n,typeof n=="function")EA(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case Ad:return Du(t.children,s,i,e);case zE:a=8,s|=8;break;case Ib:return n=ds(12,t,e,s|2),n.elementType=Ib,n.lanes=i,n;case _b:return n=ds(13,t,e,s),n.elementType=_b,n.lanes=i,n;case Mb:return n=ds(19,t,e,s),n.elementType=Mb,n.lanes=i,n;case W2:return $0(t,s,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case V2:a=10;break e;case H2:a=9;break e;case UE:a=11;break e;case VE:a=14;break e;case xo:a=16,r=null;break e}throw Error(q(130,n==null?n:typeof n,""))}return e=ds(a,t,e,s),e.elementType=n,e.type=r,e.lanes=i,e}function Du(n,e,t,r){return n=ds(7,n,r,e),n.lanes=t,n}function $0(n,e,t,r){return n=ds(22,n,r,e),n.elementType=W2,n.lanes=t,n.stateNode={isHidden:!1},n}function Jw(n,e,t){return n=ds(6,n,null,e),n.lanes=t,n}function qw(n,e,t){return e=ds(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function r3(n,e,t,r,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mw(0),this.expirationTimes=Mw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mw(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function AA(n,e,t,r,s,i,a,o,l){return n=new r3(n,e,t,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ds(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},oA(i),n}function s3(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ed,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function Dk(n){if(!n)return Fl;n=n._reactInternals;e:{if(td(n)!==n||n.tag!==1)throw Error(q(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(n.tag===1){var t=n.type;if(wr(t))return DP(n,t,e)}return e}function Lk(n,e,t,r,s,i,a,o,l){return n=AA(t,r,!0,n,s,i,a,o,l),n.context=Dk(null),t=n.current,r=qn(),s=kl(t),i=Ga(r,s),i.callback=e??null,Nl(t,i,s),n.current.lanes=s,iv(n,s,r),br(n,r),n}function B0(n,e,t,r){var s=e.current,i=qn(),a=kl(s);return t=Dk(t),e.context===null?e.context=t:e.pendingContext=t,e=Ga(i,a),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Nl(s,e,a),n!==null&&(Qs(n,s,a,i),fy(n,s,a)),a}function Rx(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function dR(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function CA(n,e){dR(n,e),(n=n.alternate)&&dR(n,e)}function i3(){return null}var Fk=typeof reportError=="function"?reportError:function(n){console.error(n)};function TA(n){this._internalRoot=n}z0.prototype.render=TA.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(q(409));B0(n,e,null,null)};z0.prototype.unmount=TA.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Uu(function(){B0(null,n,null,null)}),e[eo]=null}};function z0(n){this._internalRoot=n}z0.prototype.unstable_scheduleHydration=function(n){if(n){var e=mP();n={blockedOn:null,target:n,priority:e};for(var t=0;t<So.length&&e!==0&&e<So[t].priority;t++);So.splice(t,0,n),t===0&&vP(n)}};function RA(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function U0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function hR(){}function a3(n,e,t,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Rx(a);i.call(c)}}var a=Lk(e,r,n,0,null,!1,!1,"",hR);return n._reactRootContainer=a,n[eo]=a.current,sm(n.nodeType===8?n.parentNode:n),Uu(),a}for(;s=n.lastChild;)n.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var c=Rx(l);o.call(c)}}var l=AA(n,0,!1,null,null,!1,!1,"",hR);return n._reactRootContainer=l,n[eo]=l.current,sm(n.nodeType===8?n.parentNode:n),Uu(function(){B0(e,l,t,r)}),l}function V0(n,e,t,r,s){var i=t._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Rx(a);o.call(l)}}B0(e,a,n,s)}else a=a3(t,e,n,s,r);return Rx(a)}fP=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=dp(e.pendingLanes);t!==0&&(GE(e,t|1),br(e,Dt()),!(We&6)&&(Sf=Dt()+500,Ql()))}break;case 13:Uu(function(){var r=to(n,1);if(r!==null){var s=qn();Qs(r,n,1,s)}}),CA(n,1)}};KE=function(n){if(n.tag===13){var e=to(n,134217728);if(e!==null){var t=qn();Qs(e,n,134217728,t)}CA(n,134217728)}};pP=function(n){if(n.tag===13){var e=kl(n),t=to(n,e);if(t!==null){var r=qn();Qs(t,n,e,r)}CA(n,e)}};mP=function(){return st};gP=function(n,e){var t=st;try{return st=n,e()}finally{st=t}};Vb=function(n,e,t){switch(e){case"input":if(Db(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var s=M0(r);if(!s)throw Error(q(90));K2(r),Db(r,s)}}}break;case"textarea":X2(n,t);break;case"select":e=t.value,e!=null&&Bd(n,!!t.multiple,e,!1)}};nP=wA;rP=Uu;var o3={usingClientEntryPoint:!1,Events:[ov,Nd,M0,eP,tP,wA]},ep={findFiberByHostInstance:cc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l3={bundleType:ep.bundleType,version:ep.version,rendererPackageName:ep.rendererPackageName,rendererConfig:ep.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=aP(n),n===null?null:n.stateNode},findFiberByHostInstance:ep.findFiberByHostInstance||i3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hv.isDisabled&&Hv.supportsFiber)try{P0=Hv.inject(l3),Li=Hv}catch{}}Qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o3;Qr.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!RA(e))throw Error(q(200));return s3(n,e,null,t)};Qr.createRoot=function(n,e){if(!RA(n))throw Error(q(299));var t=!1,r="",s=Fk;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=AA(n,1,!1,null,null,t,!1,r,s),n[eo]=e.current,sm(n.nodeType===8?n.parentNode:n),new TA(e)};Qr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(q(188)):(n=Object.keys(n).join(","),Error(q(268,n)));return n=aP(e),n=n===null?null:n.stateNode,n};Qr.flushSync=function(n){return Uu(n)};Qr.hydrate=function(n,e,t){if(!U0(e))throw Error(q(200));return V0(null,n,e,!0,t)};Qr.hydrateRoot=function(n,e,t){if(!RA(n))throw Error(q(405));var r=t!=null&&t.hydratedSources||null,s=!1,i="",a=Fk;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=Lk(e,null,n,1,t??null,s,!1,i,a),n[eo]=e.current,sm(n),r)for(n=0;n<r.length;n++)t=r[n],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new z0(e)};Qr.render=function(n,e,t){if(!U0(e))throw Error(q(200));return V0(null,n,e,!1,t)};Qr.unmountComponentAtNode=function(n){if(!U0(n))throw Error(q(40));return n._reactRootContainer?(Uu(function(){V0(null,null,n,!1,function(){n._reactRootContainer=null,n[eo]=null})}),!0):!1};Qr.unstable_batchedUpdates=wA;Qr.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!U0(t))throw Error(q(200));if(n==null||n._reactInternals===void 0)throw Error(q(38));return V0(n,e,t,!1,r)};Qr.version="18.3.1-next-f1338f8080-20240426";function $k(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($k)}catch(n){console.error(n)}}$k(),$2.exports=Qr;var nd=$2.exports;const Bk=R2(nd);var fR=nd;Pb.createRoot=fR.createRoot,Pb.hydrateRoot=fR.hydrateRoot;const c3=1,u3=1e6;let eb=0;function d3(){return eb=(eb+1)%Number.MAX_SAFE_INTEGER,eb.toString()}const tb=new Map,pR=n=>{if(tb.has(n))return;const e=setTimeout(()=>{tb.delete(n),Gp({type:"REMOVE_TOAST",toastId:n})},u3);tb.set(n,e)},h3=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,c3)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?pR(t):n.toasts.forEach(r=>{pR(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},wy=[];let by={toasts:[]};function Gp(n){by=h3(by,n),wy.forEach(e=>{e(by)})}function f3({...n}){const e=d3(),t=s=>Gp({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Gp({type:"DISMISS_TOAST",toastId:e});return Gp({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:t}}function ys(){const[n,e]=S.useState(by);return S.useEffect(()=>(wy.push(e),()=>{const t=wy.indexOf(e);t>-1&&wy.splice(t,1)}),[n]),{...n,toast:f3,dismiss:t=>Gp({type:"DISMISS_TOAST",toastId:t})}}function re(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n==null||n(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function mR(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function H0(...n){return e=>{let t=!1;const r=n.map(s=>{const i=mR(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():mR(n[s],null)}}}}function Oe(...n){return S.useCallback(H0(...n),n)}function p3(n,e){const t=S.createContext(e),r=i=>{const{children:a,...o}=i,l=S.useMemo(()=>o,Object.values(o));return f.jsx(t.Provider,{value:l,children:a})};r.displayName=n+"Provider";function s(i){const a=S.useContext(t);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${n}\``)}return[r,s]}function rr(n,e=[]){let t=[];function r(i,a){const o=S.createContext(a),l=t.length;t=[...t,a];const c=h=>{var x;const{scope:p,children:m,...v}=h,g=((x=p==null?void 0:p[n])==null?void 0:x[l])||o,y=S.useMemo(()=>v,Object.values(v));return f.jsx(g.Provider,{value:y,children:m})};c.displayName=i+"Provider";function d(h,p){var g;const m=((g=p==null?void 0:p[n])==null?void 0:g[l])||o,v=S.useContext(m);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=t.map(a=>S.createContext(a));return function(o){const l=(o==null?void 0:o[n])||i;return S.useMemo(()=>({[`__scope${n}`]:{...o,[n]:l}}),[o,l])}};return s.scopeName=n,[r,m3(s,...e)]}function m3(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((o,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...o,...h}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}function Vu(n){const e=g3(n),t=S.forwardRef((r,s)=>{const{children:i,...a}=r,o=S.Children.toArray(i),l=o.find(y3);if(l){const c=l.props.children,d=o.map(h=>h===l?S.Children.count(c)>1?S.Children.only(null):S.isValidElement(c)?c.props.children:null:h);return f.jsx(e,{...a,ref:s,children:S.isValidElement(c)?S.cloneElement(c,void 0,d):null})}return f.jsx(e,{...a,ref:s,children:i})});return t.displayName=`${n}.Slot`,t}var zk=Vu("Slot");function g3(n){const e=S.forwardRef((t,r)=>{const{children:s,...i}=t;if(S.isValidElement(s)){const a=w3(s),o=x3(i,s.props);return s.type!==S.Fragment&&(o.ref=r?H0(r,a):a),S.cloneElement(s,o)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var Uk=Symbol("radix.slottable");function v3(n){const e=({children:t})=>f.jsx(f.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=Uk,e}function y3(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Uk}function x3(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...o)=>{const l=i(...o);return s(...o),l}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function w3(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function cv(n){const e=n+"CollectionProvider",[t,r]=rr(e),[s,i]=t(e,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:y,children:x}=g,w=X.useRef(null),b=X.useRef(new Map).current;return f.jsx(s,{scope:y,itemMap:b,collectionRef:w,children:x})};a.displayName=e;const o=n+"CollectionSlot",l=Vu(o),c=X.forwardRef((g,y)=>{const{scope:x,children:w}=g,b=i(o,x),E=Oe(y,b.collectionRef);return f.jsx(l,{ref:E,children:w})});c.displayName=o;const d=n+"CollectionItemSlot",h="data-radix-collection-item",p=Vu(d),m=X.forwardRef((g,y)=>{const{scope:x,children:w,...b}=g,E=X.useRef(null),C=Oe(y,E),R=i(d,x);return X.useEffect(()=>(R.itemMap.set(E,{ref:E,...b}),()=>void R.itemMap.delete(E))),f.jsx(p,{[h]:"",ref:C,children:w})});m.displayName=d;function v(g){const y=i(n+"CollectionConsumer",g);return X.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((R,P)=>b.indexOf(R.ref.current)-b.indexOf(P.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:c,ItemSlot:m},v,r]}var b3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],be=b3.reduce((n,e)=>{const t=Vu(`Primitive.${e}`),r=S.forwardRef((s,i)=>{const{asChild:a,...o}=s,l=a?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...o,ref:i})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function NA(n,e){n&&nd.flushSync(()=>n.dispatchEvent(e))}function Sr(n){const e=S.useRef(n);return S.useEffect(()=>{e.current=n}),S.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function S3(n,e=globalThis==null?void 0:globalThis.document){const t=Sr(n);S.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var E3="DismissableLayer",S1="dismissableLayer.update",A3="dismissableLayer.pointerDownOutside",C3="dismissableLayer.focusOutside",gR,Vk=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Of=S.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:o,...l}=n,c=S.useContext(Vk),[d,h]=S.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=S.useState({}),v=Oe(e,P=>h(P)),g=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(y),w=d?g.indexOf(d):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,E=w>=x,C=R3(P=>{const k=P.target,I=[...c.branches].some(_=>_.contains(k));!E||I||(s==null||s(P),a==null||a(P),P.defaultPrevented||o==null||o())},p),R=N3(P=>{const k=P.target;[...c.branches].some(_=>_.contains(k))||(i==null||i(P),a==null||a(P),P.defaultPrevented||o==null||o())},p);return S3(P=>{w===c.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&o&&(P.preventDefault(),o()))},p),S.useEffect(()=>{if(d)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(gR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),vR(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=gR)}},[d,p,t,c]),S.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),vR())},[d,c]),S.useEffect(()=>{const P=()=>m({});return document.addEventListener(S1,P),()=>document.removeEventListener(S1,P)},[]),f.jsx(be.div,{...l,ref:v,style:{pointerEvents:b?E?"auto":"none":void 0,...n.style},onFocusCapture:re(n.onFocusCapture,R.onFocusCapture),onBlurCapture:re(n.onBlurCapture,R.onBlurCapture),onPointerDownCapture:re(n.onPointerDownCapture,C.onPointerDownCapture)})});Of.displayName=E3;var T3="DismissableLayerBranch",Hk=S.forwardRef((n,e)=>{const t=S.useContext(Vk),r=S.useRef(null),s=Oe(e,r);return S.useEffect(()=>{const i=r.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),f.jsx(be.div,{...n,ref:s})});Hk.displayName=T3;function R3(n,e=globalThis==null?void 0:globalThis.document){const t=Sr(n),r=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const i=o=>{if(o.target&&!r.current){let l=function(){Wk(A3,t,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function N3(n,e=globalThis==null?void 0:globalThis.document){const t=Sr(n),r=S.useRef(!1);return S.useEffect(()=>{const s=i=>{i.target&&!r.current&&Wk(C3,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function vR(){const n=new CustomEvent(S1);document.dispatchEvent(n)}function Wk(n,e,t,{discrete:r}){const s=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?NA(s,i):s.dispatchEvent(i)}var P3=Of,k3=Hk,Tn=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},I3="Portal",uv=S.forwardRef((n,e)=>{var o;const{container:t,...r}=n,[s,i]=S.useState(!1);Tn(()=>i(!0),[]);const a=t||s&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?Bk.createPortal(f.jsx(be.div,{...r,ref:e}),a):null});uv.displayName=I3;function _3(n,e){return S.useReducer((t,r)=>e[t][r]??t,n)}var Jr=n=>{const{present:e,children:t}=n,r=M3(e),s=typeof t=="function"?t({present:r.isPresent}):S.Children.only(t),i=Oe(r.ref,O3(s));return typeof t=="function"||r.isPresent?S.cloneElement(s,{ref:i}):null};Jr.displayName="Presence";function M3(n){const[e,t]=S.useState(),r=S.useRef(null),s=S.useRef(n),i=S.useRef("none"),a=n?"mounted":"unmounted",[o,l]=_3(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=Wv(r.current);i.current=o==="mounted"?c:"none"},[o]),Tn(()=>{const c=r.current,d=s.current;if(d!==n){const p=i.current,m=Wv(c);n?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,l]),Tn(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=m=>{const g=Wv(r.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},p=m=>{m.target===e&&(i.current=Wv(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:S.useCallback(c=>{r.current=c?getComputedStyle(c):null,t(c)},[])}}function Wv(n){return(n==null?void 0:n.animationName)||"none"}function O3(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var j3=LE[" useInsertionEffect ".trim().toString()]||Tn;function Ui({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,i,a]=D3({defaultProp:e,onChange:t}),o=n!==void 0,l=o?n:s;{const d=S.useRef(n!==void 0);S.useEffect(()=>{const h=d.current;h!==o&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,r])}const c=S.useCallback(d=>{var h;if(o){const p=L3(d)?d(n):d;p!==n&&((h=a.current)==null||h.call(a,p))}else i(d)},[o,n,i,a]);return[l,c]}function D3({defaultProp:n,onChange:e}){const[t,r]=S.useState(n),s=S.useRef(t),i=S.useRef(e);return j3(()=>{i.current=e},[e]),S.useEffect(()=>{var a;s.current!==t&&((a=i.current)==null||a.call(i,t),s.current=t)},[t,s]),[t,r,i]}function L3(n){return typeof n=="function"}var Gk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),F3="VisuallyHidden",W0=S.forwardRef((n,e)=>f.jsx(be.span,{...n,ref:e,style:{...Gk,...n.style}}));W0.displayName=F3;var $3=W0,PA="ToastProvider",[kA,B3,z3]=cv("Toast"),[Kk,SK]=rr("Toast",[z3]),[U3,G0]=Kk(PA),Yk=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=n,[o,l]=S.useState(null),[c,d]=S.useState(0),h=S.useRef(!1),p=S.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${PA}\`. Expected non-empty \`string\`.`),f.jsx(kA.Provider,{scope:e,children:f.jsx(U3,{scope:e,label:t,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:S.useCallback(()=>d(m=>m+1),[]),onToastRemove:S.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:a})})};Yk.displayName=PA;var Xk="ToastViewport",V3=["F8"],E1="toast.viewportPause",A1="toast.viewportResume",Qk=S.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=V3,label:s="Notifications ({hotkey})",...i}=n,a=G0(Xk,t),o=B3(t),l=S.useRef(null),c=S.useRef(null),d=S.useRef(null),h=S.useRef(null),p=Oe(e,h,a.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=a.toastCount>0;S.useEffect(()=>{const y=x=>{var b;r.length!==0&&r.every(E=>x[E]||x.code===E)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),S.useEffect(()=>{const y=l.current,x=h.current;if(v&&y&&x){const w=()=>{if(!a.isClosePausedRef.current){const R=new CustomEvent(E1);x.dispatchEvent(R),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const R=new CustomEvent(A1);x.dispatchEvent(R),a.isClosePausedRef.current=!1}},E=R=>{!y.contains(R.relatedTarget)&&b()},C=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",w),y.addEventListener("focusout",E),y.addEventListener("pointermove",w),y.addEventListener("pointerleave",C),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",w),y.removeEventListener("focusout",E),y.removeEventListener("pointermove",w),y.removeEventListener("pointerleave",C),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[v,a.isClosePausedRef]);const g=S.useCallback(({tabbingDirection:y})=>{const w=o().map(b=>{const E=b.ref.current,C=[E,...n6(E)];return y==="forwards"?C:C.reverse()});return(y==="forwards"?w.reverse():w).flat()},[o]);return S.useEffect(()=>{const y=h.current;if(y){const x=w=>{var C,R,P;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const k=document.activeElement,I=w.shiftKey;if(w.target===y&&I){(C=c.current)==null||C.focus();return}const M=g({tabbingDirection:I?"backwards":"forwards"}),z=M.findIndex(D=>D===k);nb(M.slice(z+1))?w.preventDefault():I?(R=c.current)==null||R.focus():(P=d.current)==null||P.focus()}};return y.addEventListener("keydown",x),()=>y.removeEventListener("keydown",x)}},[o,g]),f.jsxs(k3,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&f.jsx(C1,{ref:c,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});nb(y)}}),f.jsx(kA.Slot,{scope:t,children:f.jsx(be.ol,{tabIndex:-1,...i,ref:p})}),v&&f.jsx(C1,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});nb(y)}})]})});Qk.displayName=Xk;var Zk="ToastFocusProxy",C1=S.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...s}=n,i=G0(Zk,t);return f.jsx(W0,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var c;const o=a.relatedTarget;!((c=i.viewport)!=null&&c.contains(o))&&r()}})});C1.displayName=Zk;var dv="Toast",H3="toast.swipeStart",W3="toast.swipeMove",G3="toast.swipeCancel",K3="toast.swipeEnd",Jk=S.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:s,onOpenChange:i,...a}=n,[o,l]=Ui({prop:r,defaultProp:s??!0,onChange:i,caller:dv});return f.jsx(Jr,{present:t||o,children:f.jsx(Q3,{open:o,...a,ref:e,onClose:()=>l(!1),onPause:Sr(n.onPause),onResume:Sr(n.onResume),onSwipeStart:re(n.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:re(n.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:re(n.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:re(n.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});Jk.displayName=dv;var[Y3,X3]=Kk(dv,{onClose(){}}),Q3=S.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:m,...v}=n,g=G0(dv,t),[y,x]=S.useState(null),w=Oe(e,D=>x(D)),b=S.useRef(null),E=S.useRef(null),C=s||g.duration,R=S.useRef(0),P=S.useRef(C),k=S.useRef(0),{onToastAdd:I,onToastRemove:_}=g,O=Sr(()=>{var K;(y==null?void 0:y.contains(document.activeElement))&&((K=g.viewport)==null||K.focus()),a()}),M=S.useCallback(D=>{!D||D===1/0||(window.clearTimeout(k.current),R.current=new Date().getTime(),k.current=window.setTimeout(O,D))},[O]);S.useEffect(()=>{const D=g.viewport;if(D){const K=()=>{M(P.current),c==null||c()},B=()=>{const U=new Date().getTime()-R.current;P.current=P.current-U,window.clearTimeout(k.current),l==null||l()};return D.addEventListener(E1,B),D.addEventListener(A1,K),()=>{D.removeEventListener(E1,B),D.removeEventListener(A1,K)}}},[g.viewport,C,l,c,M]),S.useEffect(()=>{i&&!g.isClosePausedRef.current&&M(C)},[i,C,g.isClosePausedRef,M]),S.useEffect(()=>(I(),()=>_()),[I,_]);const z=S.useMemo(()=>y?iI(y):null,[y]);return g.viewport?f.jsxs(f.Fragment,{children:[z&&f.jsx(Z3,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),f.jsx(Y3,{scope:t,onClose:O,children:nd.createPortal(f.jsx(kA.ItemSlot,{scope:t,children:f.jsx(P3,{asChild:!0,onEscapeKeyDown:re(o,()=>{g.isFocusedToastEscapeKeyDownRef.current||O(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:w,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:re(n.onKeyDown,D=>{D.key==="Escape"&&(o==null||o(D.nativeEvent),D.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:re(n.onPointerDown,D=>{D.button===0&&(b.current={x:D.clientX,y:D.clientY})}),onPointerMove:re(n.onPointerMove,D=>{if(!b.current)return;const K=D.clientX-b.current.x,B=D.clientY-b.current.y,U=!!E.current,$=["left","right"].includes(g.swipeDirection),F=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,H=$?F(0,K):0,J=$?0:F(0,B),Z=D.pointerType==="touch"?10:2,te={x:H,y:J},ye={originalEvent:D,delta:te};U?(E.current=te,Gv(W3,h,ye,{discrete:!1})):yR(te,g.swipeDirection,Z)?(E.current=te,Gv(H3,d,ye,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(K)>Z||Math.abs(B)>Z)&&(b.current=null)}),onPointerUp:re(n.onPointerUp,D=>{const K=E.current,B=D.target;if(B.hasPointerCapture(D.pointerId)&&B.releasePointerCapture(D.pointerId),E.current=null,b.current=null,K){const U=D.currentTarget,$={originalEvent:D,delta:K};yR(K,g.swipeDirection,g.swipeThreshold)?Gv(K3,m,$,{discrete:!0}):Gv(G3,p,$,{discrete:!0}),U.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Z3=n=>{const{__scopeToast:e,children:t,...r}=n,s=G0(dv,e),[i,a]=S.useState(!1),[o,l]=S.useState(!1);return e6(()=>a(!0)),S.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),o?null:f.jsx(uv,{asChild:!0,children:f.jsx(W0,{...r,children:i&&f.jsxs(f.Fragment,{children:[s.label," ",t]})})})},J3="ToastTitle",qk=S.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return f.jsx(be.div,{...r,ref:e})});qk.displayName=J3;var q3="ToastDescription",eI=S.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return f.jsx(be.div,{...r,ref:e})});eI.displayName=q3;var tI="ToastAction",nI=S.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?f.jsx(sI,{altText:t,asChild:!0,children:f.jsx(IA,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${tI}\`. Expected non-empty \`string\`.`),null)});nI.displayName=tI;var rI="ToastClose",IA=S.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,s=X3(rI,t);return f.jsx(sI,{asChild:!0,children:f.jsx(be.button,{type:"button",...r,ref:e,onClick:re(n.onClick,s.onClose)})})});IA.displayName=rI;var sI=S.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...s}=n;return f.jsx(be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function iI(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),t6(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...iI(r))}}),e}function Gv(n,e,t,{discrete:r}){const s=t.originalEvent.currentTarget,i=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?NA(s,i):s.dispatchEvent(i)}var yR=(n,e,t=0)=>{const r=Math.abs(n.x),s=Math.abs(n.y),i=r>s;return e==="left"||e==="right"?i&&r>t:!i&&s>t};function e6(n=()=>{}){const e=Sr(n);Tn(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function t6(n){return n.nodeType===n.ELEMENT_NODE}function n6(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function nb(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var r6=Yk,aI=Qk,oI=Jk,lI=qk,cI=eI,uI=nI,dI=IA;function hI(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=hI(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function fI(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=hI(n))&&(r&&(r+=" "),r+=e);return r}const xR=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,wR=fI,_A=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return wR(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(c=>{const d=t==null?void 0:t[c],h=i==null?void 0:i[c];if(d===null)return null;const p=xR(d)||xR(h);return s[c][p]}),o=t&&Object.entries(t).reduce((c,d)=>{let[h,p]=d;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:p,...m}=d;return Object.entries(m).every(v=>{let[g,y]=v;return Array.isArray(y)?y.includes({...i,...o}[g]):{...i,...o}[g]===y})?[...c,h,p]:c},[]);return wR(n,a,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pI=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=S.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...o},l)=>S.createElement("svg",{ref:l,...i6,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:pI("lucide",s),...o},[...a.map(([c,d])=>S.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(n,e)=>{const t=S.forwardRef(({className:r,...s},i)=>S.createElement(a6,{ref:i,iconNode:e,className:pI(`lucide-${s6(n)}`,r),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=tt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=tt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=tt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=tt("BookText",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M8 7h6",key:"1f0q6e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=tt("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=tt("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=tt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=tt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=tt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=tt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=tt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=tt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=tt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=tt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=tt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=tt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=tt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=tt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=tt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=tt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=tt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=tt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=tt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=tt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=tt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),OA="-",E6=n=>{const e=C6(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:a=>{const o=a.split(OA);return o[0]===""&&o.length!==1&&o.shift(),wI(o,e)||A6(a)},getConflictingClassGroupIds:(a,o)=>{const l=t[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},wI=(n,e)=>{var a;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?wI(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=n.join(OA);return(a=e.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},ER=/^\[(.+)\]$/,A6=n=>{if(ER.test(n)){const e=ER.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},C6=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return R6(Object.entries(n.classGroups),t).forEach(([i,a])=>{R1(a,r,i,e)}),r},R1=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const i=s===""?e:AR(e,s);i.classGroupId=t;return}if(typeof s=="function"){if(T6(s)){R1(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([i,a])=>{R1(a,AR(e,i),t,r)})})},AR=(n,e)=>{let t=n;return e.split(OA).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},T6=n=>n.isThemeGetter,R6=(n,e)=>e?n.map(([t,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[e+a,o])):i);return[t,s]}):n,N6=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(i,a)=>{t.set(i,a),e++,e>n&&(e=0,r=t,t=new Map)};return{get(i){let a=t.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){t.has(i)?t.set(i,a):s(i,a)}}},bI="!",P6=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,s=e[0],i=e.length,a=o=>{const l=[];let c=0,d=0,h;for(let y=0;y<o.length;y++){let x=o[y];if(c===0){if(x===s&&(r||o.slice(y,y+i)===e)){l.push(o.slice(d,y)),d=y+i;continue}if(x==="/"){h=y;continue}}x==="["?c++:x==="]"&&c--}const p=l.length===0?o:o.substring(d),m=p.startsWith(bI),v=m?p.substring(1):p,g=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}};return t?o=>t({className:o,parseClassName:a}):a},k6=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},I6=n=>({cache:N6(n.cacheSize),parseClassName:P6(n),...E6(n)}),_6=/\s+/,M6=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=n.trim().split(_6);let o="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=t(c);let v=!!m,g=r(v?p.substring(0,m):p);if(!g){if(!v){o=c+(o.length>0?" "+o:o);continue}if(g=r(p),!g){o=c+(o.length>0?" "+o:o);continue}v=!1}const y=k6(d).join(":"),x=h?y+bI:y,w=x+g;if(i.includes(w))continue;i.push(w);const b=s(g,v);for(let E=0;E<b.length;++E){const C=b[E];i.push(x+C)}o=c+(o.length>0?" "+o:o)}return o};function O6(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=SI(e))&&(r&&(r+=" "),r+=t);return r}const SI=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=SI(n[r]))&&(t&&(t+=" "),t+=e);return t};function j6(n,...e){let t,r,s,i=a;function a(l){const c=e.reduce((d,h)=>h(d),n());return t=I6(c),r=t.cache.get,s=t.cache.set,i=o,o(l)}function o(l){const c=r(l);if(c)return c;const d=M6(l,t);return s(l,d),d}return function(){return i(O6.apply(null,arguments))}}const pt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},EI=/^\[(?:([a-z-]+):)?(.+)\]$/i,D6=/^\d+\/\d+$/,L6=new Set(["px","full","screen"]),F6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,B6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,z6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,U6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zi=n=>Gd(n)||L6.has(n)||D6.test(n),po=n=>jf(n,"length",Q6),Gd=n=>!!n&&!Number.isNaN(Number(n)),sb=n=>jf(n,"number",Gd),tp=n=>!!n&&Number.isInteger(Number(n)),V6=n=>n.endsWith("%")&&Gd(n.slice(0,-1)),je=n=>EI.test(n),mo=n=>F6.test(n),H6=new Set(["length","size","percentage"]),W6=n=>jf(n,H6,AI),G6=n=>jf(n,"position",AI),K6=new Set(["image","url"]),Y6=n=>jf(n,K6,J6),X6=n=>jf(n,"",Z6),np=()=>!0,jf=(n,e,t)=>{const r=EI.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},Q6=n=>$6.test(n)&&!B6.test(n),AI=()=>!1,Z6=n=>z6.test(n),J6=n=>U6.test(n),q6=()=>{const n=pt("colors"),e=pt("spacing"),t=pt("blur"),r=pt("brightness"),s=pt("borderColor"),i=pt("borderRadius"),a=pt("borderSpacing"),o=pt("borderWidth"),l=pt("contrast"),c=pt("grayscale"),d=pt("hueRotate"),h=pt("invert"),p=pt("gap"),m=pt("gradientColorStops"),v=pt("gradientColorStopPositions"),g=pt("inset"),y=pt("margin"),x=pt("opacity"),w=pt("padding"),b=pt("saturate"),E=pt("scale"),C=pt("sepia"),R=pt("skew"),P=pt("space"),k=pt("translate"),I=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",je,e],M=()=>[je,e],z=()=>["",Zi,po],D=()=>["auto",Gd,je],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",je],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Gd,je];return{cacheSize:500,separator:":",theme:{colors:[np],spacing:[Zi,po],blur:["none","",mo,je],brightness:J(),borderColor:[n],borderRadius:["none","","full",mo,je],borderSpacing:M(),borderWidth:z(),contrast:J(),grayscale:F(),hueRotate:J(),invert:F(),gap:M(),gradientColorStops:[n],gradientColorStopPositions:[V6,po],inset:O(),margin:O(),opacity:J(),padding:M(),saturate:J(),scale:J(),sepia:F(),skew:J(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",je]}],container:["container"],columns:[{columns:[mo]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),je]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",tp,je]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",je]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",tp,je]}],"grid-cols":[{"grid-cols":[np]}],"col-start-end":[{col:["auto",{span:["full",tp,je]},je]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[np]}],"row-start-end":[{row:["auto",{span:[tp,je]},je]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",je]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",je,e]}],"min-w":[{"min-w":[je,e,"min","max","fit"]}],"max-w":[{"max-w":[je,e,"none","full","min","max","fit","prose",{screen:[mo]},mo]}],h:[{h:[je,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[je,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[je,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[je,e,"auto","min","max","fit"]}],"font-size":[{text:["base",mo,po]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sb]}],"font-family":[{font:[np]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",je]}],"line-clamp":[{"line-clamp":["none",Gd,sb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Zi,je]}],"list-image":[{"list-image":["none",je]}],"list-style-type":[{list:["none","disc","decimal",je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Zi,po]}],"underline-offset":[{"underline-offset":["auto",Zi,je]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),G6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",W6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Y6]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Zi,je]}],"outline-w":[{outline:[Zi,po]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Zi,po]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",mo,X6]}],"shadow-color":[{shadow:[np]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",mo,je]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",je]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",je]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[tp,je]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",je]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Zi,po,sb]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},e$=j6(q6);function Ce(...n){return e$(fI(n))}const t$=r6,CI=S.forwardRef(({className:n,...e},t)=>f.jsx(aI,{ref:t,className:Ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));CI.displayName=aI.displayName;const n$=_A("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),TI=S.forwardRef(({className:n,variant:e,...t},r)=>f.jsx(oI,{ref:r,className:Ce(n$({variant:e}),n),...t}));TI.displayName=oI.displayName;const r$=S.forwardRef(({className:n,...e},t)=>f.jsx(uI,{ref:t,className:Ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));r$.displayName=uI.displayName;const RI=S.forwardRef(({className:n,...e},t)=>f.jsx(dI,{ref:t,className:Ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:f.jsx(hv,{className:"h-4 w-4"})}));RI.displayName=dI.displayName;const NI=S.forwardRef(({className:n,...e},t)=>f.jsx(lI,{ref:t,className:Ce("text-sm font-semibold",n),...e}));NI.displayName=lI.displayName;const PI=S.forwardRef(({className:n,...e},t)=>f.jsx(cI,{ref:t,className:Ce("text-sm opacity-90",n),...e}));PI.displayName=cI.displayName;function s$(){const{toasts:n}=ys();return f.jsxs(t$,{children:[n.map(function({id:e,title:t,description:r,action:s,...i}){return f.jsxs(TI,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[t&&f.jsx(NI,{children:t}),r&&f.jsx(PI,{children:r})]}),s,f.jsx(RI,{})]},e)}),f.jsx(CI,{})]})}var CR=["light","dark"],i$="(prefers-color-scheme: dark)",a$=S.createContext(void 0),o$={setTheme:n=>{},themes:[]},l$=()=>{var n;return(n=S.useContext(a$))!=null?n:o$};S.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:o,nonce:l})=>{let c=i==="system",d=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,h=s?CR.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(v,g=!1,y=!0)=>{let x=a?a[v]:v,w=g?v+"|| ''":`'${x}'`,b="";return s&&y&&!g&&CR.includes(v)&&(b+=`d.style.colorScheme = '${v}';`),t==="class"?g||x?b+=`c.add(${w})`:b+="null":x&&(b+=`d[s](n,${w})`),b},m=n?`!function(){${d}${p(n)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${i$}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${h}}catch(t){}}();`;return S.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var c$=n=>{switch(n){case"success":return h$;case"info":return p$;case"warning":return f$;case"error":return m$;default:return null}},u$=Array(12).fill(0),d$=({visible:n,className:e})=>X.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},X.createElement("div",{className:"sonner-spinner"},u$.map((t,r)=>X.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),h$=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),f$=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),p$=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),m$=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),g$=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},X.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),X.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),v$=()=>{let[n,e]=X.useState(document.hidden);return X.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},N1=1,y$=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...r}=n,s=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:N1++,i=this.toasts.find(o=>o.id===s),a=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(o=>o.id===s?(this.publish({...o,...n,id:s,title:t}),{...o,...n,id:s,dismissible:a,title:t}):o):this.addToast({title:t,...r,dismissible:a,id:s}),s},this.dismiss=n=>(this.dismissedToasts.add(n),n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=n instanceof Promise?n:n(),s=t!==void 0,i,a=r.then(async l=>{if(i=["resolve",l],X.isValidElement(l))s=!1,this.create({id:t,type:"default",message:l});else if(w$(l)&&!l.ok){s=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:t,type:"error",message:c,description:d})}else if(e.success!==void 0){s=!1;let c=typeof e.success=="function"?await e.success(l):e.success,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:t,type:"success",message:c,description:d})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let c=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:t,type:"error",message:c,description:d})}}).finally(()=>{var l;s&&(this.dismiss(t),t=void 0),(l=e.finally)==null||l.call(e)}),o=()=>new Promise((l,c)=>a.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof t!="string"&&typeof t!="number"?{unwrap:o}:Object.assign(t,{unwrap:o})},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||N1++;return this.create({jsx:n(t),id:t,...e}),t},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},mr=new y$,x$=(n,e)=>{let t=(e==null?void 0:e.id)||N1++;return mr.addToast({title:n,...e,id:t}),t},w$=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",b$=x$,S$=()=>mr.toasts,E$=()=>mr.getActiveToasts();Object.assign(b$,{success:mr.success,info:mr.info,warning:mr.warning,error:mr.error,custom:mr.custom,message:mr.message,promise:mr.promise,dismiss:mr.dismiss,loading:mr.loading},{getHistory:S$,getToasts:E$});function A$(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}A$(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Kv(n){return n.label!==void 0}var C$=3,T$="32px",R$="16px",TR=4e3,N$=356,P$=14,k$=20,I$=200;function As(...n){return n.filter(Boolean).join(" ")}function _$(n){let[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}var M$=n=>{var e,t,r,s,i,a,o,l,c,d,h;let{invert:p,toast:m,unstyled:v,interacting:g,setHeights:y,visibleToasts:x,heights:w,index:b,toasts:E,expanded:C,removeToast:R,defaultRichColors:P,closeButton:k,style:I,cancelButtonStyle:_,actionButtonStyle:O,className:M="",descriptionClassName:z="",duration:D,position:K,gap:B,loadingIcon:U,expandByDefault:$,classNames:F,icons:H,closeButtonAriaLabel:J="Close toast",pauseWhenPageIsHidden:Z}=n,[te,ye]=X.useState(null),[Ne,Q]=X.useState(null),[L,W]=X.useState(!1),[Y,ie]=X.useState(!1),[de,Ae]=X.useState(!1),[nt,_t]=X.useState(!1),[Ln,Nt]=X.useState(!1),[Fn,Yi]=X.useState(0),[ir,j]=X.useState(0),V=X.useRef(m.duration||D||TR),G=X.useRef(null),oe=X.useRef(null),ae=b===0,se=b+1<=x,fe=m.type,Be=m.dismissible!==!1,it=m.className||"",ar=m.descriptionClassName||"",Xi=X.useMemo(()=>w.findIndex(_e=>_e.toastId===m.id)||0,[w,m.id]),si=X.useMemo(()=>{var _e;return(_e=m.closeButton)!=null?_e:k},[m.closeButton,k]),Cv=X.useMemo(()=>m.duration||D||TR,[m.duration,D]),ec=X.useRef(0),ii=X.useRef(0),Tv=X.useRef(0),Qi=X.useRef(null),[Cw,Rv]=K.split("-"),nT=X.useMemo(()=>w.reduce((_e,at,vt)=>vt>=Xi?_e:_e+at.height,0),[w,Xi]),rT=v$(),MF=m.invert||p,Tw=fe==="loading";ii.current=X.useMemo(()=>Xi*B+nT,[Xi,nT]),X.useEffect(()=>{V.current=Cv},[Cv]),X.useEffect(()=>{W(!0)},[]),X.useEffect(()=>{let _e=oe.current;if(_e){let at=_e.getBoundingClientRect().height;return j(at),y(vt=>[{toastId:m.id,height:at,position:m.position},...vt]),()=>y(vt=>vt.filter(ws=>ws.toastId!==m.id))}},[y,m.id]),X.useLayoutEffect(()=>{if(!L)return;let _e=oe.current,at=_e.style.height;_e.style.height="auto";let vt=_e.getBoundingClientRect().height;_e.style.height=at,j(vt),y(ws=>ws.find(bs=>bs.toastId===m.id)?ws.map(bs=>bs.toastId===m.id?{...bs,height:vt}:bs):[{toastId:m.id,height:vt,position:m.position},...ws])},[L,m.title,m.description,y,m.id]);let co=X.useCallback(()=>{ie(!0),Yi(ii.current),y(_e=>_e.filter(at=>at.toastId!==m.id)),setTimeout(()=>{R(m)},I$)},[m,R,y,ii]);X.useEffect(()=>{if(m.promise&&fe==="loading"||m.duration===1/0||m.type==="loading")return;let _e;return C||g||Z&&rT?(()=>{if(Tv.current<ec.current){let at=new Date().getTime()-ec.current;V.current=V.current-at}Tv.current=new Date().getTime()})():V.current!==1/0&&(ec.current=new Date().getTime(),_e=setTimeout(()=>{var at;(at=m.onAutoClose)==null||at.call(m,m),co()},V.current)),()=>clearTimeout(_e)},[C,g,m,fe,Z,rT,co]),X.useEffect(()=>{m.delete&&co()},[co,m.delete]);function OF(){var _e,at,vt;return H!=null&&H.loading?X.createElement("div",{className:As(F==null?void 0:F.loader,(_e=m==null?void 0:m.classNames)==null?void 0:_e.loader,"sonner-loader"),"data-visible":fe==="loading"},H.loading):U?X.createElement("div",{className:As(F==null?void 0:F.loader,(at=m==null?void 0:m.classNames)==null?void 0:at.loader,"sonner-loader"),"data-visible":fe==="loading"},U):X.createElement(d$,{className:As(F==null?void 0:F.loader,(vt=m==null?void 0:m.classNames)==null?void 0:vt.loader),visible:fe==="loading"})}return X.createElement("li",{tabIndex:0,ref:oe,className:As(M,it,F==null?void 0:F.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[fe],(t=m==null?void 0:m.classNames)==null?void 0:t[fe]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:P,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":L,"data-promise":!!m.promise,"data-swiped":Ln,"data-removed":Y,"data-visible":se,"data-y-position":Cw,"data-x-position":Rv,"data-index":b,"data-front":ae,"data-swiping":de,"data-dismissible":Be,"data-type":fe,"data-invert":MF,"data-swipe-out":nt,"data-swipe-direction":Ne,"data-expanded":!!(C||$&&L),style:{"--index":b,"--toasts-before":b,"--z-index":E.length-b,"--offset":`${Y?Fn:ii.current}px`,"--initial-height":$?"auto":`${ir}px`,...I,...m.style},onDragEnd:()=>{Ae(!1),ye(null),Qi.current=null},onPointerDown:_e=>{Tw||!Be||(G.current=new Date,Yi(ii.current),_e.target.setPointerCapture(_e.pointerId),_e.target.tagName!=="BUTTON"&&(Ae(!0),Qi.current={x:_e.clientX,y:_e.clientY}))},onPointerUp:()=>{var _e,at,vt,ws;if(nt||!Be)return;Qi.current=null;let bs=Number(((_e=oe.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),uo=Number(((at=oe.current)==null?void 0:at.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),tc=new Date().getTime()-((vt=G.current)==null?void 0:vt.getTime()),Ss=te==="x"?bs:uo,ho=Math.abs(Ss)/tc;if(Math.abs(Ss)>=k$||ho>.11){Yi(ii.current),(ws=m.onDismiss)==null||ws.call(m,m),Q(te==="x"?bs>0?"right":"left":uo>0?"down":"up"),co(),_t(!0),Nt(!1);return}Ae(!1),ye(null)},onPointerMove:_e=>{var at,vt,ws,bs;if(!Qi.current||!Be||((at=window.getSelection())==null?void 0:at.toString().length)>0)return;let uo=_e.clientY-Qi.current.y,tc=_e.clientX-Qi.current.x,Ss=(vt=n.swipeDirections)!=null?vt:_$(K);!te&&(Math.abs(tc)>1||Math.abs(uo)>1)&&ye(Math.abs(tc)>Math.abs(uo)?"x":"y");let ho={x:0,y:0};te==="y"?(Ss.includes("top")||Ss.includes("bottom"))&&(Ss.includes("top")&&uo<0||Ss.includes("bottom")&&uo>0)&&(ho.y=uo):te==="x"&&(Ss.includes("left")||Ss.includes("right"))&&(Ss.includes("left")&&tc<0||Ss.includes("right")&&tc>0)&&(ho.x=tc),(Math.abs(ho.x)>0||Math.abs(ho.y)>0)&&Nt(!0),(ws=oe.current)==null||ws.style.setProperty("--swipe-amount-x",`${ho.x}px`),(bs=oe.current)==null||bs.style.setProperty("--swipe-amount-y",`${ho.y}px`)}},si&&!m.jsx?X.createElement("button",{"aria-label":J,"data-disabled":Tw,"data-close-button":!0,onClick:Tw||!Be?()=>{}:()=>{var _e;co(),(_e=m.onDismiss)==null||_e.call(m,m)},className:As(F==null?void 0:F.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=H==null?void 0:H.close)!=null?i:g$):null,m.jsx||S.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:X.createElement(X.Fragment,null,fe||m.icon||m.promise?X.createElement("div",{"data-icon":"",className:As(F==null?void 0:F.icon,(a=m==null?void 0:m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||OF():null,m.type!=="loading"?m.icon||(H==null?void 0:H[fe])||c$(fe):null):null,X.createElement("div",{"data-content":"",className:As(F==null?void 0:F.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},X.createElement("div",{"data-title":"",className:As(F==null?void 0:F.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?X.createElement("div",{"data-description":"",className:As(z,ar,F==null?void 0:F.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),S.isValidElement(m.cancel)?m.cancel:m.cancel&&Kv(m.cancel)?X.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||_,onClick:_e=>{var at,vt;Kv(m.cancel)&&Be&&((vt=(at=m.cancel).onClick)==null||vt.call(at,_e),co())},className:As(F==null?void 0:F.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,S.isValidElement(m.action)?m.action:m.action&&Kv(m.action)?X.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||O,onClick:_e=>{var at,vt;Kv(m.action)&&((vt=(at=m.action).onClick)==null||vt.call(at,_e),!_e.defaultPrevented&&co())},className:As(F==null?void 0:F.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function RR(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function O$(n,e){let t={};return[n,e].forEach((r,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",o=i?R$:T$;function l(c){["top","right","bottom","left"].forEach(d=>{t[`${a}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?t[`${a}-${c}`]=o:t[`${a}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(o)}),t}var j$=S.forwardRef(function(n,e){let{invert:t,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:o,offset:l,mobileOffset:c,theme:d="light",richColors:h,duration:p,style:m,visibleToasts:v=C$,toastOptions:g,dir:y=RR(),gap:x=P$,loadingIcon:w,icons:b,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:C}=n,[R,P]=X.useState([]),k=X.useMemo(()=>Array.from(new Set([r].concat(R.filter(Z=>Z.position).map(Z=>Z.position)))),[R,r]),[I,_]=X.useState([]),[O,M]=X.useState(!1),[z,D]=X.useState(!1),[K,B]=X.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=X.useRef(null),$=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=X.useRef(null),H=X.useRef(!1),J=X.useCallback(Z=>{P(te=>{var ye;return(ye=te.find(Ne=>Ne.id===Z.id))!=null&&ye.delete||mr.dismiss(Z.id),te.filter(({id:Ne})=>Ne!==Z.id)})},[]);return X.useEffect(()=>mr.subscribe(Z=>{if(Z.dismiss){P(te=>te.map(ye=>ye.id===Z.id?{...ye,delete:!0}:ye));return}setTimeout(()=>{Bk.flushSync(()=>{P(te=>{let ye=te.findIndex(Ne=>Ne.id===Z.id);return ye!==-1?[...te.slice(0,ye),{...te[ye],...Z},...te.slice(ye+1)]:[Z,...te]})})})}),[]),X.useEffect(()=>{if(d!=="system"){B(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;let Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:te})=>{B(te?"dark":"light")})}catch{Z.addListener(({matches:ye})=>{try{B(ye?"dark":"light")}catch(Ne){console.error(Ne)}})}},[d]),X.useEffect(()=>{R.length<=1&&M(!1)},[R]),X.useEffect(()=>{let Z=te=>{var ye,Ne;s.every(Q=>te[Q]||te.code===Q)&&(M(!0),(ye=U.current)==null||ye.focus()),te.code==="Escape"&&(document.activeElement===U.current||(Ne=U.current)!=null&&Ne.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[s]),X.useEffect(()=>{if(U.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,H.current=!1)}},[U.current]),X.createElement("section",{ref:e,"aria-label":`${E} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((Z,te)=>{var ye;let[Ne,Q]=Z.split("-");return R.length?X.createElement("ol",{key:Z,dir:y==="auto"?RR():y,tabIndex:-1,ref:U,className:o,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":Ne,"data-lifted":O&&R.length>1&&!i,"data-x-position":Q,style:{"--front-toast-height":`${((ye=I[0])==null?void 0:ye.height)||0}px`,"--width":`${N$}px`,"--gap":`${x}px`,...m,...O$(l,c)},onBlur:L=>{H.current&&!L.currentTarget.contains(L.relatedTarget)&&(H.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:L=>{L.target instanceof HTMLElement&&L.target.dataset.dismissible==="false"||H.current||(H.current=!0,F.current=L.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{z||M(!1)},onDragEnd:()=>M(!1),onPointerDown:L=>{L.target instanceof HTMLElement&&L.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},R.filter(L=>!L.position&&te===0||L.position===Z).map((L,W)=>{var Y,ie;return X.createElement(M$,{key:L.id,icons:b,index:W,toast:L,defaultRichColors:h,duration:(Y=g==null?void 0:g.duration)!=null?Y:p,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:t,visibleToasts:v,closeButton:(ie=g==null?void 0:g.closeButton)!=null?ie:a,interacting:z,position:Z,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:J,toasts:R.filter(de=>de.position==L.position),heights:I.filter(de=>de.position==L.position),setHeights:_,expandByDefault:i,gap:x,loadingIcon:w,expanded:O,pauseWhenPageIsHidden:C,swipeDirections:n.swipeDirections})})):null}))});const D$=({...n})=>{const{theme:e="system"}=l$();return f.jsx(j$,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var L$=LE[" useId ".trim().toString()]||(()=>{}),F$=0;function $i(n){const[e,t]=S.useState(L$());return Tn(()=>{t(r=>r??String(F$++))},[n]),e?`radix-${e}`:""}const $$=["top","right","bottom","left"],$l=Math.min,Ur=Math.max,kx=Math.round,Yv=Math.floor,Bi=n=>({x:n,y:n}),B$={left:"right",right:"left",bottom:"top",top:"bottom"},z$={start:"end",end:"start"};function P1(n,e,t){return Ur(n,$l(e,t))}function ro(n,e){return typeof n=="function"?n(e):n}function so(n){return n.split("-")[0]}function Df(n){return n.split("-")[1]}function jA(n){return n==="x"?"y":"x"}function DA(n){return n==="y"?"height":"width"}function ji(n){return["top","bottom"].includes(so(n))?"y":"x"}function LA(n){return jA(ji(n))}function U$(n,e,t){t===void 0&&(t=!1);const r=Df(n),s=LA(n),i=DA(s);let a=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Ix(a)),[a,Ix(a)]}function V$(n){const e=Ix(n);return[k1(n),e,k1(e)]}function k1(n){return n.replace(/start|end/g,e=>z$[e])}function H$(n,e,t){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return t?e?s:r:e?r:s;case"left":case"right":return e?i:a;default:return[]}}function W$(n,e,t,r){const s=Df(n);let i=H$(so(n),t==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(k1)))),i}function Ix(n){return n.replace(/left|right|bottom|top/g,e=>B$[e])}function G$(n){return{top:0,right:0,bottom:0,left:0,...n}}function kI(n){return typeof n!="number"?G$(n):{top:n,right:n,bottom:n,left:n}}function _x(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function NR(n,e,t){let{reference:r,floating:s}=n;const i=ji(e),a=LA(e),o=DA(a),l=so(e),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[o]/2-s[o]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Df(e)){case"start":m[a]-=p*(t&&c?-1:1);break;case"end":m[a]+=p*(t&&c?-1:1);break}return m}const K$=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=t,o=i.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:n,floating:e,strategy:s}),{x:d,y:h}=NR(c,r,l),p=r,m={},v=0;for(let g=0;g<o.length;g++){const{name:y,fn:x}=o[g],{x:w,y:b,data:E,reset:C}=await x({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:c,platform:a,elements:{reference:n,floating:e}});d=w??d,h=b??h,m={...m,[y]:{...m[y],...E}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(c=C.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:s}):C.rects),{x:d,y:h}=NR(c,p,l)),g=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:m}};async function fm(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:o,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=ro(e,n),v=kI(m),y=o[p?h==="floating"?"reference":"floating":h],x=_x(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(y)))==null||t?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),w=h==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),E=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},C=_x(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:w,offsetParent:b,strategy:l}):w);return{top:(x.top-C.top+v.top)/E.y,bottom:(C.bottom-x.bottom+v.bottom)/E.y,left:(x.left-C.left+v.left)/E.x,right:(C.right-x.right+v.right)/E.x}}const Y$=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:i,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:d=0}=ro(n,e)||{};if(c==null)return{};const h=kI(d),p={x:t,y:r},m=LA(s),v=DA(m),g=await a.getDimensions(c),y=m==="y",x=y?"top":"left",w=y?"bottom":"right",b=y?"clientHeight":"clientWidth",E=i.reference[v]+i.reference[m]-p[m]-i.floating[v],C=p[m]-i.reference[m],R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let P=R?R[b]:0;(!P||!await(a.isElement==null?void 0:a.isElement(R)))&&(P=o.floating[b]||i.floating[v]);const k=E/2-C/2,I=P/2-g[v]/2-1,_=$l(h[x],I),O=$l(h[w],I),M=_,z=P-g[v]-O,D=P/2-g[v]/2+k,K=P1(M,D,z),B=!l.arrow&&Df(s)!=null&&D!==K&&i.reference[v]/2-(D<M?_:O)-g[v]/2<0,U=B?D<M?D-M:D-z:0;return{[m]:p[m]+U,data:{[m]:K,centerOffset:D-K-U,...B&&{alignmentOffset:U}},reset:B}}}),X$=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=ro(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const x=so(s),w=ji(o),b=so(o)===o,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=p||(b||!g?[Ix(o)]:V$(o)),R=v!=="none";!p&&R&&C.push(...W$(o,g,v,E));const P=[o,...C],k=await fm(e,y),I=[];let _=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&I.push(k[x]),h){const D=U$(s,a,E);I.push(k[D[0]],k[D[1]])}if(_=[..._,{placement:s,overflows:I}],!I.every(D=>D<=0)){var O,M;const D=(((O=i.flip)==null?void 0:O.index)||0)+1,K=P[D];if(K&&(!(h==="alignment"?w!==ji(K):!1)||_.every($=>$.overflows[0]>0&&ji($.placement)===w)))return{data:{index:D,overflows:_},reset:{placement:K}};let B=(M=_.filter(U=>U.overflows[0]<=0).sort((U,$)=>U.overflows[1]-$.overflows[1])[0])==null?void 0:M.placement;if(!B)switch(m){case"bestFit":{var z;const U=(z=_.filter($=>{if(R){const F=ji($.placement);return F===w||F==="y"}return!0}).map($=>[$.placement,$.overflows.filter(F=>F>0).reduce((F,H)=>F+H,0)]).sort(($,F)=>$[1]-F[1])[0])==null?void 0:z[0];U&&(B=U);break}case"initialPlacement":B=o;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function PR(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function kR(n){return $$.some(e=>n[e]>=0)}const Q$=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=ro(n,e);switch(r){case"referenceHidden":{const i=await fm(e,{...s,elementContext:"reference"}),a=PR(i,t.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:kR(a)}}}case"escaped":{const i=await fm(e,{...s,altBoundary:!0}),a=PR(i,t.floating);return{data:{escapedOffsets:a,escaped:kR(a)}}}default:return{}}}}};async function Z$(n,e){const{placement:t,platform:r,elements:s}=n,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=so(t),o=Df(t),l=ji(t)==="y",c=["left","top"].includes(a)?-1:1,d=i&&l?-1:1,h=ro(e,n);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof v=="number"&&(m=o==="end"?v*-1:v),l?{x:m*d,y:p*c}:{x:p*c,y:m*d}}const J$=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:i,placement:a,middlewareData:o}=e,l=await Z$(e,n);return a===((t=o.offset)==null?void 0:t.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:a}}}}},q$=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:o={fn:y=>{let{x,y:w}=y;return{x,y:w}}},...l}=ro(n,e),c={x:t,y:r},d=await fm(e,l),h=ji(so(s)),p=jA(h);let m=c[p],v=c[h];if(i){const y=p==="y"?"top":"left",x=p==="y"?"bottom":"right",w=m+d[y],b=m-d[x];m=P1(w,m,b)}if(a){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=v+d[y],b=v-d[x];v=P1(w,v,b)}const g=o.fn({...e,[p]:m,[h]:v});return{...g,data:{x:g.x-t,y:g.y-r,enabled:{[p]:i,[h]:a}}}}}},e9=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=ro(n,e),d={x:t,y:r},h=ji(s),p=jA(h);let m=d[p],v=d[h];const g=ro(o,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=p==="y"?"height":"width",E=i.reference[p]-i.floating[b]+y.mainAxis,C=i.reference[p]+i.reference[b]-y.mainAxis;m<E?m=E:m>C&&(m=C)}if(c){var x,w;const b=p==="y"?"width":"height",E=["top","left"].includes(so(s)),C=i.reference[h]-i.floating[b]+(E&&((x=a.offset)==null?void 0:x[h])||0)+(E?0:y.crossAxis),R=i.reference[h]+i.reference[b]+(E?0:((w=a.offset)==null?void 0:w[h])||0)-(E?y.crossAxis:0);v<C?v=C:v>R&&(v=R)}return{[p]:m,[h]:v}}}},t9=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:i,platform:a,elements:o}=e,{apply:l=()=>{},...c}=ro(n,e),d=await fm(e,c),h=so(s),p=Df(s),m=ji(s)==="y",{width:v,height:g}=i.floating;let y,x;h==="top"||h==="bottom"?(y=h,x=p===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(x=h,y=p==="end"?"top":"bottom");const w=g-d.top-d.bottom,b=v-d.left-d.right,E=$l(g-d[y],w),C=$l(v-d[x],b),R=!e.middlewareData.shift;let P=E,k=C;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(k=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=w),R&&!p){const _=Ur(d.left,0),O=Ur(d.right,0),M=Ur(d.top,0),z=Ur(d.bottom,0);m?k=v-2*(_!==0||O!==0?_+O:Ur(d.left,d.right)):P=g-2*(M!==0||z!==0?M+z:Ur(d.top,d.bottom))}await l({...e,availableWidth:k,availableHeight:P});const I=await a.getDimensions(o.floating);return v!==I.width||g!==I.height?{reset:{rects:!0}}:{}}}};function K0(){return typeof window<"u"}function Lf(n){return II(n)?(n.nodeName||"").toLowerCase():"#document"}function Gr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Gi(n){var e;return(e=(II(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function II(n){return K0()?n instanceof Node||n instanceof Gr(n).Node:!1}function Js(n){return K0()?n instanceof Element||n instanceof Gr(n).Element:!1}function Vi(n){return K0()?n instanceof HTMLElement||n instanceof Gr(n).HTMLElement:!1}function IR(n){return!K0()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Gr(n).ShadowRoot}function fv(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=qs(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function n9(n){return["table","td","th"].includes(Lf(n))}function Y0(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function FA(n){const e=$A(),t=Js(n)?qs(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function r9(n){let e=Bl(n);for(;Vi(e)&&!Ef(e);){if(FA(e))return e;if(Y0(e))return null;e=Bl(e)}return null}function $A(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ef(n){return["html","body","#document"].includes(Lf(n))}function qs(n){return Gr(n).getComputedStyle(n)}function X0(n){return Js(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Bl(n){if(Lf(n)==="html")return n;const e=n.assignedSlot||n.parentNode||IR(n)&&n.host||Gi(n);return IR(e)?e.host:e}function _I(n){const e=Bl(n);return Ef(e)?n.ownerDocument?n.ownerDocument.body:n.body:Vi(e)&&fv(e)?e:_I(e)}function pm(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=_I(n),i=s===((r=n.ownerDocument)==null?void 0:r.body),a=Gr(s);if(i){const o=I1(a);return e.concat(a,a.visualViewport||[],fv(s)?s:[],o&&t?pm(o):[])}return e.concat(s,pm(s,[],t))}function I1(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function MI(n){const e=qs(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Vi(n),i=s?n.offsetWidth:t,a=s?n.offsetHeight:r,o=kx(t)!==i||kx(r)!==a;return o&&(t=i,r=a),{width:t,height:r,$:o}}function BA(n){return Js(n)?n:n.contextElement}function Kd(n){const e=BA(n);if(!Vi(e))return Bi(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:i}=MI(e);let a=(i?kx(t.width):t.width)/r,o=(i?kx(t.height):t.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const s9=Bi(0);function OI(n){const e=Gr(n);return!$A()||!e.visualViewport?s9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function i9(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Gr(n)?!1:e}function Hu(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),i=BA(n);let a=Bi(1);e&&(r?Js(r)&&(a=Kd(r)):a=Kd(n));const o=i9(i,t,r)?OI(i):Bi(0);let l=(s.left+o.x)/a.x,c=(s.top+o.y)/a.y,d=s.width/a.x,h=s.height/a.y;if(i){const p=Gr(i),m=r&&Js(r)?Gr(r):r;let v=p,g=I1(v);for(;g&&r&&m!==v;){const y=Kd(g),x=g.getBoundingClientRect(),w=qs(g),b=x.left+(g.clientLeft+parseFloat(w.paddingLeft))*y.x,E=x.top+(g.clientTop+parseFloat(w.paddingTop))*y.y;l*=y.x,c*=y.y,d*=y.x,h*=y.y,l+=b,c+=E,v=Gr(g),g=I1(v)}}return _x({width:d,height:h,x:l,y:c})}function zA(n,e){const t=X0(n).scrollLeft;return e?e.left+t:Hu(Gi(n)).left+t}function jI(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=r.left+e.scrollLeft-(t?0:zA(n,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function a9(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const i=s==="fixed",a=Gi(r),o=e?Y0(e.floating):!1;if(r===a||o&&i)return t;let l={scrollLeft:0,scrollTop:0},c=Bi(1);const d=Bi(0),h=Vi(r);if((h||!h&&!i)&&((Lf(r)!=="body"||fv(a))&&(l=X0(r)),Vi(r))){const m=Hu(r);c=Kd(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=a&&!h&&!i?jI(a,l,!0):Bi(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:t.y*c.y-l.scrollTop*c.y+d.y+p.y}}function o9(n){return Array.from(n.getClientRects())}function l9(n){const e=Gi(n),t=X0(n),r=n.ownerDocument.body,s=Ur(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Ur(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-t.scrollLeft+zA(n);const o=-t.scrollTop;return qs(r).direction==="rtl"&&(a+=Ur(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:o}}function c9(n,e){const t=Gr(n),r=Gi(n),s=t.visualViewport;let i=r.clientWidth,a=r.clientHeight,o=0,l=0;if(s){i=s.width,a=s.height;const c=$A();(!c||c&&e==="fixed")&&(o=s.offsetLeft,l=s.offsetTop)}return{width:i,height:a,x:o,y:l}}function u9(n,e){const t=Hu(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,i=Vi(n)?Kd(n):Bi(1),a=n.clientWidth*i.x,o=n.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:a,height:o,x:l,y:c}}function _R(n,e,t){let r;if(e==="viewport")r=c9(n,t);else if(e==="document")r=l9(Gi(n));else if(Js(e))r=u9(e,t);else{const s=OI(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return _x(r)}function DI(n,e){const t=Bl(n);return t===e||!Js(t)||Ef(t)?!1:qs(t).position==="fixed"||DI(t,e)}function d9(n,e){const t=e.get(n);if(t)return t;let r=pm(n,[],!1).filter(o=>Js(o)&&Lf(o)!=="body"),s=null;const i=qs(n).position==="fixed";let a=i?Bl(n):n;for(;Js(a)&&!Ef(a);){const o=qs(a),l=FA(a);!l&&o.position==="fixed"&&(s=null),(i?!l&&!s:!l&&o.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||fv(a)&&!l&&DI(n,a))?r=r.filter(d=>d!==a):s=o,a=Bl(a)}return e.set(n,r),r}function h9(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const a=[...t==="clippingAncestors"?Y0(e)?[]:d9(e,this._c):[].concat(t),r],o=a[0],l=a.reduce((c,d)=>{const h=_R(e,d,s);return c.top=Ur(h.top,c.top),c.right=$l(h.right,c.right),c.bottom=$l(h.bottom,c.bottom),c.left=Ur(h.left,c.left),c},_R(e,o,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function f9(n){const{width:e,height:t}=MI(n);return{width:e,height:t}}function p9(n,e,t){const r=Vi(e),s=Gi(e),i=t==="fixed",a=Hu(n,!0,i,e);let o={scrollLeft:0,scrollTop:0};const l=Bi(0);function c(){l.x=zA(s)}if(r||!r&&!i)if((Lf(e)!=="body"||fv(s))&&(o=X0(e)),r){const m=Hu(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?jI(s,o):Bi(0),h=a.left+o.scrollLeft-l.x-d.x,p=a.top+o.scrollTop-l.y-d.y;return{x:h,y:p,width:a.width,height:a.height}}function ib(n){return qs(n).position==="static"}function MR(n,e){if(!Vi(n)||qs(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Gi(n)===t&&(t=t.ownerDocument.body),t}function LI(n,e){const t=Gr(n);if(Y0(n))return t;if(!Vi(n)){let s=Bl(n);for(;s&&!Ef(s);){if(Js(s)&&!ib(s))return s;s=Bl(s)}return t}let r=MR(n,e);for(;r&&n9(r)&&ib(r);)r=MR(r,e);return r&&Ef(r)&&ib(r)&&!FA(r)?t:r||r9(n)||t}const m9=async function(n){const e=this.getOffsetParent||LI,t=this.getDimensions,r=await t(n.floating);return{reference:p9(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function g9(n){return qs(n).direction==="rtl"}const v9={convertOffsetParentRelativeRectToViewportRelativeRect:a9,getDocumentElement:Gi,getClippingRect:h9,getOffsetParent:LI,getElementRects:m9,getClientRects:o9,getDimensions:f9,getScale:Kd,isElement:Js,isRTL:g9};function FI(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function y9(n,e){let t=null,r;const s=Gi(n);function i(){var o;clearTimeout(r),(o=t)==null||o.disconnect(),t=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),i();const c=n.getBoundingClientRect(),{left:d,top:h,width:p,height:m}=c;if(o||e(),!p||!m)return;const v=Yv(h),g=Yv(s.clientWidth-(d+p)),y=Yv(s.clientHeight-(h+m)),x=Yv(d),b={rootMargin:-v+"px "+-g+"px "+-y+"px "+-x+"px",threshold:Ur(0,$l(1,l))||1};let E=!0;function C(R){const P=R[0].intersectionRatio;if(P!==l){if(!E)return a();P?a(!1,P):r=setTimeout(()=>{a(!1,1e-7)},1e3)}P===1&&!FI(c,n.getBoundingClientRect())&&a(),E=!1}try{t=new IntersectionObserver(C,{...b,root:s.ownerDocument})}catch{t=new IntersectionObserver(C,b)}t.observe(n)}return a(!0),i}function x9(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=BA(n),d=s||i?[...c?pm(c):[],...pm(e)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",t,{passive:!0}),i&&x.addEventListener("resize",t)});const h=c&&o?y9(c,t):null;let p=-1,m=null;a&&(m=new ResizeObserver(x=>{let[w]=x;w&&w.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),t()}),c&&!l&&m.observe(c),m.observe(e));let v,g=l?Hu(n):null;l&&y();function y(){const x=Hu(n);g&&!FI(g,x)&&t(),g=x,v=requestAnimationFrame(y)}return t(),()=>{var x;d.forEach(w=>{s&&w.removeEventListener("scroll",t),i&&w.removeEventListener("resize",t)}),h==null||h(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const w9=J$,b9=q$,S9=X$,E9=t9,A9=Q$,OR=Y$,C9=e9,T9=(n,e,t)=>{const r=new Map,s={platform:v9,...t},i={...s.platform,_c:r};return K$(n,e,{...s,platform:i})};var R9=typeof document<"u",N9=function(){},Sy=R9?S.useLayoutEffect:N9;function Mx(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Mx(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const i=s[r];if(!(i==="_owner"&&n.$$typeof)&&!Mx(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function $I(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function jR(n,e){const t=$I(n);return Math.round(e*t)/t}function ab(n){const e=S.useRef(n);return Sy(()=>{e.current=n}),e}function P9(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=n,[d,h]=S.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=S.useState(r);Mx(p,r)||m(r);const[v,g]=S.useState(null),[y,x]=S.useState(null),w=S.useCallback($=>{$!==R.current&&(R.current=$,g($))},[]),b=S.useCallback($=>{$!==P.current&&(P.current=$,x($))},[]),E=i||v,C=a||y,R=S.useRef(null),P=S.useRef(null),k=S.useRef(d),I=l!=null,_=ab(l),O=ab(s),M=ab(c),z=S.useCallback(()=>{if(!R.current||!P.current)return;const $={placement:e,strategy:t,middleware:p};O.current&&($.platform=O.current),T9(R.current,P.current,$).then(F=>{const H={...F,isPositioned:M.current!==!1};D.current&&!Mx(k.current,H)&&(k.current=H,nd.flushSync(()=>{h(H)}))})},[p,e,t,O,M]);Sy(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h($=>({...$,isPositioned:!1})))},[c]);const D=S.useRef(!1);Sy(()=>(D.current=!0,()=>{D.current=!1}),[]),Sy(()=>{if(E&&(R.current=E),C&&(P.current=C),E&&C){if(_.current)return _.current(E,C,z);z()}},[E,C,z,_,I]);const K=S.useMemo(()=>({reference:R,floating:P,setReference:w,setFloating:b}),[w,b]),B=S.useMemo(()=>({reference:E,floating:C}),[E,C]),U=S.useMemo(()=>{const $={position:t,left:0,top:0};if(!B.floating)return $;const F=jR(B.floating,d.x),H=jR(B.floating,d.y);return o?{...$,transform:"translate("+F+"px, "+H+"px)",...$I(B.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:F,top:H}},[t,o,B.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:z,refs:K,elements:B,floatingStyles:U}),[d,z,K,B,U])}const k9=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?OR({element:r.current,padding:s}).fn(t):{}:r?OR({element:r,padding:s}).fn(t):{}}}},I9=(n,e)=>({...w9(n),options:[n,e]}),_9=(n,e)=>({...b9(n),options:[n,e]}),M9=(n,e)=>({...C9(n),options:[n,e]}),O9=(n,e)=>({...S9(n),options:[n,e]}),j9=(n,e)=>({...E9(n),options:[n,e]}),D9=(n,e)=>({...A9(n),options:[n,e]}),L9=(n,e)=>({...k9(n),options:[n,e]});var F9="Arrow",BI=S.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...i}=n;return f.jsx(be.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});BI.displayName=F9;var $9=BI;function Q0(n){const[e,t]=S.useState(void 0);return Tn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,o;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=n.offsetWidth,o=n.offsetHeight;t({width:a,height:o})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var UA="Popper",[zI,Ff]=rr(UA),[B9,UI]=zI(UA),VI=n=>{const{__scopePopper:e,children:t}=n,[r,s]=S.useState(null);return f.jsx(B9,{scope:e,anchor:r,onAnchorChange:s,children:t})};VI.displayName=UA;var HI="PopperAnchor",WI=S.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,i=UI(HI,t),a=S.useRef(null),o=Oe(e,a);return S.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:f.jsx(be.div,{...s,ref:o})});WI.displayName=HI;var VA="PopperContent",[z9,U9]=zI(VA),GI=S.forwardRef((n,e)=>{var L,W,Y,ie,de,Ae;const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=n,y=UI(VA,t),[x,w]=S.useState(null),b=Oe(e,nt=>w(nt)),[E,C]=S.useState(null),R=Q0(E),P=(R==null?void 0:R.width)??0,k=(R==null?void 0:R.height)??0,I=r+(i!=="center"?"-"+i:""),_=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(c)?c:[c],M=O.length>0,z={padding:_,boundary:O.filter(H9),altBoundary:M},{refs:D,floatingStyles:K,placement:B,isPositioned:U,middlewareData:$}=P9({strategy:"fixed",placement:I,whileElementsMounted:(...nt)=>x9(...nt,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[I9({mainAxis:s+k,alignmentAxis:a}),l&&_9({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?M9():void 0,...z}),l&&O9({...z}),j9({...z,apply:({elements:nt,rects:_t,availableWidth:Ln,availableHeight:Nt})=>{const{width:Fn,height:Yi}=_t.reference,ir=nt.floating.style;ir.setProperty("--radix-popper-available-width",`${Ln}px`),ir.setProperty("--radix-popper-available-height",`${Nt}px`),ir.setProperty("--radix-popper-anchor-width",`${Fn}px`),ir.setProperty("--radix-popper-anchor-height",`${Yi}px`)}}),E&&L9({element:E,padding:o}),W9({arrowWidth:P,arrowHeight:k}),p&&D9({strategy:"referenceHidden",...z})]}),[F,H]=XI(B),J=Sr(v);Tn(()=>{U&&(J==null||J())},[U,J]);const Z=(L=$.arrow)==null?void 0:L.x,te=(W=$.arrow)==null?void 0:W.y,ye=((Y=$.arrow)==null?void 0:Y.centerOffset)!==0,[Ne,Q]=S.useState();return Tn(()=>{x&&Q(window.getComputedStyle(x).zIndex)},[x]),f.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:U?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[(ie=$.transformOrigin)==null?void 0:ie.x,(de=$.transformOrigin)==null?void 0:de.y].join(" "),...((Ae=$.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:f.jsx(z9,{scope:t,placedSide:F,onArrowChange:C,arrowX:Z,arrowY:te,shouldHideArrow:ye,children:f.jsx(be.div,{"data-side":F,"data-align":H,...g,ref:b,style:{...g.style,animation:U?void 0:"none"}})})})});GI.displayName=VA;var KI="PopperArrow",V9={top:"bottom",right:"left",bottom:"top",left:"right"},YI=S.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,i=U9(KI,r),a=V9[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx($9,{...s,ref:t,style:{...s.style,display:"block"}})})});YI.displayName=KI;function H9(n){return n!==null}var W9=n=>({name:"transformOrigin",options:n,fn(e){var y,x,w;const{placement:t,rects:r,middlewareData:s}=e,a=((y=s.arrow)==null?void 0:y.centerOffset)!==0,o=a?0:n.arrowWidth,l=a?0:n.arrowHeight,[c,d]=XI(t),h={start:"0%",center:"50%",end:"100%"}[d],p=(((x=s.arrow)==null?void 0:x.x)??0)+o/2,m=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let v="",g="";return c==="bottom"?(v=a?h:`${p}px`,g=`${-l}px`):c==="top"?(v=a?h:`${p}px`,g=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,g=a?h:`${m}px`):c==="left"&&(v=`${r.floating.width+l}px`,g=a?h:`${m}px`),{data:{x:v,y:g}}}});function XI(n){const[e,t="center"]=n.split("-");return[e,t]}var QI=VI,HA=WI,WA=GI,GA=YI,[Z0,EK]=rr("Tooltip",[Ff]),KA=Ff(),ZI="TooltipProvider",G9=700,DR="tooltip.open",[K9,JI]=Z0(ZI),qI=n=>{const{__scopeTooltip:e,delayDuration:t=G9,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=n,a=S.useRef(!0),o=S.useRef(!1),l=S.useRef(0);return S.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),f.jsx(K9,{scope:e,isOpenDelayedRef:a,delayDuration:t,onOpen:S.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:S.useCallback(c=>{o.current=c},[]),disableHoverableContent:s,children:i})};qI.displayName=ZI;var e_="Tooltip",[AK,J0]=Z0(e_),_1="TooltipTrigger",Y9=S.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=J0(_1,t),i=JI(_1,t),a=KA(t),o=S.useRef(null),l=Oe(e,o,s.onTriggerChange),c=S.useRef(!1),d=S.useRef(!1),h=S.useCallback(()=>c.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),f.jsx(HA,{asChild:!0,...a,children:f.jsx(be.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:re(n.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:re(n.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:re(n.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:re(n.onFocus,()=>{c.current||s.onOpen()}),onBlur:re(n.onBlur,s.onClose),onClick:re(n.onClick,s.onClose)})})});Y9.displayName=_1;var X9="TooltipPortal",[CK,Q9]=Z0(X9,{forceMount:void 0}),Af="TooltipContent",t_=S.forwardRef((n,e)=>{const t=Q9(Af,n.__scopeTooltip),{forceMount:r=t.forceMount,side:s="top",...i}=n,a=J0(Af,n.__scopeTooltip);return f.jsx(Jr,{present:r||a.open,children:a.disableHoverableContent?f.jsx(n_,{side:s,...i,ref:e}):f.jsx(Z9,{side:s,...i,ref:e})})}),Z9=S.forwardRef((n,e)=>{const t=J0(Af,n.__scopeTooltip),r=JI(Af,n.__scopeTooltip),s=S.useRef(null),i=Oe(e,s),[a,o]=S.useState(null),{trigger:l,onClose:c}=t,d=s.current,{onPointerInTransitChange:h}=r,p=S.useCallback(()=>{o(null),h(!1)},[h]),m=S.useCallback((v,g)=>{const y=v.currentTarget,x={x:v.clientX,y:v.clientY},w=nB(x,y.getBoundingClientRect()),b=rB(x,w),E=sB(g.getBoundingClientRect()),C=aB([...b,...E]);o(C),h(!0)},[h]);return S.useEffect(()=>()=>p(),[p]),S.useEffect(()=>{if(l&&d){const v=y=>m(y,d),g=y=>m(y,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[l,d,m,p]),S.useEffect(()=>{if(a){const v=g=>{const y=g.target,x={x:g.clientX,y:g.clientY},w=(l==null?void 0:l.contains(y))||(d==null?void 0:d.contains(y)),b=!iB(x,a);w?p():b&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,a,c,p]),f.jsx(n_,{...n,ref:i})}),[J9,q9]=Z0(e_,{isInside:!1}),eB=v3("TooltipContent"),n_=S.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...o}=n,l=J0(Af,t),c=KA(t),{onClose:d}=l;return S.useEffect(()=>(document.addEventListener(DR,d),()=>document.removeEventListener(DR,d)),[d]),S.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),f.jsx(Of,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:f.jsxs(WA,{"data-state":l.stateAttribute,...c,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(eB,{children:r}),f.jsx(J9,{scope:t,isInside:!0,children:f.jsx($3,{id:l.contentId,role:"tooltip",children:s||r})})]})})});t_.displayName=Af;var r_="TooltipArrow",tB=S.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=KA(t);return q9(r_,t).isInside?null:f.jsx(GA,{...s,...r,ref:e})});tB.displayName=r_;function nB(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),i=Math.abs(e.left-n.x);switch(Math.min(t,r,s,i)){case i:return"left";case s:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function rB(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function sB(n){const{top:e,right:t,bottom:r,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:r},{x:s,y:r}]}function iB(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const o=e[i],l=e[a],c=o.x,d=o.y,h=l.x,p=l.y;d>r!=p>r&&t<(h-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function aB(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),oB(e)}function oB(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const s=n[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var lB=qI,s_=t_;const cB=lB,uB=S.forwardRef(({className:n,sideOffset:e=4,...t},r)=>f.jsx(s_,{ref:r,sideOffset:e,className:Ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));uB.displayName=s_.displayName;var $f=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Wu=typeof window>"u"||"Deno"in globalThis;function Xn(){}function dB(n,e){return typeof n=="function"?n(e):n}function M1(n){return typeof n=="number"&&n>=0&&n!==1/0}function i_(n,e){return Math.max(n+(e||0)-Date.now(),0)}function _l(n,e){return typeof n=="function"?n(e):n}function Ws(n,e){return typeof n=="function"?n(e):n}function LR(n,e){const{type:t="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:o}=n;if(a){if(r){if(e.queryHash!==YA(a,e.options))return!1}else if(!mm(e.queryKey,a))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||s&&s!==e.state.fetchStatus||i&&!i(e))}function FR(n,e){const{exact:t,status:r,predicate:s,mutationKey:i}=n;if(i){if(!e.options.mutationKey)return!1;if(t){if(Gu(e.options.mutationKey)!==Gu(i))return!1}else if(!mm(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function YA(n,e){return((e==null?void 0:e.queryKeyHashFn)||Gu)(n)}function Gu(n){return JSON.stringify(n,(e,t)=>O1(t)?Object.keys(t).sort().reduce((r,s)=>(r[s]=t[s],r),{}):t)}function mm(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>mm(n[t],e[t])):!1}function a_(n,e){if(n===e)return n;const t=$R(n)&&$R(e);if(t||O1(n)&&O1(e)){const r=t?n:Object.keys(n),s=r.length,i=t?e:Object.keys(e),a=i.length,o=t?[]:{},l=new Set(r);let c=0;for(let d=0;d<a;d++){const h=t?d:i[d];(!t&&l.has(h)||t)&&n[h]===void 0&&e[h]===void 0?(o[h]=void 0,c++):(o[h]=a_(n[h],e[h]),o[h]===n[h]&&n[h]!==void 0&&c++)}return s===a&&c===s?n:o}return e}function Ox(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function $R(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function O1(n){if(!BR(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!BR(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function BR(n){return Object.prototype.toString.call(n)==="[object Object]"}function hB(n){return new Promise(e=>{setTimeout(e,n)})}function j1(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?a_(n,e):e}function fB(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function pB(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var XA=Symbol();function o_(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===XA?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function l_(n,e){return typeof n=="function"?n(...e):!!n}var yc,Ro,Jd,m2,mB=(m2=class extends $f{constructor(){super();T(this,yc);T(this,Ro);T(this,Jd);A(this,Jd,e=>{if(!Wu&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){u(this,Ro)||this.setEventListener(u(this,Jd))}onUnsubscribe(){var e;this.hasListeners()||((e=u(this,Ro))==null||e.call(this),A(this,Ro,void 0))}setEventListener(e){var t;A(this,Jd,e),(t=u(this,Ro))==null||t.call(this),A(this,Ro,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){u(this,yc)!==e&&(A(this,yc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof u(this,yc)=="boolean"?u(this,yc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},yc=new WeakMap,Ro=new WeakMap,Jd=new WeakMap,m2),QA=new mB,qd,No,eh,g2,gB=(g2=class extends $f{constructor(){super();T(this,qd,!0);T(this,No);T(this,eh);A(this,eh,e=>{if(!Wu&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){u(this,No)||this.setEventListener(u(this,eh))}onUnsubscribe(){var e;this.hasListeners()||((e=u(this,No))==null||e.call(this),A(this,No,void 0))}setEventListener(e){var t;A(this,eh,e),(t=u(this,No))==null||t.call(this),A(this,No,e(this.setOnline.bind(this)))}setOnline(e){u(this,qd)!==e&&(A(this,qd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return u(this,qd)}},qd=new WeakMap,No=new WeakMap,eh=new WeakMap,g2),jx=new gB;function D1(){let n,e;const t=new Promise((s,i)=>{n=s,e=i});t.status="pending",t.catch(()=>{});function r(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{r({status:"fulfilled",value:s}),n(s)},t.reject=s=>{r({status:"rejected",reason:s}),e(s)},t}function vB(n){return Math.min(1e3*2**n,3e4)}function c_(n){return(n??"online")==="online"?jx.isOnline():!0}var u_=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function ob(n){return n instanceof u_}function d_(n){let e=!1,t=0,r=!1,s;const i=D1(),a=g=>{var y;r||(p(new u_(g)),(y=n.abort)==null||y.call(n))},o=()=>{e=!0},l=()=>{e=!1},c=()=>QA.isFocused()&&(n.networkMode==="always"||jx.isOnline())&&n.canRun(),d=()=>c_(n.networkMode)&&n.canRun(),h=g=>{var y;r||(r=!0,(y=n.onSuccess)==null||y.call(n,g),s==null||s(),i.resolve(g))},p=g=>{var y;r||(r=!0,(y=n.onError)==null||y.call(n,g),s==null||s(),i.reject(g))},m=()=>new Promise(g=>{var y;s=x=>{(r||c())&&g(x)},(y=n.onPause)==null||y.call(n)}).then(()=>{var g;s=void 0,r||(g=n.onContinue)==null||g.call(n)}),v=()=>{if(r)return;let g;const y=t===0?n.initialPromise:void 0;try{g=y??n.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(h).catch(x=>{var R;if(r)return;const w=n.retry??(Wu?0:3),b=n.retryDelay??vB,E=typeof b=="function"?b(t,x):b,C=w===!0||typeof w=="number"&&t<w||typeof w=="function"&&w(t,x);if(e||!C){p(x);return}t++,(R=n.onFail)==null||R.call(n,t,x),hB(E).then(()=>c()?void 0:m()).then(()=>{e?p(x):v()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?v():m().then(v),i)}}var yB=n=>setTimeout(n,0);function xB(){let n=[],e=0,t=o=>{o()},r=o=>{o()},s=yB;const i=o=>{e?n.push(o):s(()=>{t(o)})},a=()=>{const o=n;n=[],o.length&&s(()=>{r(()=>{o.forEach(l=>{t(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{t=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var qt=xB(),xc,v2,h_=(v2=class{constructor(){T(this,xc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),M1(this.gcTime)&&A(this,xc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Wu?1/0:5*60*1e3))}clearGcTimeout(){u(this,xc)&&(clearTimeout(u(this,xc)),A(this,xc,void 0))}},xc=new WeakMap,v2),th,wc,es,bc,In,Tm,Sc,Ps,qi,y2,wB=(y2=class extends h_{constructor(e){super();T(this,Ps);T(this,th);T(this,wc);T(this,es);T(this,bc);T(this,In);T(this,Tm);T(this,Sc);A(this,Sc,!1),A(this,Tm,e.defaultOptions),this.setOptions(e.options),this.observers=[],A(this,bc,e.client),A(this,es,u(this,bc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,A(this,th,bB(this.options)),this.state=e.state??u(this,th),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=u(this,In))==null?void 0:e.promise}setOptions(e){this.options={...u(this,Tm),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&u(this,es).remove(this)}setData(e,t){const r=j1(this.state.data,e,this.options);return N(this,Ps,qi).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){N(this,Ps,qi).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,s;const t=(r=u(this,In))==null?void 0:r.promise;return(s=u(this,In))==null||s.cancel(e),t?t.then(Xn).catch(Xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(u(this,th))}isActive(){return this.observers.some(e=>Ws(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===XA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>_l(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!i_(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=u(this,In))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=u(this,In))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),u(this,es).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(u(this,In)&&(u(this,Sc)?u(this,In).cancel({revert:!0}):u(this,In).cancelRetry()),this.scheduleGc()),u(this,es).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||N(this,Ps,qi).call(this,{type:"invalidate"})}fetch(e,t){var c,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(u(this,In))return u(this,In).continueRetry(),u(this,In).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(A(this,Sc,!0),r.signal)})},i=()=>{const p=o_(this.options,t),v=(()=>{const g={client:u(this,bc),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return A(this,Sc,!1),this.options.persister?this.options.persister(p,v,this):p(v)},o=(()=>{const p={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:u(this,bc),state:this.state,fetchFn:i};return s(p),p})();(c=this.options.behavior)==null||c.onFetch(o,this),A(this,wc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&N(this,Ps,qi).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const l=p=>{var m,v,g,y;ob(p)&&p.silent||N(this,Ps,qi).call(this,{type:"error",error:p}),ob(p)||((v=(m=u(this,es).config).onError)==null||v.call(m,p,this),(y=(g=u(this,es).config).onSettled)==null||y.call(g,this.state.data,p,this)),this.scheduleGc()};return A(this,In,d_({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var m,v,g,y;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(x){l(x);return}(v=(m=u(this,es).config).onSuccess)==null||v.call(m,p,this),(y=(g=u(this,es).config).onSettled)==null||y.call(g,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,m)=>{N(this,Ps,qi).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{N(this,Ps,qi).call(this,{type:"pause"})},onContinue:()=>{N(this,Ps,qi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),u(this,In).start()}},th=new WeakMap,wc=new WeakMap,es=new WeakMap,bc=new WeakMap,In=new WeakMap,Tm=new WeakMap,Sc=new WeakMap,Ps=new WeakSet,qi=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...f_(r.data,this.options),fetchMeta:e.meta??null};case"success":return A(this,wc,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return ob(s)&&s.revert&&u(this,wc)?{...u(this,wc),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),qt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),u(this,es).notify({query:this,type:"updated",action:e})})},y2);function f_(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:c_(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function bB(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var di,x2,SB=(x2=class extends $f{constructor(e={}){super();T(this,di);this.config=e,A(this,di,new Map)}build(e,t,r){const s=t.queryKey,i=t.queryHash??YA(s,t);let a=this.get(i);return a||(a=new wB({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){u(this,di).has(e.queryHash)||(u(this,di).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=u(this,di).get(e.queryHash);t&&(e.destroy(),t===e&&u(this,di).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){qt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return u(this,di).get(e)}getAll(){return[...u(this,di).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>LR(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>LR(e,r)):t}notify(e){qt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){qt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){qt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},di=new WeakMap,x2),hi,zn,Ec,fi,go,w2,EB=(w2=class extends h_{constructor(e){super();T(this,fi);T(this,hi);T(this,zn);T(this,Ec);this.mutationId=e.mutationId,A(this,zn,e.mutationCache),A(this,hi,[]),this.state=e.state||p_(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){u(this,hi).includes(e)||(u(this,hi).push(e),this.clearGcTimeout(),u(this,zn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){A(this,hi,u(this,hi).filter(t=>t!==e)),this.scheduleGc(),u(this,zn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){u(this,hi).length||(this.state.status==="pending"?this.scheduleGc():u(this,zn).remove(this))}continue(){var e;return((e=u(this,Ec))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,o,l,c,d,h,p,m,v,g,y,x,w,b,E,C,R,P,k;const t=()=>{N(this,fi,go).call(this,{type:"continue"})};A(this,Ec,d_({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(I,_)=>{N(this,fi,go).call(this,{type:"failed",failureCount:I,error:_})},onPause:()=>{N(this,fi,go).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>u(this,zn).canRun(this)}));const r=this.state.status==="pending",s=!u(this,Ec).canStart();try{if(r)t();else{N(this,fi,go).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(i=u(this,zn).config).onMutate)==null?void 0:a.call(i,e,this));const _=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));_!==this.state.context&&N(this,fi,go).call(this,{type:"pending",context:_,variables:e,isPaused:s})}const I=await u(this,Ec).start();return await((d=(c=u(this,zn).config).onSuccess)==null?void 0:d.call(c,I,e,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,I,e,this.state.context)),await((v=(m=u(this,zn).config).onSettled)==null?void 0:v.call(m,I,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,I,null,e,this.state.context)),N(this,fi,go).call(this,{type:"success",data:I}),I}catch(I){try{throw await((w=(x=u(this,zn).config).onError)==null?void 0:w.call(x,I,e,this.state.context,this)),await((E=(b=this.options).onError)==null?void 0:E.call(b,I,e,this.state.context)),await((R=(C=u(this,zn).config).onSettled)==null?void 0:R.call(C,void 0,I,this.state.variables,this.state.context,this)),await((k=(P=this.options).onSettled)==null?void 0:k.call(P,void 0,I,e,this.state.context)),I}finally{N(this,fi,go).call(this,{type:"error",error:I})}}finally{u(this,zn).runNext(this)}}},hi=new WeakMap,zn=new WeakMap,Ec=new WeakMap,fi=new WeakSet,go=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),qt.batch(()=>{u(this,hi).forEach(r=>{r.onMutationUpdate(e)}),u(this,zn).notify({mutation:this,type:"updated",action:e})})},w2);function p_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var oa,ks,Rm,b2,AB=(b2=class extends $f{constructor(e={}){super();T(this,oa);T(this,ks);T(this,Rm);this.config=e,A(this,oa,new Set),A(this,ks,new Map),A(this,Rm,0)}build(e,t,r){const s=new EB({mutationCache:this,mutationId:++nn(this,Rm)._,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){u(this,oa).add(e);const t=Xv(e);if(typeof t=="string"){const r=u(this,ks).get(t);r?r.push(e):u(this,ks).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(u(this,oa).delete(e)){const t=Xv(e);if(typeof t=="string"){const r=u(this,ks).get(t);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&u(this,ks).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Xv(e);if(typeof t=="string"){const r=u(this,ks).get(t),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const t=Xv(e);if(typeof t=="string"){const s=(r=u(this,ks).get(t))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){qt.batch(()=>{u(this,oa).forEach(e=>{this.notify({type:"removed",mutation:e})}),u(this,oa).clear(),u(this,ks).clear()})}getAll(){return Array.from(u(this,oa))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>FR(t,r))}findAll(e={}){return this.getAll().filter(t=>FR(e,t))}notify(e){qt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return qt.batch(()=>Promise.all(e.map(t=>t.continue().catch(Xn))))}},oa=new WeakMap,ks=new WeakMap,Rm=new WeakMap,b2);function Xv(n){var e;return(e=n.options.scope)==null?void 0:e.id}function zR(n){return{onFetch:(e,t)=>{var d,h,p,m,v;const r=e.options,s=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],a=((v=e.state.data)==null?void 0:v.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=o_(e.options,e.fetchOptions),w=async(b,E,C)=>{if(g)return Promise.reject();if(E==null&&b.pages.length)return Promise.resolve(b);const P=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:E,direction:C?"backward":"forward",meta:e.options.meta};return y(O),O})(),k=await x(P),{maxPages:I}=e.options,_=C?pB:fB;return{pages:_(b.pages,k,I),pageParams:_(b.pageParams,E,I)}};if(s&&i.length){const b=s==="backward",E=b?CB:UR,C={pages:i,pageParams:a},R=E(r,C);o=await w(C,R,b)}else{const b=n??i.length;do{const E=l===0?a[0]??r.initialPageParam:UR(r,o);if(l>0&&E==null)break;o=await w(o,E),l++}while(l<b)}return o};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=c}}}function UR(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function CB(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var Pt,Po,ko,nh,rh,Io,sh,ih,S2,TB=(S2=class{constructor(n={}){T(this,Pt);T(this,Po);T(this,ko);T(this,nh);T(this,rh);T(this,Io);T(this,sh);T(this,ih);A(this,Pt,n.queryCache||new SB),A(this,Po,n.mutationCache||new AB),A(this,ko,n.defaultOptions||{}),A(this,nh,new Map),A(this,rh,new Map),A(this,Io,0)}mount(){nn(this,Io)._++,u(this,Io)===1&&(A(this,sh,QA.subscribe(async n=>{n&&(await this.resumePausedMutations(),u(this,Pt).onFocus())})),A(this,ih,jx.subscribe(async n=>{n&&(await this.resumePausedMutations(),u(this,Pt).onOnline())})))}unmount(){var n,e;nn(this,Io)._--,u(this,Io)===0&&((n=u(this,sh))==null||n.call(this),A(this,sh,void 0),(e=u(this,ih))==null||e.call(this),A(this,ih,void 0))}isFetching(n){return u(this,Pt).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return u(this,Po).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=u(this,Pt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=u(this,Pt).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(_l(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return u(this,Pt).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),s=u(this,Pt).get(r.queryHash),i=s==null?void 0:s.state.data,a=dB(e,i);if(a!==void 0)return u(this,Pt).build(this,r).setData(a,{...t,manual:!0})}setQueriesData(n,e,t){return qt.batch(()=>u(this,Pt).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=u(this,Pt).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=u(this,Pt);qt.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=u(this,Pt);return qt.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=qt.batch(()=>u(this,Pt).findAll(n).map(s=>s.cancel(t)));return Promise.all(r).then(Xn).catch(Xn)}invalidateQueries(n,e={}){return qt.batch(()=>(u(this,Pt).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=qt.batch(()=>u(this,Pt).findAll(n).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,t);return t.throwOnError||(i=i.catch(Xn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Xn)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=u(this,Pt).build(this,e);return t.isStaleByTime(_l(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Xn).catch(Xn)}fetchInfiniteQuery(n){return n.behavior=zR(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Xn).catch(Xn)}ensureInfiniteQueryData(n){return n.behavior=zR(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return jx.isOnline()?u(this,Po).resumePausedMutations():Promise.resolve()}getQueryCache(){return u(this,Pt)}getMutationCache(){return u(this,Po)}getDefaultOptions(){return u(this,ko)}setDefaultOptions(n){A(this,ko,n)}setQueryDefaults(n,e){u(this,nh).set(Gu(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...u(this,nh).values()],t={};return e.forEach(r=>{mm(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){u(this,rh).set(Gu(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...u(this,rh).values()],t={};return e.forEach(r=>{mm(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...u(this,ko).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=YA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===XA&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...u(this,ko).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){u(this,Pt).clear(),u(this,Po).clear()}},Pt=new WeakMap,Po=new WeakMap,ko=new WeakMap,nh=new WeakMap,rh=new WeakMap,Io=new WeakMap,sh=new WeakMap,ih=new WeakMap,S2),cr,Ue,Nm,Un,Ac,ah,_o,Mo,Pm,oh,lh,Cc,Tc,Oo,ch,qe,fp,L1,F1,$1,B1,z1,U1,V1,m_,E2,RB=(E2=class extends $f{constructor(e,t){super();T(this,qe);T(this,cr);T(this,Ue);T(this,Nm);T(this,Un);T(this,Ac);T(this,ah);T(this,_o);T(this,Mo);T(this,Pm);T(this,oh);T(this,lh);T(this,Cc);T(this,Tc);T(this,Oo);T(this,ch,new Set);this.options=t,A(this,cr,e),A(this,Mo,null),A(this,_o,D1()),this.options.experimental_prefetchInRender||u(this,_o).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(u(this,Ue).addObserver(this),VR(u(this,Ue),this.options)?N(this,qe,fp).call(this):this.updateResult(),N(this,qe,B1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return H1(u(this,Ue),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return H1(u(this,Ue),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,N(this,qe,z1).call(this),N(this,qe,U1).call(this),u(this,Ue).removeObserver(this)}setOptions(e){const t=this.options,r=u(this,Ue);if(this.options=u(this,cr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ws(this.options.enabled,u(this,Ue))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");N(this,qe,V1).call(this),u(this,Ue).setOptions(this.options),t._defaulted&&!Ox(this.options,t)&&u(this,cr).getQueryCache().notify({type:"observerOptionsUpdated",query:u(this,Ue),observer:this});const s=this.hasListeners();s&&HR(u(this,Ue),r,this.options,t)&&N(this,qe,fp).call(this),this.updateResult(),s&&(u(this,Ue)!==r||Ws(this.options.enabled,u(this,Ue))!==Ws(t.enabled,u(this,Ue))||_l(this.options.staleTime,u(this,Ue))!==_l(t.staleTime,u(this,Ue)))&&N(this,qe,L1).call(this);const i=N(this,qe,F1).call(this);s&&(u(this,Ue)!==r||Ws(this.options.enabled,u(this,Ue))!==Ws(t.enabled,u(this,Ue))||i!==u(this,Oo))&&N(this,qe,$1).call(this,i)}getOptimisticResult(e){const t=u(this,cr).getQueryCache().build(u(this,cr),e),r=this.createResult(t,e);return PB(this,r)&&(A(this,Un,r),A(this,ah,this.options),A(this,Ac,u(this,Ue).state)),r}getCurrentResult(){return u(this,Un)}trackResult(e,t){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),t==null||t(s),Reflect.get(r,s))})}trackProp(e){u(this,ch).add(e)}getCurrentQuery(){return u(this,Ue)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=u(this,cr).defaultQueryOptions(e),r=u(this,cr).getQueryCache().build(u(this,cr),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return N(this,qe,fp).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),u(this,Un)))}createResult(e,t){var I;const r=u(this,Ue),s=this.options,i=u(this,Un),a=u(this,Ac),o=u(this,ah),c=e!==r?e.state:u(this,Nm),{state:d}=e;let h={...d},p=!1,m;if(t._optimisticResults){const _=this.hasListeners(),O=!_&&VR(e,t),M=_&&HR(e,r,t,s);(O||M)&&(h={...h,...f_(d.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:y}=h;m=h.data;let x=!1;if(t.placeholderData!==void 0&&m===void 0&&y==="pending"){let _;i!=null&&i.isPlaceholderData&&t.placeholderData===(o==null?void 0:o.placeholderData)?(_=i.data,x=!0):_=typeof t.placeholderData=="function"?t.placeholderData((I=u(this,lh))==null?void 0:I.state.data,u(this,lh)):t.placeholderData,_!==void 0&&(y="success",m=j1(i==null?void 0:i.data,_,t),p=!0)}if(t.select&&m!==void 0&&!x)if(i&&m===(a==null?void 0:a.data)&&t.select===u(this,Pm))m=u(this,oh);else try{A(this,Pm,t.select),m=t.select(m),m=j1(i==null?void 0:i.data,m,t),A(this,oh,m),A(this,Mo,null)}catch(_){A(this,Mo,_)}u(this,Mo)&&(v=u(this,Mo),m=u(this,oh),g=Date.now(),y="error");const w=h.fetchStatus==="fetching",b=y==="pending",E=y==="error",C=b&&w,R=m!==void 0,k={status:y,fetchStatus:h.fetchStatus,isPending:b,isSuccess:y==="success",isError:E,isInitialLoading:C,isLoading:C,data:m,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!b,isLoadingError:E&&!R,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:E&&R,isStale:ZA(e,t),refetch:this.refetch,promise:u(this,_o)};if(this.options.experimental_prefetchInRender){const _=z=>{k.status==="error"?z.reject(k.error):k.data!==void 0&&z.resolve(k.data)},O=()=>{const z=A(this,_o,k.promise=D1());_(z)},M=u(this,_o);switch(M.status){case"pending":e.queryHash===r.queryHash&&_(M);break;case"fulfilled":(k.status==="error"||k.data!==M.value)&&O();break;case"rejected":(k.status!=="error"||k.error!==M.reason)&&O();break}}return k}updateResult(){const e=u(this,Un),t=this.createResult(u(this,Ue),this.options);if(A(this,Ac,u(this,Ue).state),A(this,ah,this.options),u(this,Ac).data!==void 0&&A(this,lh,u(this,Ue)),Ox(t,e))return;A(this,Un,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!u(this,ch).size)return!0;const a=new Set(i??u(this,ch));return this.options.throwOnError&&a.add("error"),Object.keys(u(this,Un)).some(o=>{const l=o;return u(this,Un)[l]!==e[l]&&a.has(l)})};N(this,qe,m_).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&N(this,qe,B1).call(this)}},cr=new WeakMap,Ue=new WeakMap,Nm=new WeakMap,Un=new WeakMap,Ac=new WeakMap,ah=new WeakMap,_o=new WeakMap,Mo=new WeakMap,Pm=new WeakMap,oh=new WeakMap,lh=new WeakMap,Cc=new WeakMap,Tc=new WeakMap,Oo=new WeakMap,ch=new WeakMap,qe=new WeakSet,fp=function(e){N(this,qe,V1).call(this);let t=u(this,Ue).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Xn)),t},L1=function(){N(this,qe,z1).call(this);const e=_l(this.options.staleTime,u(this,Ue));if(Wu||u(this,Un).isStale||!M1(e))return;const r=i_(u(this,Un).dataUpdatedAt,e)+1;A(this,Cc,setTimeout(()=>{u(this,Un).isStale||this.updateResult()},r))},F1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(u(this,Ue)):this.options.refetchInterval)??!1},$1=function(e){N(this,qe,U1).call(this),A(this,Oo,e),!(Wu||Ws(this.options.enabled,u(this,Ue))===!1||!M1(u(this,Oo))||u(this,Oo)===0)&&A(this,Tc,setInterval(()=>{(this.options.refetchIntervalInBackground||QA.isFocused())&&N(this,qe,fp).call(this)},u(this,Oo)))},B1=function(){N(this,qe,L1).call(this),N(this,qe,$1).call(this,N(this,qe,F1).call(this))},z1=function(){u(this,Cc)&&(clearTimeout(u(this,Cc)),A(this,Cc,void 0))},U1=function(){u(this,Tc)&&(clearInterval(u(this,Tc)),A(this,Tc,void 0))},V1=function(){const e=u(this,cr).getQueryCache().build(u(this,cr),this.options);if(e===u(this,Ue))return;const t=u(this,Ue);A(this,Ue,e),A(this,Nm,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},m_=function(e){qt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(u(this,Un))}),u(this,cr).getQueryCache().notify({query:u(this,Ue),type:"observerResultsUpdated"})})},E2);function NB(n,e){return Ws(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function VR(n,e){return NB(n,e)||n.state.data!==void 0&&H1(n,e,e.refetchOnMount)}function H1(n,e,t){if(Ws(e.enabled,n)!==!1&&_l(e.staleTime,n)!=="static"){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&ZA(n,e)}return!1}function HR(n,e,t,r){return(n!==e||Ws(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&ZA(n,t)}function ZA(n,e){return Ws(e.enabled,n)!==!1&&n.isStaleByTime(_l(e.staleTime,n))}function PB(n,e){return!Ox(n.getCurrentResult(),e)}var jo,Do,ur,la,Qa,Ey,W1,A2,kB=(A2=class extends $f{constructor(t,r){super();T(this,Qa);T(this,jo);T(this,Do);T(this,ur);T(this,la);A(this,jo,t),this.setOptions(r),this.bindMethods(),N(this,Qa,Ey).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var s;const r=this.options;this.options=u(this,jo).defaultMutationOptions(t),Ox(this.options,r)||u(this,jo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:u(this,ur),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Gu(r.mutationKey)!==Gu(this.options.mutationKey)?this.reset():((s=u(this,ur))==null?void 0:s.state.status)==="pending"&&u(this,ur).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=u(this,ur))==null||t.removeObserver(this)}onMutationUpdate(t){N(this,Qa,Ey).call(this),N(this,Qa,W1).call(this,t)}getCurrentResult(){return u(this,Do)}reset(){var t;(t=u(this,ur))==null||t.removeObserver(this),A(this,ur,void 0),N(this,Qa,Ey).call(this),N(this,Qa,W1).call(this)}mutate(t,r){var s;return A(this,la,r),(s=u(this,ur))==null||s.removeObserver(this),A(this,ur,u(this,jo).getMutationCache().build(u(this,jo),this.options)),u(this,ur).addObserver(this),u(this,ur).execute(t)}},jo=new WeakMap,Do=new WeakMap,ur=new WeakMap,la=new WeakMap,Qa=new WeakSet,Ey=function(){var r;const t=((r=u(this,ur))==null?void 0:r.state)??p_();A(this,Do,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},W1=function(t){qt.batch(()=>{var r,s,i,a,o,l,c,d;if(u(this,la)&&this.hasListeners()){const h=u(this,Do).variables,p=u(this,Do).context;(t==null?void 0:t.type)==="success"?((s=(r=u(this,la)).onSuccess)==null||s.call(r,t.data,h,p),(a=(i=u(this,la)).onSettled)==null||a.call(i,t.data,null,h,p)):(t==null?void 0:t.type)==="error"&&((l=(o=u(this,la)).onError)==null||l.call(o,t.error,h,p),(d=(c=u(this,la)).onSettled)==null||d.call(c,void 0,t.error,h,p))}this.listeners.forEach(h=>{h(u(this,Do))})})},A2),g_=S.createContext(void 0),JA=n=>{const e=S.useContext(g_);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},IB=({client:n,children:e})=>(S.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),f.jsx(g_.Provider,{value:n,children:e})),v_=S.createContext(!1),_B=()=>S.useContext(v_);v_.Provider;function MB(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var OB=S.createContext(MB()),jB=()=>S.useContext(OB),DB=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},LB=n=>{S.useEffect(()=>{n.clearReset()},[n])},FB=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:s})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(s&&n.data===void 0||l_(t,[n.error,r])),$B=n=>{if(n.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),t=n.staleTime;n.staleTime=typeof t=="function"?(...r)=>e(t(...r)):e(t),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},BB=(n,e)=>n.isLoading&&n.isFetching&&!e,zB=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,WR=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function UB(n,e,t){var h,p,m,v,g;const r=_B(),s=jB(),i=JA(),a=i.defaultQueryOptions(n);(p=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,a),a._optimisticResults=r?"isRestoring":"optimistic",$B(a),DB(a,s),LB(s);const o=!i.getQueryCache().get(a.queryHash),[l]=S.useState(()=>new e(i,a)),c=l.getOptimisticResult(a),d=!r&&n.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(y=>{const x=d?l.subscribe(qt.batchCalls(y)):Xn;return l.updateResult(),x},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),S.useEffect(()=>{l.setOptions(a)},[a,l]),zB(a,c))throw WR(a,l,s);if(FB({result:c,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw c.error;if((v=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,a,c),a.experimental_prefetchInRender&&!Wu&&BB(c,r)){const y=o?WR(a,l,s):(g=i.getQueryCache().get(a.queryHash))==null?void 0:g.promise;y==null||y.catch(Xn).finally(()=>{l.updateResult()})}return a.notifyOnChangeProps?c:l.trackResult(c)}function y_(n,e){return UB(n,RB)}function GR(n,e){const t=JA(),[r]=S.useState(()=>new kB(t,n));S.useEffect(()=>{r.setOptions(n)},[r,n]);const s=S.useSyncExternalStore(S.useCallback(a=>r.subscribe(qt.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=S.useCallback((a,o)=>{r.mutate(a,o).catch(Xn)},[r]);if(s.error&&l_(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gm(){return gm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gm.apply(this,arguments)}var Sl;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Sl||(Sl={}));const KR="popstate";function VB(n){n===void 0&&(n={});function e(r,s){let{pathname:i,search:a,hash:o}=r.location;return G1("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Dx(s)}return WB(e,t,null,n)}function Lt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function x_(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HB(){return Math.random().toString(36).substr(2,8)}function YR(n,e){return{usr:n.state,key:n.key,idx:e}}function G1(n,e,t,r){return t===void 0&&(t=null),gm({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Bf(e):e,{state:t,key:e&&e.key||r||HB()})}function Dx(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function WB(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=Sl.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(gm({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Sl.Pop;let y=d(),x=y==null?null:y-c;c=y,l&&l({action:o,location:g.location,delta:x})}function p(y,x){o=Sl.Push;let w=G1(g.location,y,x);c=d()+1;let b=YR(w,c),E=g.createHref(w);try{a.pushState(b,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(E)}i&&l&&l({action:o,location:g.location,delta:1})}function m(y,x){o=Sl.Replace;let w=G1(g.location,y,x);c=d();let b=YR(w,c),E=g.createHref(w);a.replaceState(b,"",E),i&&l&&l({action:o,location:g.location,delta:0})}function v(y){let x=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof y=="string"?y:Dx(y);return w=w.replace(/ $/,"%20"),Lt(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let g={get action(){return o},get location(){return n(s,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(KR,h),l=y,()=>{s.removeEventListener(KR,h),l=null}},createHref(y){return e(s,y)},createURL:v,encodeLocation(y){let x=v(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(y){return a.go(y)}};return g}var XR;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(XR||(XR={}));function GB(n,e,t){return t===void 0&&(t="/"),KB(n,e,t)}function KB(n,e,t,r){let s=typeof e=="string"?Bf(e):e,i=qA(s.pathname||"/",t);if(i==null)return null;let a=w_(n);YB(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=a8(i);o=r8(a[l],c)}return o}function w_(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(Lt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ml([r,l.relativePath]),d=t.concat(l);i.children&&i.children.length>0&&(Lt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),w_(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:t8(c,i.index),routesMeta:d})};return n.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of b_(i.path))s(i,a,l)}),e}function b_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=b_(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function YB(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:n8(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const XB=/^:[\w-]+$/,QB=3,ZB=2,JB=1,qB=10,e8=-2,QR=n=>n==="*";function t8(n,e){let t=n.split("/"),r=t.length;return t.some(QR)&&(r+=e8),e&&(r+=ZB),t.filter(s=>!QR(s)).reduce((s,i)=>s+(XB.test(i)?QB:i===""?JB:qB),r)}function n8(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function r8(n,e,t){let{routesMeta:r}=n,s={},i="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=s8({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Ml([i,h.pathname]),pathnameBase:u8(Ml([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Ml([i,h.pathnameBase]))}return a}function s8(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=i8(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let g=o[h]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const v=o[h];return m&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:n}}function i8(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),x_(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function a8(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return x_(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function qA(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function o8(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Bf(n):n;return{pathname:t?t.startsWith("/")?t:l8(t,e):e,search:d8(r),hash:h8(s)}}function l8(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function lb(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function c8(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function eC(n,e){let t=c8(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function tC(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=Bf(n):(s=gm({},n),Lt(!s.pathname||!s.pathname.includes("?"),lb("?","pathname","search",s)),Lt(!s.pathname||!s.pathname.includes("#"),lb("#","pathname","hash",s)),Lt(!s.search||!s.search.includes("#"),lb("#","search","hash",s)));let i=n===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=t;else{let h=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}o=h>=0?e[h]:"/"}let l=o8(s,o),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ml=n=>n.join("/").replace(/\/\/+/g,"/"),u8=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),d8=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,h8=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function f8(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const S_=["post","put","patch","delete"];new Set(S_);const p8=["get",...S_];new Set(p8);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vm(){return vm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vm.apply(this,arguments)}const nC=S.createContext(null),m8=S.createContext(null),Zl=S.createContext(null),q0=S.createContext(null),Ki=S.createContext({outlet:null,matches:[],isDataRoute:!1}),E_=S.createContext(null);function g8(n,e){let{relative:t}=e===void 0?{}:e;zf()||Lt(!1);let{basename:r,navigator:s}=S.useContext(Zl),{hash:i,pathname:a,search:o}=C_(n,{relative:t}),l=a;return r!=="/"&&(l=a==="/"?r:Ml([r,a])),s.createHref({pathname:l,search:o,hash:i})}function zf(){return S.useContext(q0)!=null}function Uf(){return zf()||Lt(!1),S.useContext(q0).location}function A_(n){S.useContext(Zl).static||S.useLayoutEffect(n)}function rd(){let{isDataRoute:n}=S.useContext(Ki);return n?_8():v8()}function v8(){zf()||Lt(!1);let n=S.useContext(nC),{basename:e,future:t,navigator:r}=S.useContext(Zl),{matches:s}=S.useContext(Ki),{pathname:i}=Uf(),a=JSON.stringify(eC(s,t.v7_relativeSplatPath)),o=S.useRef(!1);return A_(()=>{o.current=!0}),S.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let h=tC(c,JSON.parse(a),i,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ml([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,a,i,n])}const y8=S.createContext(null);function x8(n){let e=S.useContext(Ki).outlet;return e&&S.createElement(y8.Provider,{value:n},e)}function w8(){let{matches:n}=S.useContext(Ki),e=n[n.length-1];return e?e.params:{}}function C_(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=S.useContext(Zl),{matches:s}=S.useContext(Ki),{pathname:i}=Uf(),a=JSON.stringify(eC(s,r.v7_relativeSplatPath));return S.useMemo(()=>tC(n,JSON.parse(a),i,t==="path"),[n,a,i,t])}function b8(n,e){return S8(n,e)}function S8(n,e,t,r){zf()||Lt(!1);let{navigator:s}=S.useContext(Zl),{matches:i}=S.useContext(Ki),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Uf(),d;if(e){var h;let y=typeof e=="string"?Bf(e):e;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||Lt(!1),d=y}else d=c;let p=d.pathname||"/",m=p;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=GB(n,{pathname:m}),g=R8(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Ml([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Ml([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,t,r);return e&&g?S.createElement(q0.Provider,{value:{location:vm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Sl.Pop}},g):g}function E8(){let n=I8(),e=f8(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:s},t):null,null)}const A8=S.createElement(E8,null);class C8 extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?S.createElement(Ki.Provider,{value:this.props.routeContext},S.createElement(E_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function T8(n){let{routeContext:e,match:t,children:r}=n,s=S.useContext(nC);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(Ki.Provider,{value:e},r)}function R8(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=(s=t)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||Lt(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:m}=t,v=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,p)=>{let m,v=!1,g=null,y=null;t&&(m=o&&h.route.id?o[h.route.id]:void 0,g=h.route.errorElement||A8,l&&(c<0&&p===0?(M8("route-fallback"),v=!0,y=null):c===p&&(v=!0,y=h.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,p+1)),w=()=>{let b;return m?b=g:v?b=y:h.route.Component?b=S.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,S.createElement(T8,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:t!=null},children:b})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?S.createElement(C8,{location:t.location,revalidation:t.revalidation,component:g,error:m,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var T_=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(T_||{}),R_=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(R_||{});function N8(n){let e=S.useContext(nC);return e||Lt(!1),e}function P8(n){let e=S.useContext(m8);return e||Lt(!1),e}function k8(n){let e=S.useContext(Ki);return e||Lt(!1),e}function N_(n){let e=k8(),t=e.matches[e.matches.length-1];return t.route.id||Lt(!1),t.route.id}function I8(){var n;let e=S.useContext(E_),t=P8(),r=N_();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function _8(){let{router:n}=N8(T_.UseNavigateStable),e=N_(R_.UseNavigateStable),t=S.useRef(!1);return A_(()=>{t.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,vm({fromRouteId:e},i)))},[n,e])}const ZR={};function M8(n,e,t){ZR[n]||(ZR[n]=!0)}function O8(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function j8(n){let{to:e,replace:t,state:r,relative:s}=n;zf()||Lt(!1);let{future:i,static:a}=S.useContext(Zl),{matches:o}=S.useContext(Ki),{pathname:l}=Uf(),c=rd(),d=tC(e,eC(o,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return S.useEffect(()=>c(JSON.parse(h),{replace:t,state:r,relative:s}),[c,h,s,t,r]),null}function D8(n){return x8(n.context)}function pd(n){Lt(!1)}function L8(n){let{basename:e="/",children:t=null,location:r,navigationType:s=Sl.Pop,navigator:i,static:a=!1,future:o}=n;zf()&&Lt(!1);let l=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:i,static:a,future:vm({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof r=="string"&&(r=Bf(r));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:v="default"}=r,g=S.useMemo(()=>{let y=qA(d,l);return y==null?null:{location:{pathname:y,search:h,hash:p,state:m,key:v},navigationType:s}},[l,d,h,p,m,v,s]);return g==null?null:S.createElement(Zl.Provider,{value:c},S.createElement(q0.Provider,{children:t,value:g}))}function F8(n){let{children:e,location:t}=n;return b8(K1(e),t)}new Promise(()=>{});function K1(n,e){e===void 0&&(e=[]);let t=[];return S.Children.forEach(n,(r,s)=>{if(!S.isValidElement(r))return;let i=[...e,s];if(r.type===S.Fragment){t.push.apply(t,K1(r.props.children,i));return}r.type!==pd&&Lt(!1),!r.props.index||!r.props.children||Lt(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=K1(r.props.children,i)),t.push(a)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Y1(){return Y1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Y1.apply(this,arguments)}function $8(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function B8(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function z8(n,e){return n.button===0&&(!e||e==="_self")&&!B8(n)}const U8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],V8="6";try{window.__reactRouterVersion=V8}catch{}const H8="startTransition",JR=LE[H8];function W8(n){let{basename:e,children:t,future:r,window:s}=n,i=S.useRef();i.current==null&&(i.current=VB({window:s,v5Compat:!0}));let a=i.current,[o,l]=S.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},d=S.useCallback(h=>{c&&JR?JR(()=>l(h)):l(h)},[l,c]);return S.useLayoutEffect(()=>a.listen(d),[a,d]),S.useEffect(()=>O8(r),[r]),S.createElement(L8,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,future:r})}const G8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lx=S.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=$8(e,U8),{basename:m}=S.useContext(Zl),v,g=!1;if(typeof c=="string"&&K8.test(c)&&(v=c,G8))try{let b=new URL(window.location.href),E=c.startsWith("//")?new URL(b.protocol+c):new URL(c),C=qA(E.pathname,m);E.origin===b.origin&&C!=null?c=C+E.search+E.hash:g=!0}catch{}let y=g8(c,{relative:s}),x=Y8(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:s,viewTransition:h});function w(b){r&&r(b),b.defaultPrevented||x(b)}return S.createElement("a",Y1({},p,{href:v||y,onClick:g||i?r:w,ref:t,target:l}))});var qR;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(qR||(qR={}));var eN;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(eN||(eN={}));function Y8(n,e){let{target:t,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,l=rd(),c=Uf(),d=C_(n,{relative:a});return S.useCallback(h=>{if(z8(h,t)){h.preventDefault();let p=r!==void 0?r:Dx(c)===Dx(d);l(n,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[c,l,d,r,s,t,n,i,a,o])}const rC="quiz_io_current_user";function cb(){const n=localStorage.getItem(rC);return n?JSON.parse(n):null}async function P_(n){const e={id:"1",email:n.email,name:n.email};return localStorage.setItem(rC,JSON.stringify(e)),!0}async function X8(n){return P_(n)}function Q8(){localStorage.removeItem(rC)}const Qv={auth:{onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}}),signInWithOAuth:async()=>({error:null})},from:()=>({update:()=>({data:null,error:null}),select:()=>({data:null,error:null})})},k_=S.createContext(void 0);function Z8({children:n}){const[e,t]=S.useState(null),[r,s]=S.useState(!0);S.useEffect(()=>{const m=cb();t(m),s(!1)},[]),S.useEffect(()=>{const{data:m}=Qv.auth.onAuthStateChange(async(v,g)=>{var y;if(g!=null&&g.user){const x=g.user,w={id:x.id,email:x.email,name:((y=x.user_metadata)==null?void 0:y.name)||x.email,subscription:{plan:"free",status:"active",startDate:new Date().toISOString()},sessionCount:0,createdat:new Date().toISOString(),updatedat:new Date().toISOString(),usage:{monthlySessions:0,monthlyFiles:0,currentMonth:new Date().toISOString().slice(0,7),lastResetDate:new Date().toISOString()}};t(w),localStorage.setItem("quiz_io_current_user",JSON.stringify(w))}else t(null),localStorage.removeItem("quiz_io_current_user")});return()=>{m==null||m.subscription.unsubscribe()}},[]);const p={user:e,isAuthenticated:!!e,login:async(m,v)=>{try{s(!0);const g=await P_({email:m,password:v});if(g){const y=cb();t(y)}return!!g}catch(g){return console.error("Login error:",g),!1}finally{s(!1)}},signup:async(m,v,g)=>{try{s(!0);const y=await X8({email:m,password:v,name:g});if(y){const x=cb();t(x)}return!!y}catch(y){return console.error("Signup error:",y),!1}finally{s(!1)}},logout:()=>{Q8(),t(null)},isLoading:r,signInWithGoogle:async()=>{s(!0);try{const{error:m}=await Qv.auth.signInWithOAuth({provider:"google"});if(m)throw m}catch(m){console.error("Google sign-in error:",m)}finally{s(!1)}},updateSubscription:async(m,v)=>{if(!e)return!1;if(v&&v.trim().toUpperCase()==="BETAX"){const{data:g,error:y}=await Qv.from("users").update({subscription:{...e.subscription,plan:"pro",status:"active",startDate:new Date().toISOString()},updatedat:new Date().toISOString()}).eq("id",e.id).select().single();return y||!g?!1:(t(g),localStorage.setItem("quiz_io_current_user",JSON.stringify(g)),!0)}else try{const y=await(await fetch("/api/stripe/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email})})).json();if(!y.sessionId)throw new Error("No sessionId returned");return await window.Stripe("pk_live_51RVffABQXLankofpEeazK4UBPF7EdNu7OcFKOODi3bhTaEKOQzI4vp0CjHdpXsfADS7y6FRc4TP2aHhddhgZlVIr007hUVoS0P").redirectToCheckout({sessionId:y.sessionId}),!0}catch{return!1}},checkUsageLimit:m=>{if(!e)return!1;if(e.subscription.plan==="pro")return!0;const v=new Date().toISOString().slice(0,7);if(e.usage.currentMonth!==v){const g={...e,usage:{...e.usage,monthlySessions:0,monthlyFiles:0,currentMonth:v,lastResetDate:new Date().toISOString()}};t(g),localStorage.setItem("quiz_io_current_user",JSON.stringify(g))}switch(m){case"session":return e.usage.monthlySessions<1;case"file":return e.usage.monthlyFiles<1;case"chat":return!1;default:return!1}},incrementUsage:async m=>{if(!e)return;const v={...e,usage:{...e.usage,monthlySessions:m==="session"?e.usage.monthlySessions+1:e.usage.monthlySessions,monthlyFiles:m==="file"?e.usage.monthlyFiles+1:e.usage.monthlyFiles}};t(v),localStorage.setItem("quiz_io_current_user",JSON.stringify(v));try{await Qv.from("users").update({usage:v.usage,updatedat:new Date().toISOString()}).eq("id",e.id)}catch(g){console.error("Failed to update usage in database:",g)}}};return f.jsx(k_.Provider,{value:p,children:n})}const ni=()=>{const n=S.useContext(k_);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n};function J8({redirectTo:n="/"}){const{isAuthenticated:e,isLoading:t}=ni();return t?f.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."}):e?f.jsx(D8,{}):f.jsx(j8,{to:n,replace:!0})}const q8=_A("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),me=S.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...s},i)=>{const a=r?zk:"button";return f.jsx(a,{className:Ce(q8({variant:e,size:t,className:n})),ref:i,...s})});me.displayName="Button";var pv=n=>n.type==="checkbox",hc=n=>n instanceof Date,Qn=n=>n==null;const I_=n=>typeof n=="object";var Ft=n=>!Qn(n)&&!Array.isArray(n)&&I_(n)&&!hc(n),__=n=>Ft(n)&&n.target?pv(n.target)?n.target.checked:n.target.value:n,ez=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,M_=(n,e)=>n.has(ez(e)),tz=n=>{const e=n.constructor&&n.constructor.prototype;return Ft(e)&&e.hasOwnProperty("isPrototypeOf")},sC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function pn(n){let e;const t=Array.isArray(n),r=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(sC&&(n instanceof Blob||r))&&(t||Ft(n)))if(e=t?[]:{},!t&&!tz(n))e=n;else for(const s in n)n.hasOwnProperty(s)&&(e[s]=pn(n[s]));else return n;return e}var ew=n=>/^\w*$/.test(n),jt=n=>n===void 0,iC=n=>Array.isArray(n)?n.filter(Boolean):[],aC=n=>iC(n.replace(/["|']|\]/g,"").split(/\.|\[/)),ce=(n,e,t)=>{if(!e||!Ft(n))return t;const r=(ew(e)?[e]:aC(e)).reduce((s,i)=>Qn(s)?s:s[i],n);return jt(r)||r===n?jt(n[e])?t:n[e]:r},Br=n=>typeof n=="boolean",Je=(n,e,t)=>{let r=-1;const s=ew(e)?[e]:aC(e),i=s.length,a=i-1;for(;++r<i;){const o=s[r];let l=t;if(r!==a){const c=n[o];l=Ft(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;n[o]=l,n=n[o]}};const Fx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Gs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ji={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},oC=X.createContext(null);oC.displayName="HookFormContext";const tw=()=>X.useContext(oC),nz=n=>{const{children:e,...t}=n;return X.createElement(oC.Provider,{value:t},e)};var O_=(n,e,t,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in n)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==Gs.all&&(e._proxyFormState[a]=!r||Gs.all),t&&(t[a]=!0),n[a]}});return s};const lC=typeof window<"u"?S.useLayoutEffect:S.useEffect;function rz(n){const e=tw(),{control:t=e.control,disabled:r,name:s,exact:i}=n||{},[a,o]=X.useState(t._formState),l=X.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return lC(()=>t._subscribe({name:s,formState:l.current,exact:i,callback:c=>{!r&&o({...t._formState,...c})}}),[s,r,i]),X.useEffect(()=>{l.current.isValid&&t._setValid(!0)},[t]),X.useMemo(()=>O_(a,t,l.current,!1),[a,t])}var Di=n=>typeof n=="string",j_=(n,e,t,r,s)=>Di(n)?(r&&e.watch.add(n),ce(t,n,s)):Array.isArray(n)?n.map(i=>(r&&e.watch.add(i),ce(t,i))):(r&&(e.watchAll=!0),t);function sz(n){const e=tw(),{control:t=e.control,name:r,defaultValue:s,disabled:i,exact:a}=n||{},o=X.useRef(s),[l,c]=X.useState(t._getWatch(r,o.current));return lC(()=>t._subscribe({name:r,formState:{values:!0},exact:a,callback:d=>!i&&c(j_(r,t._names,d.values||t._formValues,!1,o.current))}),[r,t,i,a]),X.useEffect(()=>t._removeUnmounted()),l}function iz(n){const e=tw(),{name:t,disabled:r,control:s=e.control,shouldUnregister:i}=n,a=M_(s._names.array,t),o=sz({control:s,name:t,defaultValue:ce(s._formValues,t,ce(s._defaultValues,t,n.defaultValue)),exact:!0}),l=rz({control:s,name:t,exact:!0}),c=X.useRef(n),d=X.useRef(s.register(t,{...n.rules,value:o,...Br(n.disabled)?{disabled:n.disabled}:{}})),h=X.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ce(l.errors,t)},isDirty:{enumerable:!0,get:()=>!!ce(l.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!ce(l.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!ce(l.validatingFields,t)},error:{enumerable:!0,get:()=>ce(l.errors,t)}}),[l,t]),p=X.useCallback(y=>d.current.onChange({target:{value:__(y),name:t},type:Fx.CHANGE}),[t]),m=X.useCallback(()=>d.current.onBlur({target:{value:ce(s._formValues,t),name:t},type:Fx.BLUR}),[t,s._formValues]),v=X.useCallback(y=>{const x=ce(s._fields,t);x&&y&&(x._f.ref={focus:()=>y.focus&&y.focus(),select:()=>y.select&&y.select(),setCustomValidity:w=>y.setCustomValidity(w),reportValidity:()=>y.reportValidity()})},[s._fields,t]),g=X.useMemo(()=>({name:t,value:o,...Br(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:p,onBlur:m,ref:v}),[t,r,l.disabled,p,m,v,o]);return X.useEffect(()=>{const y=s._options.shouldUnregister||i;s.register(t,{...c.current.rules,...Br(c.current.disabled)?{disabled:c.current.disabled}:{}});const x=(w,b)=>{const E=ce(s._fields,w);E&&E._f&&(E._f.mount=b)};if(x(t,!0),y){const w=pn(ce(s._options.defaultValues,t));Je(s._defaultValues,t,w),jt(ce(s._formValues,t))&&Je(s._formValues,t,w)}return!a&&s.register(t),()=>{(a?y&&!s._state.action:y)?s.unregister(t):x(t,!1)}},[t,s,a,i]),X.useEffect(()=>{s._setDisabledField({disabled:r,name:t})},[r,t,s]),X.useMemo(()=>({field:g,formState:l,fieldState:h}),[g,l,h])}const az=n=>n.render(iz(n));var D_=(n,e,t,r,s)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:s||!0}}:{},Kp=n=>Array.isArray(n)?n:[n],tN=()=>{let n=[];return{get observers(){return n},next:s=>{for(const i of n)i.next&&i.next(s)},subscribe:s=>(n.push(s),{unsubscribe:()=>{n=n.filter(i=>i!==s)}}),unsubscribe:()=>{n=[]}}},X1=n=>Qn(n)||!I_(n);function Ao(n,e){if(X1(n)||X1(e))return n===e;if(hc(n)&&hc(e))return n.getTime()===e.getTime();const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const s of t){const i=n[s];if(!r.includes(s))return!1;if(s!=="ref"){const a=e[s];if(hc(i)&&hc(a)||Ft(i)&&Ft(a)||Array.isArray(i)&&Array.isArray(a)?!Ao(i,a):i!==a)return!1}}return!0}var pr=n=>Ft(n)&&!Object.keys(n).length,cC=n=>n.type==="file",Ks=n=>typeof n=="function",$x=n=>{if(!sC)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},L_=n=>n.type==="select-multiple",uC=n=>n.type==="radio",oz=n=>uC(n)||pv(n),ub=n=>$x(n)&&n.isConnected;function lz(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=jt(n)?r++:n[e[r++]];return n}function cz(n){for(const e in n)if(n.hasOwnProperty(e)&&!jt(n[e]))return!1;return!0}function Kt(n,e){const t=Array.isArray(e)?e:ew(e)?[e]:aC(e),r=t.length===1?n:lz(n,t),s=t.length-1,i=t[s];return r&&delete r[i],s!==0&&(Ft(r)&&pr(r)||Array.isArray(r)&&cz(r))&&Kt(n,t.slice(0,-1)),n}var F_=n=>{for(const e in n)if(Ks(n[e]))return!0;return!1};function Bx(n,e={}){const t=Array.isArray(n);if(Ft(n)||t)for(const r in n)Array.isArray(n[r])||Ft(n[r])&&!F_(n[r])?(e[r]=Array.isArray(n[r])?[]:{},Bx(n[r],e[r])):Qn(n[r])||(e[r]=!0);return e}function $_(n,e,t){const r=Array.isArray(n);if(Ft(n)||r)for(const s in n)Array.isArray(n[s])||Ft(n[s])&&!F_(n[s])?jt(e)||X1(t[s])?t[s]=Array.isArray(n[s])?Bx(n[s],[]):{...Bx(n[s])}:$_(n[s],Qn(e)?{}:e[s],t[s]):t[s]=!Ao(n[s],e[s]);return t}var rp=(n,e)=>$_(n,e,Bx(e));const nN={value:!1,isValid:!1},rN={value:!0,isValid:!0};var B_=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!jt(n[0].attributes.value)?jt(n[0].value)||n[0].value===""?rN:{value:n[0].value,isValid:!0}:rN:nN}return nN},z_=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>jt(n)?n:e?n===""?NaN:n&&+n:t&&Di(n)?new Date(n):r?r(n):n;const sN={isValid:!1,value:null};var U_=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,sN):sN;function iN(n){const e=n.ref;return cC(e)?e.files:uC(e)?U_(n.refs).value:L_(e)?[...e.selectedOptions].map(({value:t})=>t):pv(e)?B_(n.refs).value:z_(jt(e.value)?n.ref.value:e.value,n)}var uz=(n,e,t,r)=>{const s={};for(const i of n){const a=ce(e,i);a&&Je(s,i,a._f)}return{criteriaMode:t,names:[...n],fields:s,shouldUseNativeValidation:r}},zx=n=>n instanceof RegExp,sp=n=>jt(n)?n:zx(n)?n.source:Ft(n)?zx(n.value)?n.value.source:n.value:n,aN=n=>({isOnSubmit:!n||n===Gs.onSubmit,isOnBlur:n===Gs.onBlur,isOnChange:n===Gs.onChange,isOnAll:n===Gs.all,isOnTouch:n===Gs.onTouched});const oN="AsyncFunction";var dz=n=>!!n&&!!n.validate&&!!(Ks(n.validate)&&n.validate.constructor.name===oN||Ft(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===oN)),hz=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),lN=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const Yp=(n,e,t,r)=>{for(const s of t||Object.keys(n)){const i=ce(n,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(Yp(o,e))break}else if(Ft(o)&&Yp(o,e))break}}};function cN(n,e,t){const r=ce(n,t);if(r||ew(t))return{error:r,name:t};const s=t.split(".");for(;s.length;){const i=s.join("."),a=ce(e,i),o=ce(n,i);if(a&&!Array.isArray(a)&&t!==i)return{name:t};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};s.pop()}return{name:t}}var fz=(n,e,t,r)=>{t(n);const{name:s,...i}=n;return pr(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!r||Gs.all))},pz=(n,e,t)=>!n||!e||n===e||Kp(n).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r))),mz=(n,e,t,r,s)=>s.isOnAll?!1:!t&&s.isOnTouch?!(e||n):(t?r.isOnBlur:s.isOnBlur)?!n:(t?r.isOnChange:s.isOnChange)?n:!0,gz=(n,e)=>!iC(ce(n,e)).length&&Kt(n,e),vz=(n,e,t)=>{const r=Kp(ce(n,t));return Je(r,"root",e[t]),Je(n,t,r),n},Ay=n=>Di(n);function uN(n,e,t="validate"){if(Ay(n)||Array.isArray(n)&&n.every(Ay)||Br(n)&&!n)return{type:t,message:Ay(n)?n:"",ref:e}}var cd=n=>Ft(n)&&!zx(n)?n:{value:n,message:""},dN=async(n,e,t,r,s,i)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:d,min:h,max:p,pattern:m,validate:v,name:g,valueAsNumber:y,mount:x}=n._f,w=ce(t,g);if(!x||e.has(g))return{};const b=o?o[0]:a,E=M=>{s&&b.reportValidity&&(b.setCustomValidity(Br(M)?"":M||""),b.reportValidity())},C={},R=uC(a),P=pv(a),k=R||P,I=(y||cC(a))&&jt(a.value)&&jt(w)||$x(a)&&a.value===""||w===""||Array.isArray(w)&&!w.length,_=D_.bind(null,g,r,C),O=(M,z,D,K=Ji.maxLength,B=Ji.minLength)=>{const U=M?z:D;C[g]={type:M?K:B,message:U,ref:a,..._(M?K:B,U)}};if(i?!Array.isArray(w)||!w.length:l&&(!k&&(I||Qn(w))||Br(w)&&!w||P&&!B_(o).isValid||R&&!U_(o).isValid)){const{value:M,message:z}=Ay(l)?{value:!!l,message:l}:cd(l);if(M&&(C[g]={type:Ji.required,message:z,ref:b,..._(Ji.required,z)},!r))return E(z),C}if(!I&&(!Qn(h)||!Qn(p))){let M,z;const D=cd(p),K=cd(h);if(!Qn(w)&&!isNaN(w)){const B=a.valueAsNumber||w&&+w;Qn(D.value)||(M=B>D.value),Qn(K.value)||(z=B<K.value)}else{const B=a.valueAsDate||new Date(w),U=H=>new Date(new Date().toDateString()+" "+H),$=a.type=="time",F=a.type=="week";Di(D.value)&&w&&(M=$?U(w)>U(D.value):F?w>D.value:B>new Date(D.value)),Di(K.value)&&w&&(z=$?U(w)<U(K.value):F?w<K.value:B<new Date(K.value))}if((M||z)&&(O(!!M,D.message,K.message,Ji.max,Ji.min),!r))return E(C[g].message),C}if((c||d)&&!I&&(Di(w)||i&&Array.isArray(w))){const M=cd(c),z=cd(d),D=!Qn(M.value)&&w.length>+M.value,K=!Qn(z.value)&&w.length<+z.value;if((D||K)&&(O(D,M.message,z.message),!r))return E(C[g].message),C}if(m&&!I&&Di(w)){const{value:M,message:z}=cd(m);if(zx(M)&&!w.match(M)&&(C[g]={type:Ji.pattern,message:z,ref:a,..._(Ji.pattern,z)},!r))return E(z),C}if(v){if(Ks(v)){const M=await v(w,t),z=uN(M,b);if(z&&(C[g]={...z,..._(Ji.validate,z.message)},!r))return E(z.message),C}else if(Ft(v)){let M={};for(const z in v){if(!pr(M)&&!r)break;const D=uN(await v[z](w,t),b,z);D&&(M={...D,..._(z,D.message)},E(D.message),r&&(C[g]=M))}if(!pr(M)&&(C[g]={ref:b,...M},!r))return C}}return E(!0),C};const yz={mode:Gs.onSubmit,reValidateMode:Gs.onChange,shouldFocusError:!0};function xz(n={}){let e={...yz,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ks(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=Ft(e.defaultValues)||Ft(e.values)?pn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:pn(s),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const p={array:tN(),state:tN()},m=e.criteriaMode===Gs.all,v=j=>V=>{clearTimeout(c),c=setTimeout(j,V)},g=async j=>{if(!e.disabled&&(d.isValid||h.isValid||j)){const V=e.resolver?pr((await P()).errors):await I(r,!0);V!==t.isValid&&p.state.next({isValid:V})}},y=(j,V)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((j||Array.from(o.mount)).forEach(G=>{G&&(V?Je(t.validatingFields,G,V):Kt(t.validatingFields,G))}),p.state.next({validatingFields:t.validatingFields,isValidating:!pr(t.validatingFields)}))},x=(j,V=[],G,oe,ae=!0,se=!0)=>{if(oe&&G&&!e.disabled){if(a.action=!0,se&&Array.isArray(ce(r,j))){const fe=G(ce(r,j),oe.argA,oe.argB);ae&&Je(r,j,fe)}if(se&&Array.isArray(ce(t.errors,j))){const fe=G(ce(t.errors,j),oe.argA,oe.argB);ae&&Je(t.errors,j,fe),gz(t.errors,j)}if((d.touchedFields||h.touchedFields)&&se&&Array.isArray(ce(t.touchedFields,j))){const fe=G(ce(t.touchedFields,j),oe.argA,oe.argB);ae&&Je(t.touchedFields,j,fe)}(d.dirtyFields||h.dirtyFields)&&(t.dirtyFields=rp(s,i)),p.state.next({name:j,isDirty:O(j,V),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Je(i,j,V)},w=(j,V)=>{Je(t.errors,j,V),p.state.next({errors:t.errors})},b=j=>{t.errors=j,p.state.next({errors:t.errors,isValid:!1})},E=(j,V,G,oe)=>{const ae=ce(r,j);if(ae){const se=ce(i,j,jt(G)?ce(s,j):G);jt(se)||oe&&oe.defaultChecked||V?Je(i,j,V?se:iN(ae._f)):D(j,se),a.mount&&g()}},C=(j,V,G,oe,ae)=>{let se=!1,fe=!1;const Be={name:j};if(!e.disabled){if(!G||oe){(d.isDirty||h.isDirty)&&(fe=t.isDirty,t.isDirty=Be.isDirty=O(),se=fe!==Be.isDirty);const it=Ao(ce(s,j),V);fe=!!ce(t.dirtyFields,j),it?Kt(t.dirtyFields,j):Je(t.dirtyFields,j,!0),Be.dirtyFields=t.dirtyFields,se=se||(d.dirtyFields||h.dirtyFields)&&fe!==!it}if(G){const it=ce(t.touchedFields,j);it||(Je(t.touchedFields,j,G),Be.touchedFields=t.touchedFields,se=se||(d.touchedFields||h.touchedFields)&&it!==G)}se&&ae&&p.state.next(Be)}return se?Be:{}},R=(j,V,G,oe)=>{const ae=ce(t.errors,j),se=(d.isValid||h.isValid)&&Br(V)&&t.isValid!==V;if(e.delayError&&G?(l=v(()=>w(j,G)),l(e.delayError)):(clearTimeout(c),l=null,G?Je(t.errors,j,G):Kt(t.errors,j)),(G?!Ao(ae,G):ae)||!pr(oe)||se){const fe={...oe,...se&&Br(V)?{isValid:V}:{},errors:t.errors,name:j};t={...t,...fe},p.state.next(fe)}},P=async j=>{y(j,!0);const V=await e.resolver(i,e.context,uz(j||o.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return y(j),V},k=async j=>{const{errors:V}=await P(j);if(j)for(const G of j){const oe=ce(V,G);oe?Je(t.errors,G,oe):Kt(t.errors,G)}else t.errors=V;return V},I=async(j,V,G={valid:!0})=>{for(const oe in j){const ae=j[oe];if(ae){const{_f:se,...fe}=ae;if(se){const Be=o.array.has(se.name),it=ae._f&&dz(ae._f);it&&d.validatingFields&&y([oe],!0);const ar=await dN(ae,o.disabled,i,m,e.shouldUseNativeValidation&&!V,Be);if(it&&d.validatingFields&&y([oe]),ar[se.name]&&(G.valid=!1,V))break;!V&&(ce(ar,se.name)?Be?vz(t.errors,ar,se.name):Je(t.errors,se.name,ar[se.name]):Kt(t.errors,se.name))}!pr(fe)&&await I(fe,V,G)}}return G.valid},_=()=>{for(const j of o.unMount){const V=ce(r,j);V&&(V._f.refs?V._f.refs.every(G=>!ub(G)):!ub(V._f.ref))&&L(j)}o.unMount=new Set},O=(j,V)=>!e.disabled&&(j&&V&&Je(i,j,V),!Ao(H(),s)),M=(j,V,G)=>j_(j,o,{...a.mount?i:jt(V)?s:Di(j)?{[j]:V}:V},G,V),z=j=>iC(ce(a.mount?i:s,j,e.shouldUnregister?ce(s,j,[]):[])),D=(j,V,G={})=>{const oe=ce(r,j);let ae=V;if(oe){const se=oe._f;se&&(!se.disabled&&Je(i,j,z_(V,se)),ae=$x(se.ref)&&Qn(V)?"":V,L_(se.ref)?[...se.ref.options].forEach(fe=>fe.selected=ae.includes(fe.value)):se.refs?pv(se.ref)?se.refs.forEach(fe=>{(!fe.defaultChecked||!fe.disabled)&&(Array.isArray(ae)?fe.checked=!!ae.find(Be=>Be===fe.value):fe.checked=ae===fe.value||!!ae)}):se.refs.forEach(fe=>fe.checked=fe.value===ae):cC(se.ref)?se.ref.value="":(se.ref.value=ae,se.ref.type||p.state.next({name:j,values:pn(i)})))}(G.shouldDirty||G.shouldTouch)&&C(j,ae,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&F(j)},K=(j,V,G)=>{for(const oe in V){if(!V.hasOwnProperty(oe))return;const ae=V[oe],se=j+"."+oe,fe=ce(r,se);(o.array.has(j)||Ft(ae)||fe&&!fe._f)&&!hc(ae)?K(se,ae,G):D(se,ae,G)}},B=(j,V,G={})=>{const oe=ce(r,j),ae=o.array.has(j),se=pn(V);Je(i,j,se),ae?(p.array.next({name:j,values:pn(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&G.shouldDirty&&p.state.next({name:j,dirtyFields:rp(s,i),isDirty:O(j,se)})):oe&&!oe._f&&!Qn(se)?K(j,se,G):D(j,se,G),lN(j,o)&&p.state.next({...t}),p.state.next({name:a.mount?j:void 0,values:pn(i)})},U=async j=>{a.mount=!0;const V=j.target;let G=V.name,oe=!0;const ae=ce(r,G),se=it=>{oe=Number.isNaN(it)||hc(it)&&isNaN(it.getTime())||Ao(it,ce(i,G,it))},fe=aN(e.mode),Be=aN(e.reValidateMode);if(ae){let it,ar;const Xi=V.type?iN(ae._f):__(j),si=j.type===Fx.BLUR||j.type===Fx.FOCUS_OUT,Cv=!hz(ae._f)&&!e.resolver&&!ce(t.errors,G)&&!ae._f.deps||mz(si,ce(t.touchedFields,G),t.isSubmitted,Be,fe),ec=lN(G,o,si);Je(i,G,Xi),si?(ae._f.onBlur&&ae._f.onBlur(j),l&&l(0)):ae._f.onChange&&ae._f.onChange(j);const ii=C(G,Xi,si),Tv=!pr(ii)||ec;if(!si&&p.state.next({name:G,type:j.type,values:pn(i)}),Cv)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?si&&g():si||g()),Tv&&p.state.next({name:G,...ec?{}:ii});if(!si&&ec&&p.state.next({...t}),e.resolver){const{errors:Qi}=await P([G]);if(se(Xi),oe){const Cw=cN(t.errors,r,G),Rv=cN(Qi,r,Cw.name||G);it=Rv.error,G=Rv.name,ar=pr(Qi)}}else y([G],!0),it=(await dN(ae,o.disabled,i,m,e.shouldUseNativeValidation))[G],y([G]),se(Xi),oe&&(it?ar=!1:(d.isValid||h.isValid)&&(ar=await I(r,!0)));oe&&(ae._f.deps&&F(ae._f.deps),R(G,ar,it,ii))}},$=(j,V)=>{if(ce(t.errors,V)&&j.focus)return j.focus(),1},F=async(j,V={})=>{let G,oe;const ae=Kp(j);if(e.resolver){const se=await k(jt(j)?j:ae);G=pr(se),oe=j?!ae.some(fe=>ce(se,fe)):G}else j?(oe=(await Promise.all(ae.map(async se=>{const fe=ce(r,se);return await I(fe&&fe._f?{[se]:fe}:fe)}))).every(Boolean),!(!oe&&!t.isValid)&&g()):oe=G=await I(r);return p.state.next({...!Di(j)||(d.isValid||h.isValid)&&G!==t.isValid?{}:{name:j},...e.resolver||!j?{isValid:G}:{},errors:t.errors}),V.shouldFocus&&!oe&&Yp(r,$,j?ae:o.mount),oe},H=j=>{const V={...a.mount?i:s};return jt(j)?V:Di(j)?ce(V,j):j.map(G=>ce(V,G))},J=(j,V)=>({invalid:!!ce((V||t).errors,j),isDirty:!!ce((V||t).dirtyFields,j),error:ce((V||t).errors,j),isValidating:!!ce(t.validatingFields,j),isTouched:!!ce((V||t).touchedFields,j)}),Z=j=>{j&&Kp(j).forEach(V=>Kt(t.errors,V)),p.state.next({errors:j?t.errors:{}})},te=(j,V,G)=>{const oe=(ce(r,j,{_f:{}})._f||{}).ref,ae=ce(t.errors,j)||{},{ref:se,message:fe,type:Be,...it}=ae;Je(t.errors,j,{...it,...V,ref:oe}),p.state.next({name:j,errors:t.errors,isValid:!1}),G&&G.shouldFocus&&oe&&oe.focus&&oe.focus()},ye=(j,V)=>Ks(j)?p.state.subscribe({next:G=>j(M(void 0,V),G)}):M(j,V,!0),Ne=j=>p.state.subscribe({next:V=>{pz(j.name,V.name,j.exact)&&fz(V,j.formState||d,Fn,j.reRenderRoot)&&j.callback({values:{...i},...t,...V})}}).unsubscribe,Q=j=>(a.mount=!0,h={...h,...j.formState},Ne({...j,formState:h})),L=(j,V={})=>{for(const G of j?Kp(j):o.mount)o.mount.delete(G),o.array.delete(G),V.keepValue||(Kt(r,G),Kt(i,G)),!V.keepError&&Kt(t.errors,G),!V.keepDirty&&Kt(t.dirtyFields,G),!V.keepTouched&&Kt(t.touchedFields,G),!V.keepIsValidating&&Kt(t.validatingFields,G),!e.shouldUnregister&&!V.keepDefaultValue&&Kt(s,G);p.state.next({values:pn(i)}),p.state.next({...t,...V.keepDirty?{isDirty:O()}:{}}),!V.keepIsValid&&g()},W=({disabled:j,name:V})=>{(Br(j)&&a.mount||j||o.disabled.has(V))&&(j?o.disabled.add(V):o.disabled.delete(V))},Y=(j,V={})=>{let G=ce(r,j);const oe=Br(V.disabled)||Br(e.disabled);return Je(r,j,{...G||{},_f:{...G&&G._f?G._f:{ref:{name:j}},name:j,mount:!0,...V}}),o.mount.add(j),G?W({disabled:Br(V.disabled)?V.disabled:e.disabled,name:j}):E(j,!0,V.value),{...oe?{disabled:V.disabled||e.disabled}:{},...e.progressive?{required:!!V.required,min:sp(V.min),max:sp(V.max),minLength:sp(V.minLength),maxLength:sp(V.maxLength),pattern:sp(V.pattern)}:{},name:j,onChange:U,onBlur:U,ref:ae=>{if(ae){Y(j,V),G=ce(r,j);const se=jt(ae.value)&&ae.querySelectorAll&&ae.querySelectorAll("input,select,textarea")[0]||ae,fe=oz(se),Be=G._f.refs||[];if(fe?Be.find(it=>it===se):se===G._f.ref)return;Je(r,j,{_f:{...G._f,...fe?{refs:[...Be.filter(ub),se,...Array.isArray(ce(s,j))?[{}]:[]],ref:{type:se.type,name:j}}:{ref:se}}}),E(j,!1,void 0,se)}else G=ce(r,j,{}),G._f&&(G._f.mount=!1),(e.shouldUnregister||V.shouldUnregister)&&!(M_(o.array,j)&&a.action)&&o.unMount.add(j)}}},ie=()=>e.shouldFocusError&&Yp(r,$,o.mount),de=j=>{Br(j)&&(p.state.next({disabled:j}),Yp(r,(V,G)=>{const oe=ce(r,G);oe&&(V.disabled=oe._f.disabled||j,Array.isArray(oe._f.refs)&&oe._f.refs.forEach(ae=>{ae.disabled=oe._f.disabled||j}))},0,!1))},Ae=(j,V)=>async G=>{let oe;G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let ae=pn(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:se,values:fe}=await P();t.errors=se,ae=fe}else await I(r);if(o.disabled.size)for(const se of o.disabled)Je(ae,se,void 0);if(Kt(t.errors,"root"),pr(t.errors)){p.state.next({errors:{}});try{await j(ae,G)}catch(se){oe=se}}else V&&await V({...t.errors},G),ie(),setTimeout(ie);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:pr(t.errors)&&!oe,submitCount:t.submitCount+1,errors:t.errors}),oe)throw oe},nt=(j,V={})=>{ce(r,j)&&(jt(V.defaultValue)?B(j,pn(ce(s,j))):(B(j,V.defaultValue),Je(s,j,pn(V.defaultValue))),V.keepTouched||Kt(t.touchedFields,j),V.keepDirty||(Kt(t.dirtyFields,j),t.isDirty=V.defaultValue?O(j,pn(ce(s,j))):O()),V.keepError||(Kt(t.errors,j),d.isValid&&g()),p.state.next({...t}))},_t=(j,V={})=>{const G=j?pn(j):s,oe=pn(G),ae=pr(j),se=ae?s:oe;if(V.keepDefaultValues||(s=G),!V.keepValues){if(V.keepDirtyValues){const fe=new Set([...o.mount,...Object.keys(rp(s,i))]);for(const Be of Array.from(fe))ce(t.dirtyFields,Be)?Je(se,Be,ce(i,Be)):B(Be,ce(se,Be))}else{if(sC&&jt(j))for(const fe of o.mount){const Be=ce(r,fe);if(Be&&Be._f){const it=Array.isArray(Be._f.refs)?Be._f.refs[0]:Be._f.ref;if($x(it)){const ar=it.closest("form");if(ar){ar.reset();break}}}}for(const fe of o.mount)B(fe,ce(se,fe))}i=pn(se),p.array.next({values:{...se}}),p.state.next({values:{...se}})}o={mount:V.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!V.keepIsValid||!!V.keepDirtyValues,a.watch=!!e.shouldUnregister,p.state.next({submitCount:V.keepSubmitCount?t.submitCount:0,isDirty:ae?!1:V.keepDirty?t.isDirty:!!(V.keepDefaultValues&&!Ao(j,s)),isSubmitted:V.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ae?{}:V.keepDirtyValues?V.keepDefaultValues&&i?rp(s,i):t.dirtyFields:V.keepDefaultValues&&j?rp(s,j):V.keepDirty?t.dirtyFields:{},touchedFields:V.keepTouched?t.touchedFields:{},errors:V.keepErrors?t.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Ln=(j,V)=>_t(Ks(j)?j(i):j,V),Nt=(j,V={})=>{const G=ce(r,j),oe=G&&G._f;if(oe){const ae=oe.refs?oe.refs[0]:oe.ref;ae.focus&&(ae.focus(),V.shouldSelect&&Ks(ae.select)&&ae.select())}},Fn=j=>{t={...t,...j}},ir={control:{register:Y,unregister:L,getFieldState:J,handleSubmit:Ae,setError:te,_subscribe:Ne,_runSchema:P,_focusError:ie,_getWatch:M,_getDirty:O,_setValid:g,_setFieldArray:x,_setDisabledField:W,_setErrors:b,_getFieldArray:z,_reset:_t,_resetDefaultValues:()=>Ks(e.defaultValues)&&e.defaultValues().then(j=>{Ln(j,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:_,_disableForm:de,_subjects:p,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(j){a=j},get _defaultValues(){return s},get _names(){return o},set _names(j){o=j},get _formState(){return t},get _options(){return e},set _options(j){e={...e,...j}}},subscribe:Q,trigger:F,register:Y,handleSubmit:Ae,watch:ye,setValue:B,getValues:H,reset:Ln,resetField:nt,clearErrors:Z,unregister:L,setError:te,setFocus:Nt,getFieldState:J};return{...ir,formControl:ir}}function V_(n={}){const e=X.useRef(void 0),t=X.useRef(void 0),[r,s]=X.useState({isDirty:!1,isValidating:!1,isLoading:Ks(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:Ks(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:r},n.defaultValues&&!Ks(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:a,...o}=xz(n);e.current={...o,formState:r}}const i=e.current.control;return i._options=n,lC(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),X.useEffect(()=>i._disableForm(n.disabled),[i,n.disabled]),X.useEffect(()=>{n.mode&&(i._options.mode=n.mode),n.reValidateMode&&(i._options.reValidateMode=n.reValidateMode)},[i,n.mode,n.reValidateMode]),X.useEffect(()=>{n.errors&&(i._setErrors(n.errors),i._focusError())},[i,n.errors]),X.useEffect(()=>{n.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,n.shouldUnregister]),X.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),X.useEffect(()=>{n.values&&!Ao(n.values,t.current)?(i._reset(n.values,i._options.resetOptions),t.current=n.values,s(a=>({...a}))):i._resetDefaultValues()},[i,n.values]),X.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=O_(r,i),e.current}const hN=(n,e,t)=>{if(n&&"reportValidity"in n){const r=ce(t,e);n.setCustomValidity(r&&r.message||""),n.reportValidity()}},H_=(n,e)=>{for(const t in e.fields){const r=e.fields[t];r&&r.ref&&"reportValidity"in r.ref?hN(r.ref,t,n):r.refs&&r.refs.forEach(s=>hN(s,t,n))}},wz=(n,e)=>{e.shouldUseNativeValidation&&H_(n,e);const t={};for(const r in n){const s=ce(e.fields,r),i=Object.assign(n[r]||{},{ref:s&&s.ref});if(bz(e.names||Object.keys(n),r)){const a=Object.assign({},ce(t,r));Je(a,"root",i),Je(t,r,a)}else Je(t,r,i)}return t},bz=(n,e)=>n.some(t=>t.startsWith(e+"."));var Sz=function(n,e){for(var t={};n.length;){var r=n[0],s=r.code,i=r.message,a=r.path.join(".");if(!t[a])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];t[a]={message:o.message,type:o.code}}else t[a]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return n.push(h)})}),e){var l=t[a].types,c=l&&l[r.code];t[a]=D_(a,e,t,s,c?[].concat(c,r.message):r.message)}n.shift()}return t},W_=function(n,e,t){return t===void 0&&(t={}),function(r,s,i){try{return Promise.resolve(function(a,o){try{var l=Promise.resolve(n[t.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return i.shouldUseNativeValidation&&H_({},i),{errors:{},values:t.raw?r:c}})}catch(c){return o(c)}return l&&l.then?l.then(void 0,o):l}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:wz(Sz(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},Qe;(function(n){n.assertEqual=s=>{};function e(s){}n.assertIs=e;function t(s){throw new Error}n.assertNever=t,n.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},n.getValidEnumValues=s=>{const i=n.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return n.objectValues(a)},n.objectValues=s=>n.objectKeys(s).map(function(i){return s[i]}),n.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},n.find=(s,i)=>{for(const a of s)if(i(a))return a},n.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}n.joinValues=r,n.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Qe||(Qe={}));var fN;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(fN||(fN={}));const xe=Qe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),bo=n=>{switch(typeof n){case"undefined":return xe.undefined;case"string":return xe.string;case"number":return Number.isNaN(n)?xe.nan:xe.number;case"boolean":return xe.boolean;case"function":return xe.function;case"bigint":return xe.bigint;case"symbol":return xe.symbol;case"object":return Array.isArray(n)?xe.array:n===null?xe.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?xe.promise:typeof Map<"u"&&n instanceof Map?xe.map:typeof Set<"u"&&n instanceof Set?xe.set:typeof Date<"u"&&n instanceof Date?xe.date:xe.object;default:return xe.unknown}},ne=Qe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class io extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(t(a));else{let o=r,l=0;for(;l<a.path.length;){const c=a.path[l];l===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(t(a))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return s(this),r}static assert(e){if(!(e instanceof io))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Qe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}io.create=n=>new io(n);const Q1=(n,e)=>{let t;switch(n.code){case ne.invalid_type:n.received===xe.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case ne.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Qe.jsonStringifyReplacer)}`;break;case ne.unrecognized_keys:t=`Unrecognized key(s) in object: ${Qe.joinValues(n.keys,", ")}`;break;case ne.invalid_union:t="Invalid input";break;case ne.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Qe.joinValues(n.options)}`;break;case ne.invalid_enum_value:t=`Invalid enum value. Expected ${Qe.joinValues(n.options)}, received '${n.received}'`;break;case ne.invalid_arguments:t="Invalid function arguments";break;case ne.invalid_return_type:t="Invalid function return type";break;case ne.invalid_date:t="Invalid date";break;case ne.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Qe.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case ne.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case ne.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case ne.custom:t="Invalid input";break;case ne.invalid_intersection_types:t="Intersection results could not be merged";break;case ne.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case ne.not_finite:t="Number must be finite";break;default:t=e.defaultError,Qe.assertNever(n)}return{message:t}};let Ez=Q1;function Az(){return Ez}const Cz=n=>{const{data:e,path:t,errorMaps:r,issueData:s}=n,i=[...t,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)o=c(a,{data:e,defaultError:o}).message;return{...s,path:i,message:o}};function ue(n,e){const t=Az(),r=Cz({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===Q1?void 0:Q1].filter(s=>!!s)});n.common.issues.push(r)}class Xr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const s of t){if(s.status==="aborted")return ke;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const s of t){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return Xr.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const s of t){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return ke;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const ke=Object.freeze({status:"aborted"}),pp=n=>({status:"dirty",value:n}),xs=n=>({status:"valid",value:n}),pN=n=>n.status==="aborted",mN=n=>n.status==="dirty",Cf=n=>n.status==="valid",Ux=n=>typeof Promise<"u"&&n instanceof Promise;var we;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(we||(we={}));class zl{constructor(e,t,r,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const gN=(n,e)=>{if(Cf(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new io(n.common.issues);return this._error=t,this._error}}};function Fe(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:s}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,o)=>{const{message:l}=n;return a.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??r??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:l??t??o.defaultError}},description:s}}class Ye{get description(){return this._def.description}_getType(e){return bo(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:bo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Xr,ctx:{common:e.parent.common,data:e.data,parsedType:bo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Ux(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){const r={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bo(e)},s=this._parseSync({data:e,path:r.path,parent:r});return gN(r,s)}"~validate"(e){var r,s;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bo(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:t});return Cf(i)?{value:i.value}:{issues:t.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(i=>Cf(i)?{value:i.value}:{issues:t.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bo(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Ux(s)?s:Promise.resolve(s));return gN(r,i)}refine(e,t){const r=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,i)=>{const a=e(s),o=()=>i.addIssue({code:ne.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,t){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof t=="function"?t(r,s):t),!1))}_refinement(e){return new Rf({schema:this,typeName:Ie.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Ol.create(this,this._def)}nullable(){return Nf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return zi.create(this)}promise(){return Gx.create(this,this._def)}or(e){return Hx.create([this,e],this._def)}and(e){return Wx.create(this,e,this._def)}transform(e){return new Rf({...Fe(this._def),schema:this,typeName:Ie.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new J1({...Fe(this._def),innerType:this,defaultValue:t,typeName:Ie.ZodDefault})}brand(){return new Yz({typeName:Ie.ZodBranded,type:this,...Fe(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new q1({...Fe(this._def),innerType:this,catchValue:t,typeName:Ie.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return dC.create(this,e)}readonly(){return eS.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Tz=/^c[^\s-]{8,}$/i,Rz=/^[0-9a-z]+$/,Nz=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Pz=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,kz=/^[a-z0-9_-]{21}$/i,Iz=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,_z=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Mz=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Oz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let db;const jz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Dz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Lz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Fz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$z=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Bz=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,G_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",zz=new RegExp(`^${G_}$`);function K_(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function Uz(n){return new RegExp(`^${K_(n)}$`)}function Vz(n){let e=`${G_}T${K_(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Hz(n,e){return!!((e==="v4"||!e)&&jz.test(n)||(e==="v6"||!e)&&Lz.test(n))}function Wz(n,e){if(!Iz.test(n))return!1;try{const[t]=n.split("."),r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function Gz(n,e){return!!((e==="v4"||!e)&&Dz.test(n)||(e==="v6"||!e)&&Fz.test(n))}class El extends Ye{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==xe.string){const i=this._getOrReturnCtx(e);return ue(i,{code:ne.invalid_type,expected:xe.string,received:i.parsedType}),ke}const r=new Xr;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(e,s),a?ue(s,{code:ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&ue(s,{code:ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Mz.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"email",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")db||(db=new RegExp(Oz,"u")),db.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"emoji",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Pz.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"uuid",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")kz.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"nanoid",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Tz.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"cuid",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Rz.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"cuid2",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Nz.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"ulid",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ue(s,{validation:"url",code:ne.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"regex",code:ne.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),ue(s,{code:ne.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),ue(s,{code:ne.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),ue(s,{code:ne.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Vz(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{code:ne.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?zz.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{code:ne.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?Uz(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{code:ne.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?_z.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"duration",code:ne.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Hz(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"ip",code:ne.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?Wz(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"jwt",code:ne.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Gz(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"cidr",code:ne.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?$z.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"base64",code:ne.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?Bz.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"base64url",code:ne.invalid_string,message:i.message}),r.dirty()):Qe.assertNever(i);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(s=>e.test(s),{validation:t,code:ne.invalid_string,...we.errToObj(r)})}_addCheck(e){return new El({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...we.errToObj(e)})}url(e){return this._addCheck({kind:"url",...we.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...we.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...we.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...we.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...we.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...we.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...we.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...we.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...we.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...we.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...we.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...we.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...we.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...we.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...we.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...we.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...we.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...we.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...we.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...we.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...we.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...we.errToObj(t)})}nonempty(e){return this.min(1,we.errToObj(e))}trim(){return new El({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new El({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new El({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}El.create=n=>new El({checks:[],typeName:Ie.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...Fe(n)});function Kz(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=t>r?t:r,i=Number.parseInt(n.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return i%a/10**s}class ym extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==xe.number){const i=this._getOrReturnCtx(e);return ue(i,{code:ne.invalid_type,expected:xe.number,received:i.parsedType}),ke}let r;const s=new Xr;for(const i of this._def.checks)i.kind==="int"?Qe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ue(r,{code:ne.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ue(r,{code:ne.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ue(r,{code:ne.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Kz(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),ue(r,{code:ne.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ue(r,{code:ne.not_finite,message:i.message}),s.dirty()):Qe.assertNever(i);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,we.toString(t))}gt(e,t){return this.setLimit("min",e,!1,we.toString(t))}lte(e,t){return this.setLimit("max",e,!0,we.toString(t))}lt(e,t){return this.setLimit("max",e,!1,we.toString(t))}setLimit(e,t,r,s){return new ym({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:we.toString(s)}]})}_addCheck(e){return new ym({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:we.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:we.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:we.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:we.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:we.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:we.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:we.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:we.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:we.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Qe.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ym.create=n=>new ym({checks:[],typeName:Ie.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...Fe(n)});class xm extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==xe.bigint)return this._getInvalidInput(e);let r;const s=new Xr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ue(r,{code:ne.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ue(r,{code:ne.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ue(r,{code:ne.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Qe.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return ue(t,{code:ne.invalid_type,expected:xe.bigint,received:t.parsedType}),ke}gte(e,t){return this.setLimit("min",e,!0,we.toString(t))}gt(e,t){return this.setLimit("min",e,!1,we.toString(t))}lte(e,t){return this.setLimit("max",e,!0,we.toString(t))}lt(e,t){return this.setLimit("max",e,!1,we.toString(t))}setLimit(e,t,r,s){return new xm({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:we.toString(s)}]})}_addCheck(e){return new xm({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:we.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:we.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:we.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:we.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:we.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}xm.create=n=>new xm({checks:[],typeName:Ie.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...Fe(n)});class vN extends Ye{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==xe.boolean){const r=this._getOrReturnCtx(e);return ue(r,{code:ne.invalid_type,expected:xe.boolean,received:r.parsedType}),ke}return xs(e.data)}}vN.create=n=>new vN({typeName:Ie.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...Fe(n)});class Vx extends Ye{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==xe.date){const i=this._getOrReturnCtx(e);return ue(i,{code:ne.invalid_type,expected:xe.date,received:i.parsedType}),ke}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ue(i,{code:ne.invalid_date}),ke}const r=new Xr;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:ne.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:ne.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Qe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Vx({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:we.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:we.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Vx.create=n=>new Vx({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:Ie.ZodDate,...Fe(n)});class yN extends Ye{_parse(e){if(this._getType(e)!==xe.symbol){const r=this._getOrReturnCtx(e);return ue(r,{code:ne.invalid_type,expected:xe.symbol,received:r.parsedType}),ke}return xs(e.data)}}yN.create=n=>new yN({typeName:Ie.ZodSymbol,...Fe(n)});class xN extends Ye{_parse(e){if(this._getType(e)!==xe.undefined){const r=this._getOrReturnCtx(e);return ue(r,{code:ne.invalid_type,expected:xe.undefined,received:r.parsedType}),ke}return xs(e.data)}}xN.create=n=>new xN({typeName:Ie.ZodUndefined,...Fe(n)});class wN extends Ye{_parse(e){if(this._getType(e)!==xe.null){const r=this._getOrReturnCtx(e);return ue(r,{code:ne.invalid_type,expected:xe.null,received:r.parsedType}),ke}return xs(e.data)}}wN.create=n=>new wN({typeName:Ie.ZodNull,...Fe(n)});class bN extends Ye{constructor(){super(...arguments),this._any=!0}_parse(e){return xs(e.data)}}bN.create=n=>new bN({typeName:Ie.ZodAny,...Fe(n)});class SN extends Ye{constructor(){super(...arguments),this._unknown=!0}_parse(e){return xs(e.data)}}SN.create=n=>new SN({typeName:Ie.ZodUnknown,...Fe(n)});class Ul extends Ye{_parse(e){const t=this._getOrReturnCtx(e);return ue(t,{code:ne.invalid_type,expected:xe.never,received:t.parsedType}),ke}}Ul.create=n=>new Ul({typeName:Ie.ZodNever,...Fe(n)});class EN extends Ye{_parse(e){if(this._getType(e)!==xe.undefined){const r=this._getOrReturnCtx(e);return ue(r,{code:ne.invalid_type,expected:xe.void,received:r.parsedType}),ke}return xs(e.data)}}EN.create=n=>new EN({typeName:Ie.ZodVoid,...Fe(n)});class zi extends Ye{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),s=this._def;if(t.parsedType!==xe.array)return ue(t,{code:ne.invalid_type,expected:xe.array,received:t.parsedType}),ke;if(s.exactLength!==null){const a=t.data.length>s.exactLength.value,o=t.data.length<s.exactLength.value;(a||o)&&(ue(t,{code:a?ne.too_big:ne.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(ue(t,{code:ne.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(ue(t,{code:ne.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((a,o)=>s.type._parseAsync(new zl(t,a,t.path,o)))).then(a=>Xr.mergeArray(r,a));const i=[...t.data].map((a,o)=>s.type._parseSync(new zl(t,a,t.path,o)));return Xr.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new zi({...this._def,minLength:{value:e,message:we.toString(t)}})}max(e,t){return new zi({...this._def,maxLength:{value:e,message:we.toString(t)}})}length(e,t){return new zi({...this._def,exactLength:{value:e,message:we.toString(t)}})}nonempty(e){return this.min(1,e)}}zi.create=(n,e)=>new zi({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Ie.ZodArray,...Fe(e)});function md(n){if(n instanceof Ut){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=Ol.create(md(r))}return new Ut({...n._def,shape:()=>e})}else return n instanceof zi?new zi({...n._def,type:md(n.element)}):n instanceof Ol?Ol.create(md(n.unwrap())):n instanceof Nf?Nf.create(md(n.unwrap())):n instanceof Ku?Ku.create(n.items.map(e=>md(e))):n}class Ut extends Ye{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Qe.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==xe.object){const c=this._getOrReturnCtx(e);return ue(c,{code:ne.invalid_type,expected:xe.object,received:c.parsedType}),ke}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Ul&&this._def.unknownKeys==="strip"))for(const c in s.data)a.includes(c)||o.push(c);const l=[];for(const c of a){const d=i[c],h=s.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new zl(s,h,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Ul){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of o)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(c==="strict")o.length>0&&(ue(s,{code:ne.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of o){const h=s.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new zl(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const h=await d.key,p=await d.value;c.push({key:h,value:p,alwaysSet:d.alwaysSet})}return c}).then(c=>Xr.mergeObjectSync(r,c)):Xr.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return we.errToObj,new Ut({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,a;const s=((a=(i=this._def).errorMap)==null?void 0:a.call(i,t,r).message)??r.defaultError;return t.code==="unrecognized_keys"?{message:we.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Ut({...this._def,unknownKeys:"strip"})}passthrough(){return new Ut({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ut({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ut({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ie.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Ut({...this._def,catchall:e})}pick(e){const t={};for(const r of Qe.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new Ut({...this._def,shape:()=>t})}omit(e){const t={};for(const r of Qe.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new Ut({...this._def,shape:()=>t})}deepPartial(){return md(this)}partial(e){const t={};for(const r of Qe.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?t[r]=s:t[r]=s.optional()}return new Ut({...this._def,shape:()=>t})}required(e){const t={};for(const r of Qe.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Ol;)i=i._def.innerType;t[r]=i}return new Ut({...this._def,shape:()=>t})}keyof(){return Y_(Qe.objectKeys(this.shape))}}Ut.create=(n,e)=>new Ut({shape:()=>n,unknownKeys:"strip",catchall:Ul.create(),typeName:Ie.ZodObject,...Fe(e)});Ut.strictCreate=(n,e)=>new Ut({shape:()=>n,unknownKeys:"strict",catchall:Ul.create(),typeName:Ie.ZodObject,...Fe(e)});Ut.lazycreate=(n,e)=>new Ut({shape:n,unknownKeys:"strip",catchall:Ul.create(),typeName:Ie.ZodObject,...Fe(e)});class Hx extends Ye{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new io(o.ctx.common.issues));return ue(t,{code:ne.invalid_union,unionErrors:a}),ke}if(t.common.async)return Promise.all(r.map(async i=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const l of r){const c={...t,common:{...t.common,issues:[]},parent:null},d=l._parseSync({data:t.data,path:t.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(l=>new io(l));return ue(t,{code:ne.invalid_union,unionErrors:o}),ke}}get options(){return this._def.options}}Hx.create=(n,e)=>new Hx({options:n,typeName:Ie.ZodUnion,...Fe(e)});function Z1(n,e){const t=bo(n),r=bo(e);if(n===e)return{valid:!0,data:n};if(t===xe.object&&r===xe.object){const s=Qe.objectKeys(e),i=Qe.objectKeys(n).filter(o=>s.indexOf(o)!==-1),a={...n,...e};for(const o of i){const l=Z1(n[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(t===xe.array&&r===xe.array){if(n.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<n.length;i++){const a=n[i],o=e[i],l=Z1(a,o);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return t===xe.date&&r===xe.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Wx extends Ye{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=(i,a)=>{if(pN(i)||pN(a))return ke;const o=Z1(i.value,a.value);return o.valid?((mN(i)||mN(a))&&t.dirty(),{status:t.value,value:o.data}):(ue(r,{code:ne.invalid_intersection_types}),ke)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Wx.create=(n,e,t)=>new Wx({left:n,right:e,typeName:Ie.ZodIntersection,...Fe(t)});class Ku extends Ye{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.array)return ue(r,{code:ne.invalid_type,expected:xe.array,received:r.parsedType}),ke;if(r.data.length<this._def.items.length)return ue(r,{code:ne.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ke;!this._def.rest&&r.data.length>this._def.items.length&&(ue(r,{code:ne.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=[...r.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new zl(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>Xr.mergeArray(t,a)):Xr.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new Ku({...this._def,rest:e})}}Ku.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ku({items:n,typeName:Ie.ZodTuple,rest:null,...Fe(e)})};class AN extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.map)return ue(r,{code:ne.invalid_type,expected:xe.map,received:r.parsedType}),ke;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([o,l],c)=>({key:s._parse(new zl(r,o,r.path,[c,"key"])),value:i._parse(new zl(r,l,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return ke;(c.status==="dirty"||d.status==="dirty")&&t.dirty(),o.set(c.value,d.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const l of a){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return ke;(c.status==="dirty"||d.status==="dirty")&&t.dirty(),o.set(c.value,d.value)}return{status:t.value,value:o}}}}AN.create=(n,e,t)=>new AN({valueType:e,keyType:n,typeName:Ie.ZodMap,...Fe(t)});class wm extends Ye{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.set)return ue(r,{code:ne.invalid_type,expected:xe.set,received:r.parsedType}),ke;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ue(r,{code:ne.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ue(r,{code:ne.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const i=this._def.valueType;function a(l){const c=new Set;for(const d of l){if(d.status==="aborted")return ke;d.status==="dirty"&&t.dirty(),c.add(d.value)}return{status:t.value,value:c}}const o=[...r.data.values()].map((l,c)=>i._parse(new zl(r,l,r.path,c)));return r.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,t){return new wm({...this._def,minSize:{value:e,message:we.toString(t)}})}max(e,t){return new wm({...this._def,maxSize:{value:e,message:we.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}wm.create=(n,e)=>new wm({valueType:n,minSize:null,maxSize:null,typeName:Ie.ZodSet,...Fe(e)});class CN extends Ye{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}CN.create=(n,e)=>new CN({getter:n,typeName:Ie.ZodLazy,...Fe(e)});class TN extends Ye{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return ue(t,{received:t.data,code:ne.invalid_literal,expected:this._def.value}),ke}return{status:"valid",value:e.data}}get value(){return this._def.value}}TN.create=(n,e)=>new TN({value:n,typeName:Ie.ZodLiteral,...Fe(e)});function Y_(n,e){return new Tf({values:n,typeName:Ie.ZodEnum,...Fe(e)})}class Tf extends Ye{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return ue(t,{expected:Qe.joinValues(r),received:t.parsedType,code:ne.invalid_type}),ke}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return ue(t,{received:t.data,code:ne.invalid_enum_value,options:r}),ke}return xs(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Tf.create(e,{...this._def,...t})}exclude(e,t=this._def){return Tf.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}Tf.create=Y_;class RN extends Ye{_parse(e){const t=Qe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==xe.string&&r.parsedType!==xe.number){const s=Qe.objectValues(t);return ue(r,{expected:Qe.joinValues(s),received:r.parsedType,code:ne.invalid_type}),ke}if(this._cache||(this._cache=new Set(Qe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Qe.objectValues(t);return ue(r,{received:r.data,code:ne.invalid_enum_value,options:s}),ke}return xs(e.data)}get enum(){return this._def.values}}RN.create=(n,e)=>new RN({values:n,typeName:Ie.ZodNativeEnum,...Fe(e)});class Gx extends Ye{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==xe.promise&&t.common.async===!1)return ue(t,{code:ne.invalid_type,expected:xe.promise,received:t.parsedType}),ke;const r=t.parsedType===xe.promise?t.data:Promise.resolve(t.data);return xs(r.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Gx.create=(n,e)=>new Gx({type:n,typeName:Ie.ZodPromise,...Fe(e)});class Rf extends Ye{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ie.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{ue(r,a),a.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async o=>{if(t.value==="aborted")return ke;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?ke:l.status==="dirty"||t.value==="dirty"?pp(l.value):l});{if(t.value==="aborted")return ke;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?ke:o.status==="dirty"||t.value==="dirty"?pp(o.value):o}}if(s.type==="refinement"){const a=o=>{const l=s.refinement(o,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?ke:(o.status==="dirty"&&t.dirty(),a(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?ke:(o.status==="dirty"&&t.dirty(),a(o.value).then(()=>({status:t.value,value:o.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Cf(a))return ke;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Cf(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:t.value,value:o})):ke);Qe.assertNever(s)}}Rf.create=(n,e,t)=>new Rf({schema:n,typeName:Ie.ZodEffects,effect:e,...Fe(t)});Rf.createWithPreprocess=(n,e,t)=>new Rf({schema:e,effect:{type:"preprocess",transform:n},typeName:Ie.ZodEffects,...Fe(t)});class Ol extends Ye{_parse(e){return this._getType(e)===xe.undefined?xs(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ol.create=(n,e)=>new Ol({innerType:n,typeName:Ie.ZodOptional,...Fe(e)});class Nf extends Ye{_parse(e){return this._getType(e)===xe.null?xs(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Nf.create=(n,e)=>new Nf({innerType:n,typeName:Ie.ZodNullable,...Fe(e)});class J1 extends Ye{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===xe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}J1.create=(n,e)=>new J1({innerType:n,typeName:Ie.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Fe(e)});class q1 extends Ye{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ux(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new io(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new io(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}q1.create=(n,e)=>new q1({innerType:n,typeName:Ie.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Fe(e)});class NN extends Ye{_parse(e){if(this._getType(e)!==xe.nan){const r=this._getOrReturnCtx(e);return ue(r,{code:ne.invalid_type,expected:xe.nan,received:r.parsedType}),ke}return{status:"valid",value:e.data}}}NN.create=n=>new NN({typeName:Ie.ZodNaN,...Fe(n)});class Yz extends Ye{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class dC extends Ye{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ke:i.status==="dirty"?(t.dirty(),pp(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ke:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,t){return new dC({in:e,out:t,typeName:Ie.ZodPipeline})}}class eS extends Ye{_parse(e){const t=this._def.innerType._parse(e),r=s=>(Cf(s)&&(s.value=Object.freeze(s.value)),s);return Ux(t)?t.then(s=>r(s)):r(t)}unwrap(){return this._def.innerType}}eS.create=(n,e)=>new eS({innerType:n,typeName:Ie.ZodReadonly,...Fe(e)});var Ie;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Ie||(Ie={}));const jd=El.create;Ul.create;zi.create;const X_=Ut.create;Hx.create;Wx.create;Ku.create;Tf.create;Gx.create;Ol.create;Nf.create;const hs=S.forwardRef(({className:n,type:e,...t},r)=>f.jsx("input",{type:e,className:Ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));hs.displayName="Input";var hb="focusScope.autoFocusOnMount",fb="focusScope.autoFocusOnUnmount",PN={bubbles:!1,cancelable:!0},Xz="FocusScope",nw=S.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=n,[o,l]=S.useState(null),c=Sr(s),d=Sr(i),h=S.useRef(null),p=Oe(e,g=>l(g)),m=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let g=function(b){if(m.paused||!o)return;const E=b.target;o.contains(E)?h.current=E:vo(h.current,{select:!0})},y=function(b){if(m.paused||!o)return;const E=b.relatedTarget;E!==null&&(o.contains(E)||vo(h.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const C of b)C.removedNodes.length>0&&vo(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const w=new MutationObserver(x);return o&&w.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),w.disconnect()}}},[r,o,m.paused]),S.useEffect(()=>{if(o){IN.add(m);const g=document.activeElement;if(!o.contains(g)){const x=new CustomEvent(hb,PN);o.addEventListener(hb,c),o.dispatchEvent(x),x.defaultPrevented||(Qz(tU(Q_(o)),{select:!0}),document.activeElement===g&&vo(o))}return()=>{o.removeEventListener(hb,c),setTimeout(()=>{const x=new CustomEvent(fb,PN);o.addEventListener(fb,d),o.dispatchEvent(x),x.defaultPrevented||vo(g??document.body,{select:!0}),o.removeEventListener(fb,d),IN.remove(m)},0)}}},[o,c,d,m]);const v=S.useCallback(g=>{if(!t&&!r||m.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(y&&x){const w=g.currentTarget,[b,E]=Zz(w);b&&E?!g.shiftKey&&x===E?(g.preventDefault(),t&&vo(b,{select:!0})):g.shiftKey&&x===b&&(g.preventDefault(),t&&vo(E,{select:!0})):x===w&&g.preventDefault()}},[t,r,m.paused]);return f.jsx(be.div,{tabIndex:-1,...a,ref:p,onKeyDown:v})});nw.displayName=Xz;function Qz(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(vo(r,{select:e}),document.activeElement!==t)return}function Zz(n){const e=Q_(n),t=kN(e,n),r=kN(e.reverse(),n);return[t,r]}function Q_(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function kN(n,e){for(const t of n)if(!Jz(t,{upTo:e}))return t}function Jz(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function qz(n){return n instanceof HTMLInputElement&&"select"in n}function vo(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&qz(n)&&e&&n.select()}}var IN=eU();function eU(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=_N(n,e),n.unshift(e)},remove(e){var t;n=_N(n,e),(t=n[0])==null||t.resume()}}}function _N(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function tU(n){return n.filter(e=>e.tagName!=="A")}var pb=0;function hC(){S.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??MN()),document.body.insertAdjacentElement("beforeend",n[1]??MN()),pb++,()=>{pb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),pb--}},[])}function MN(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var _i=function(){return _i=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},_i.apply(this,arguments)};function Z_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function nU(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}var Cy="right-scroll-bar-position",Ty="width-before-scroll-bar",rU="with-scroll-bars-hidden",sU="--removed-body-scroll-bar-size";function mb(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function iU(n,e){var t=S.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var aU=typeof window<"u"?S.useLayoutEffect:S.useEffect,ON=new WeakMap;function oU(n,e){var t=iU(null,function(r){return n.forEach(function(s){return mb(s,r)})});return aU(function(){var r=ON.get(t);if(r){var s=new Set(r),i=new Set(n),a=t.current;s.forEach(function(o){i.has(o)||mb(o,null)}),i.forEach(function(o){s.has(o)||mb(o,a)})}ON.set(t,n)},[n]),t}function lU(n){return n}function cU(n,e){e===void 0&&(e=lU);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(i){var a=e(i,r);return t.push(a),function(){t=t.filter(function(o){return o!==a})}},assignSyncMedium:function(i){for(r=!0;t.length;){var a=t;t=[],a.forEach(i)}t={push:function(o){return i(o)},filter:function(){return t}}},assignMedium:function(i){r=!0;var a=[];if(t.length){var o=t;t=[],o.forEach(i),a=t}var l=function(){var d=a;a=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(d){a.push(d),c()},filter:function(d){return a=a.filter(d),t}}}};return s}function uU(n){n===void 0&&(n={});var e=cU(null);return e.options=_i({async:!0,ssr:!1},n),e}var J_=function(n){var e=n.sideCar,t=Z_(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,_i({},t))};J_.isSideCarExport=!0;function dU(n,e){return n.useMedium(e),J_}var q_=uU(),gb=function(){},rw=S.forwardRef(function(n,e){var t=S.useRef(null),r=S.useState({onScrollCapture:gb,onWheelCapture:gb,onTouchMoveCapture:gb}),s=r[0],i=r[1],a=n.forwardProps,o=n.children,l=n.className,c=n.removeScrollBar,d=n.enabled,h=n.shards,p=n.sideCar,m=n.noRelative,v=n.noIsolation,g=n.inert,y=n.allowPinchZoom,x=n.as,w=x===void 0?"div":x,b=n.gapMode,E=Z_(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=p,R=oU([t,e]),P=_i(_i({},E),s);return S.createElement(S.Fragment,null,d&&S.createElement(C,{sideCar:q_,removeScrollBar:c,shards:h,noRelative:m,noIsolation:v,inert:g,setCallbacks:i,allowPinchZoom:!!y,lockRef:t,gapMode:b}),a?S.cloneElement(S.Children.only(o),_i(_i({},P),{ref:R})):S.createElement(w,_i({},P,{className:l,ref:R}),o))});rw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rw.classNames={fullWidth:Ty,zeroRight:Cy};var hU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fU(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=hU();return e&&n.setAttribute("nonce",e),n}function pU(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function mU(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var gU=function(){var n=0,e=null;return{add:function(t){n==0&&(e=fU())&&(pU(e,t),mU(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},vU=function(){var n=gU();return function(e,t){S.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},eM=function(){var n=vU(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},yU={left:0,top:0,right:0,gap:0},vb=function(n){return parseInt(n||"",10)||0},xU=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[vb(t),vb(r),vb(s)]},wU=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return yU;var e=xU(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},bU=eM(),Yd="data-scroll-locked",SU=function(n,e,t,r){var s=n.left,i=n.top,a=n.right,o=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(rU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Yd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cy,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Ty,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Cy," .").concat(Cy,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ty," .").concat(Ty,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Yd,`] {
    `).concat(sU,": ").concat(o,`px;
  }
`)},jN=function(){var n=parseInt(document.body.getAttribute(Yd)||"0",10);return isFinite(n)?n:0},EU=function(){S.useEffect(function(){return document.body.setAttribute(Yd,(jN()+1).toString()),function(){var n=jN()-1;n<=0?document.body.removeAttribute(Yd):document.body.setAttribute(Yd,n.toString())}},[])},AU=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;EU();var i=S.useMemo(function(){return wU(s)},[s]);return S.createElement(bU,{styles:SU(i,!e,s,t?"":"!important")})},tS=!1;if(typeof window<"u")try{var Zv=Object.defineProperty({},"passive",{get:function(){return tS=!0,!0}});window.addEventListener("test",Zv,Zv),window.removeEventListener("test",Zv,Zv)}catch{tS=!1}var ud=tS?{passive:!1}:!1,CU=function(n){return n.tagName==="TEXTAREA"},tM=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!CU(n)&&t[e]==="visible")},TU=function(n){return tM(n,"overflowY")},RU=function(n){return tM(n,"overflowX")},DN=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=nM(n,r);if(s){var i=rM(n,r),a=i[1],o=i[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},NU=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},PU=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},nM=function(n,e){return n==="v"?TU(e):RU(e)},rM=function(n,e){return n==="v"?NU(e):PU(e)},kU=function(n,e){return n==="h"&&e==="rtl"?-1:1},IU=function(n,e,t,r,s){var i=kU(n,window.getComputedStyle(e).direction),a=i*r,o=t.target,l=e.contains(o),c=!1,d=a>0,h=0,p=0;do{if(!o)break;var m=rM(n,o),v=m[0],g=m[1],y=m[2],x=g-y-i*v;(v||x)&&nM(n,o)&&(h+=x,p+=v);var w=o.parentNode;o=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(c=!0),c},Jv=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},LN=function(n){return[n.deltaX,n.deltaY]},FN=function(n){return n&&"current"in n?n.current:n},_U=function(n,e){return n[0]===e[0]&&n[1]===e[1]},MU=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},OU=0,dd=[];function jU(n){var e=S.useRef([]),t=S.useRef([0,0]),r=S.useRef(),s=S.useState(OU++)[0],i=S.useState(eM)[0],a=S.useRef(n);S.useEffect(function(){a.current=n},[n]),S.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var g=nU([n.lockRef.current],(n.shards||[]).map(FN),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var o=S.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var x=Jv(g),w=t.current,b="deltaX"in g?g.deltaX:w[0]-x[0],E="deltaY"in g?g.deltaY:w[1]-x[1],C,R=g.target,P=Math.abs(b)>Math.abs(E)?"h":"v";if("touches"in g&&P==="h"&&R.type==="range")return!1;var k=DN(P,R);if(!k)return!0;if(k?C=P:(C=P==="v"?"h":"v",k=DN(P,R)),!k)return!1;if(!r.current&&"changedTouches"in g&&(b||E)&&(r.current=C),!C)return!0;var I=r.current||C;return IU(I,y,g,I==="h"?b:E)},[]),l=S.useCallback(function(g){var y=g;if(!(!dd.length||dd[dd.length-1]!==i)){var x="deltaY"in y?LN(y):Jv(y),w=e.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&_U(C.delta,x)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var b=(a.current.shards||[]).map(FN).filter(Boolean).filter(function(C){return C.contains(y.target)}),E=b.length>0?o(y,b[0]):!a.current.noIsolation;E&&y.cancelable&&y.preventDefault()}}},[]),c=S.useCallback(function(g,y,x,w){var b={name:g,delta:y,target:x,should:w,shadowParent:DU(x)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(E){return E!==b})},1)},[]),d=S.useCallback(function(g){t.current=Jv(g),r.current=void 0},[]),h=S.useCallback(function(g){c(g.type,LN(g),g.target,o(g,n.lockRef.current))},[]),p=S.useCallback(function(g){c(g.type,Jv(g),g.target,o(g,n.lockRef.current))},[]);S.useEffect(function(){return dd.push(i),n.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,ud),document.addEventListener("touchmove",l,ud),document.addEventListener("touchstart",d,ud),function(){dd=dd.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,ud),document.removeEventListener("touchmove",l,ud),document.removeEventListener("touchstart",d,ud)}},[]);var m=n.removeScrollBar,v=n.inert;return S.createElement(S.Fragment,null,v?S.createElement(i,{styles:MU(s)}):null,m?S.createElement(AU,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function DU(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const LU=dU(q_,jU);var sw=S.forwardRef(function(n,e){return S.createElement(rw,_i({},n,{ref:e,sideCar:LU}))});sw.classNames=rw.classNames;var FU=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},hd=new WeakMap,qv=new WeakMap,ey={},yb=0,sM=function(n){return n&&(n.host||sM(n.parentNode))},$U=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=sM(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},BU=function(n,e,t,r){var s=$U(e,Array.isArray(n)?n:[n]);ey[t]||(ey[t]=new WeakMap);var i=ey[t],a=[],o=new Set,l=new Set(s),c=function(h){!h||o.has(h)||(o.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(o.has(p))d(p);else try{var m=p.getAttribute(r),v=m!==null&&m!=="false",g=(hd.get(p)||0)+1,y=(i.get(p)||0)+1;hd.set(p,g),i.set(p,y),a.push(p),g===1&&v&&qv.set(p,!0),y===1&&p.setAttribute(t,"true"),v||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return d(e),o.clear(),yb++,function(){a.forEach(function(h){var p=hd.get(h)-1,m=i.get(h)-1;hd.set(h,p),i.set(h,m),p||(qv.has(h)||h.removeAttribute(r),qv.delete(h)),m||h.removeAttribute(t)}),yb--,yb||(hd=new WeakMap,hd=new WeakMap,qv=new WeakMap,ey={})}},fC=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=FU(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),BU(r,s,t,"aria-hidden")):function(){return null}},iw="Dialog",[iM,RK]=rr(iw),[zU,ri]=iM(iw),aM=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=n,o=S.useRef(null),l=S.useRef(null),[c,d]=Ui({prop:r,defaultProp:s??!1,onChange:i,caller:iw});return f.jsx(zU,{scope:e,triggerRef:o,contentRef:l,contentId:$i(),titleId:$i(),descriptionId:$i(),open:c,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(h=>!h),[d]),modal:a,children:t})};aM.displayName=iw;var oM="DialogTrigger",lM=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=ri(oM,t),i=Oe(e,s.triggerRef);return f.jsx(be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":gC(s.open),...r,ref:i,onClick:re(n.onClick,s.onOpenToggle)})});lM.displayName=oM;var pC="DialogPortal",[UU,cM]=iM(pC,{forceMount:void 0}),uM=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:s}=n,i=ri(pC,e);return f.jsx(UU,{scope:e,forceMount:t,children:S.Children.map(r,a=>f.jsx(Jr,{present:t||i.open,children:f.jsx(uv,{asChild:!0,container:s,children:a})}))})};uM.displayName=pC;var Kx="DialogOverlay",dM=S.forwardRef((n,e)=>{const t=cM(Kx,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=ri(Kx,n.__scopeDialog);return i.modal?f.jsx(Jr,{present:r||i.open,children:f.jsx(HU,{...s,ref:e})}):null});dM.displayName=Kx;var VU=Vu("DialogOverlay.RemoveScroll"),HU=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=ri(Kx,t);return f.jsx(sw,{as:VU,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(be.div,{"data-state":gC(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Yu="DialogContent",hM=S.forwardRef((n,e)=>{const t=cM(Yu,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=ri(Yu,n.__scopeDialog);return f.jsx(Jr,{present:r||i.open,children:i.modal?f.jsx(WU,{...s,ref:e}):f.jsx(GU,{...s,ref:e})})});hM.displayName=Yu;var WU=S.forwardRef((n,e)=>{const t=ri(Yu,n.__scopeDialog),r=S.useRef(null),s=Oe(e,t.contentRef,r);return S.useEffect(()=>{const i=r.current;if(i)return fC(i)},[]),f.jsx(fM,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(n.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=t.triggerRef.current)==null||a.focus()}),onPointerDownOutside:re(n.onPointerDownOutside,i=>{const a=i.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&i.preventDefault()}),onFocusOutside:re(n.onFocusOutside,i=>i.preventDefault())})}),GU=S.forwardRef((n,e)=>{const t=ri(Yu,n.__scopeDialog),r=S.useRef(!1),s=S.useRef(!1);return f.jsx(fM,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,o;(a=n.onCloseAutoFocus)==null||a.call(n,i),i.defaultPrevented||(r.current||(o=t.triggerRef.current)==null||o.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=n.onInteractOutside)==null||l.call(n,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((c=t.triggerRef.current)==null?void 0:c.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),fM=S.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=n,o=ri(Yu,t),l=S.useRef(null),c=Oe(e,l);return hC(),f.jsxs(f.Fragment,{children:[f.jsx(nw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:f.jsx(Of,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":gC(o.open),...a,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(KU,{titleId:o.titleId}),f.jsx(XU,{contentRef:l,descriptionId:o.descriptionId})]})]})}),mC="DialogTitle",pM=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=ri(mC,t);return f.jsx(be.h2,{id:s.titleId,...r,ref:e})});pM.displayName=mC;var mM="DialogDescription",gM=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=ri(mM,t);return f.jsx(be.p,{id:s.descriptionId,...r,ref:e})});gM.displayName=mM;var vM="DialogClose",yM=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=ri(vM,t);return f.jsx(be.button,{type:"button",...r,ref:e,onClick:re(n.onClick,()=>s.onOpenChange(!1))})});yM.displayName=vM;function gC(n){return n?"open":"closed"}var xM="DialogTitleWarning",[NK,wM]=p3(xM,{contentName:Yu,titleName:mC,docsSlug:"dialog"}),KU=({titleId:n})=>{const e=wM(xM),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},YU="DialogDescriptionWarning",XU=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wM(YU).contentName}}.`;return S.useEffect(()=>{var i;const s=(i=n.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},QU=aM,ZU=lM,JU=uM,bM=dM,SM=hM,EM=pM,AM=gM,qU=yM;const jl=QU,Pf=ZU,e7=JU,CM=S.forwardRef(({className:n,...e},t)=>f.jsx(bM,{ref:t,className:Ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));CM.displayName=bM.displayName;const Ka=S.forwardRef(({className:n,children:e,...t},r)=>f.jsxs(e7,{children:[f.jsx(CM,{}),f.jsxs(SM,{ref:r,className:Ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),"aria-describedby":t["aria-describedby"],...t,children:[e,f.jsxs(qU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(hv,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ka.displayName=SM.displayName;const Ya=({className:n,...e})=>f.jsx("div",{className:Ce("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});Ya.displayName="DialogHeader";const Xd=({className:n,...e})=>f.jsx("div",{className:Ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});Xd.displayName="DialogFooter";const Xa=S.forwardRef(({className:n,...e},t)=>f.jsx(EM,{ref:t,className:Ce("text-lg font-semibold leading-none tracking-tight",n),...e}));Xa.displayName=EM.displayName;const aw=S.forwardRef(({className:n,...e},t)=>f.jsx(AM,{ref:t,className:Ce("text-sm text-muted-foreground",n),...e}));aw.displayName=AM.displayName;var t7="Label",TM=S.forwardRef((n,e)=>f.jsx(be.label,{...n,ref:e,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||((s=n.onMouseDown)==null||s.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));TM.displayName=t7;var RM=TM;const n7=_A("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),He=S.forwardRef(({className:n,...e},t)=>f.jsx(RM,{ref:t,className:Ce(n7(),n),...e}));He.displayName=RM.displayName;const NM=nz,PM=S.createContext({}),Dd=({...n})=>f.jsx(PM.Provider,{value:{name:n.name},children:f.jsx(az,{...n})}),ow=()=>{const n=S.useContext(PM),e=S.useContext(kM),{getFieldState:t,formState:r}=tw(),s=t(n.name,r);if(!n)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:n.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},kM=S.createContext({}),fc=S.forwardRef(({className:n,...e},t)=>{const r=S.useId();return f.jsx(kM.Provider,{value:{id:r},children:f.jsx("div",{ref:t,className:Ce("space-y-2",n),...e})})});fc.displayName="FormItem";const pc=S.forwardRef(({className:n,...e},t)=>{const{error:r,formItemId:s}=ow();return f.jsx(He,{ref:t,className:Ce(r&&"text-destructive",n),htmlFor:s,...e})});pc.displayName="FormLabel";const mc=S.forwardRef(({...n},e)=>{const{error:t,formItemId:r,formDescriptionId:s,formMessageId:i}=ow();return f.jsx(zk,{ref:e,id:r,"aria-describedby":t?`${s} ${i}`:`${s}`,"aria-invalid":!!t,...n})});mc.displayName="FormControl";const r7=S.forwardRef(({className:n,...e},t)=>{const{formDescriptionId:r}=ow();return f.jsx("p",{ref:t,id:r,className:Ce("text-sm text-muted-foreground",n),...e})});r7.displayName="FormDescription";const gc=S.forwardRef(({className:n,children:e,...t},r)=>{const{error:s,formMessageId:i}=ow(),a=s?String(s==null?void 0:s.message):e;return a?f.jsx("p",{ref:r,id:i,className:Ce("text-sm font-medium text-destructive",n),...t,children:a}):null});gc.displayName="FormMessage";const s7=X_({email:jd().email("Please enter a valid email address"),password:jd().min(6,"Password must be at least 6 characters")});function i7({children:n}){const[e,t]=S.useState(!1),{login:r,isLoading:s,signInWithGoogle:i}=ni(),{toast:a}=ys(),o=rd(),l=V_({resolver:W_(s7),defaultValues:{email:"",password:""}}),c=async d=>{await r(d.email,d.password)?(a({title:"Login successful!",description:"Welcome back to Qzzly"}),t(!1),o("/sessions")):a({title:"Login failed",description:"Please check your email and password",variant:"destructive"})};return f.jsxs(jl,{open:e,onOpenChange:t,children:[f.jsx(Pf,{asChild:!0,children:n||f.jsx(me,{variant:"outline",children:"Log in"})}),f.jsxs(Ka,{className:"sm:max-w-[425px]",children:[f.jsxs(Ya,{children:[f.jsx(Xa,{className:"text-xl font-bold",children:"Log in to Qzzly"}),f.jsx(aw,{children:"Enter your email and password to access your account."})]}),f.jsx(NM,{...l,children:f.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[f.jsx(Dd,{control:l.control,name:"email",render:({field:d})=>f.jsxs(fc,{children:[f.jsx(pc,{children:"Email"}),f.jsx(mc,{children:f.jsx(hs,{placeholder:"you@example.com",...d})}),f.jsx(gc,{})]})}),f.jsx(Dd,{control:l.control,name:"password",render:({field:d})=>f.jsxs(fc,{children:[f.jsx(pc,{children:"Password"}),f.jsx(mc,{children:f.jsx(hs,{type:"password",placeholder:"******",...d})}),f.jsx(gc,{})]})}),f.jsx("div",{className:"flex justify-end pt-2",children:f.jsx(me,{type:"submit",className:"gradient-bg",disabled:s,children:s?"Logging in...":"Log in"})}),f.jsx(me,{type:"button",variant:"outline",className:"w-full mt-2",onClick:i,children:"Continue with Google"})]})})]})]})}const a7=X_({name:jd().min(2,"Name must be at least 2 characters").optional(),email:jd().email("Please enter a valid email address"),password:jd().min(6,"Password must be at least 6 characters"),confirmPassword:jd().min(6,"Please confirm your password")}).refine(n=>n.password===n.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function vC({children:n,redirectPath:e="/sessions"}){const[t,r]=S.useState(!1),{signup:s,isLoading:i,signInWithGoogle:a}=ni(),{toast:o}=ys(),l=rd(),c=V_({resolver:W_(a7),defaultValues:{name:"",email:"",password:"",confirmPassword:""}}),d=async h=>{await s(h.email,h.password,h.name)?(o({title:"Account created!",description:"Welcome to Qzzly"}),r(!1),l(e)):o({title:"Signup failed",description:"Please check your information and try again",variant:"destructive"})};return f.jsxs(jl,{open:t,onOpenChange:r,children:[f.jsx(Pf,{asChild:!0,children:n||f.jsx(me,{children:"Sign up"})}),f.jsxs(Ka,{className:"sm:max-w-[425px]",children:[f.jsxs(Ya,{children:[f.jsx(Xa,{className:"text-xl font-bold",children:"Create your account"}),f.jsx(aw,{children:"Join Qzzly to start creating and studying with flashcards."})]}),f.jsx(NM,{...c,children:f.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-4",children:[f.jsx(Dd,{control:c.control,name:"name",render:({field:h})=>f.jsxs(fc,{children:[f.jsx(pc,{children:"Name (optional)"}),f.jsx(mc,{children:f.jsx(hs,{placeholder:"Your name",...h})}),f.jsx(gc,{})]})}),f.jsx(Dd,{control:c.control,name:"email",render:({field:h})=>f.jsxs(fc,{children:[f.jsx(pc,{children:"Email"}),f.jsx(mc,{children:f.jsx(hs,{placeholder:"you@example.com",...h})}),f.jsx(gc,{})]})}),f.jsx(Dd,{control:c.control,name:"password",render:({field:h})=>f.jsxs(fc,{children:[f.jsx(pc,{children:"Password"}),f.jsx(mc,{children:f.jsx(hs,{type:"password",placeholder:"******",...h})}),f.jsx(gc,{})]})}),f.jsx(Dd,{control:c.control,name:"confirmPassword",render:({field:h})=>f.jsxs(fc,{children:[f.jsx(pc,{children:"Confirm Password"}),f.jsx(mc,{children:f.jsx(hs,{type:"password",placeholder:"******",...h})}),f.jsx(gc,{})]})}),f.jsx("div",{className:"flex justify-end pt-2",children:f.jsx(me,{type:"submit",className:"gradient-bg",disabled:i,children:i?"Creating account...":"Sign up"})}),f.jsx(me,{type:"button",variant:"outline",className:"w-full mt-2",onClick:a,children:"Continue with Google"})]})})]})]})}var o7=S.createContext(void 0);function Vf(n){const e=S.useContext(o7);return n||e||"ltr"}var xb="rovingFocusGroup.onEntryFocus",l7={bubbles:!1,cancelable:!0},mv="RovingFocusGroup",[nS,IM,c7]=cv(mv),[u7,Hf]=rr(mv,[c7]),[d7,h7]=u7(mv),_M=S.forwardRef((n,e)=>f.jsx(nS.Provider,{scope:n.__scopeRovingFocusGroup,children:f.jsx(nS.Slot,{scope:n.__scopeRovingFocusGroup,children:f.jsx(f7,{...n,ref:e})})}));_M.displayName=mv;var f7=S.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=n,p=S.useRef(null),m=Oe(e,p),v=Vf(i),[g,y]=Ui({prop:a,defaultProp:o??null,onChange:l,caller:mv}),[x,w]=S.useState(!1),b=Sr(c),E=IM(t),C=S.useRef(!1),[R,P]=S.useState(0);return S.useEffect(()=>{const k=p.current;if(k)return k.addEventListener(xb,b),()=>k.removeEventListener(xb,b)},[b]),f.jsx(d7,{scope:t,orientation:r,dir:v,loop:s,currentTabStopId:g,onItemFocus:S.useCallback(k=>y(k),[y]),onItemShiftTab:S.useCallback(()=>w(!0),[]),onFocusableItemAdd:S.useCallback(()=>P(k=>k+1),[]),onFocusableItemRemove:S.useCallback(()=>P(k=>k-1),[]),children:f.jsx(be.div,{tabIndex:x||R===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...n.style},onMouseDown:re(n.onMouseDown,()=>{C.current=!0}),onFocus:re(n.onFocus,k=>{const I=!C.current;if(k.target===k.currentTarget&&I&&!x){const _=new CustomEvent(xb,l7);if(k.currentTarget.dispatchEvent(_),!_.defaultPrevented){const O=E().filter(B=>B.focusable),M=O.find(B=>B.active),z=O.find(B=>B.id===g),K=[M,z,...O].filter(Boolean).map(B=>B.ref.current);jM(K,d)}}C.current=!1}),onBlur:re(n.onBlur,()=>w(!1))})})}),MM="RovingFocusGroupItem",OM=S.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...o}=n,l=$i(),c=i||l,d=h7(MM,t),h=d.currentTabStopId===c,p=IM(t),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:g}=d;return S.useEffect(()=>{if(r)return m(),()=>v()},[r,m,v]),f.jsx(nS.ItemSlot,{scope:t,id:c,focusable:r,active:s,children:f.jsx(be.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:re(n.onMouseDown,y=>{r?d.onItemFocus(c):y.preventDefault()}),onFocus:re(n.onFocus,()=>d.onItemFocus(c)),onKeyDown:re(n.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=g7(y,d.orientation,d.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=p().filter(E=>E.focusable).map(E=>E.ref.current);if(x==="last")b.reverse();else if(x==="prev"||x==="next"){x==="prev"&&b.reverse();const E=b.indexOf(y.currentTarget);b=d.loop?v7(b,E+1):b.slice(E+1)}setTimeout(()=>jM(b))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:g!=null}):a})})});OM.displayName=MM;var p7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function m7(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function g7(n,e,t){const r=m7(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return p7[r]}function jM(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function v7(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var yC=_M,xC=OM,rS=["Enter"," "],y7=["ArrowDown","PageUp","Home"],DM=["ArrowUp","PageDown","End"],x7=[...y7,...DM],w7={ltr:[...rS,"ArrowRight"],rtl:[...rS,"ArrowLeft"]},b7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},gv="Menu",[bm,S7,E7]=cv(gv),[sd,LM]=rr(gv,[E7,Ff,Hf]),lw=Ff(),FM=Hf(),[A7,id]=sd(gv),[C7,vv]=sd(gv),$M=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=n,o=lw(e),[l,c]=S.useState(null),d=S.useRef(!1),h=Sr(i),p=Vf(s);return S.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),f.jsx(QI,{...o,children:f.jsx(A7,{scope:e,open:t,onOpenChange:h,content:l,onContentChange:c,children:f.jsx(C7,{scope:e,onClose:S.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:a,children:r})})})};$M.displayName=gv;var T7="MenuAnchor",wC=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=lw(t);return f.jsx(HA,{...s,...r,ref:e})});wC.displayName=T7;var bC="MenuPortal",[R7,BM]=sd(bC,{forceMount:void 0}),zM=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:s}=n,i=id(bC,e);return f.jsx(R7,{scope:e,forceMount:t,children:f.jsx(Jr,{present:t||i.open,children:f.jsx(uv,{asChild:!0,container:s,children:r})})})};zM.displayName=bC;var ps="MenuContent",[N7,SC]=sd(ps),UM=S.forwardRef((n,e)=>{const t=BM(ps,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,i=id(ps,n.__scopeMenu),a=vv(ps,n.__scopeMenu);return f.jsx(bm.Provider,{scope:n.__scopeMenu,children:f.jsx(Jr,{present:r||i.open,children:f.jsx(bm.Slot,{scope:n.__scopeMenu,children:a.modal?f.jsx(P7,{...s,ref:e}):f.jsx(k7,{...s,ref:e})})})})}),P7=S.forwardRef((n,e)=>{const t=id(ps,n.__scopeMenu),r=S.useRef(null),s=Oe(e,r);return S.useEffect(()=>{const i=r.current;if(i)return fC(i)},[]),f.jsx(EC,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:re(n.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),k7=S.forwardRef((n,e)=>{const t=id(ps,n.__scopeMenu);return f.jsx(EC,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),I7=Vu("MenuContent.ScrollLock"),EC=S.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:m,disableOutsideScroll:v,...g}=n,y=id(ps,t),x=vv(ps,t),w=lw(t),b=FM(t),E=S7(t),[C,R]=S.useState(null),P=S.useRef(null),k=Oe(e,P,y.onContentChange),I=S.useRef(0),_=S.useRef(""),O=S.useRef(0),M=S.useRef(null),z=S.useRef("right"),D=S.useRef(0),K=v?sw:S.Fragment,B=v?{as:I7,allowPinchZoom:!0}:void 0,U=F=>{var L,W;const H=_.current+F,J=E().filter(Y=>!Y.disabled),Z=document.activeElement,te=(L=J.find(Y=>Y.ref.current===Z))==null?void 0:L.textValue,ye=J.map(Y=>Y.textValue),Ne=V7(ye,H,te),Q=(W=J.find(Y=>Y.textValue===Ne))==null?void 0:W.ref.current;(function Y(ie){_.current=ie,window.clearTimeout(I.current),ie!==""&&(I.current=window.setTimeout(()=>Y(""),1e3))})(H),Q&&setTimeout(()=>Q.focus())};S.useEffect(()=>()=>window.clearTimeout(I.current),[]),hC();const $=S.useCallback(F=>{var J,Z;return z.current===((J=M.current)==null?void 0:J.side)&&W7(F,(Z=M.current)==null?void 0:Z.area)},[]);return f.jsx(N7,{scope:t,searchRef:_,onItemEnter:S.useCallback(F=>{$(F)&&F.preventDefault()},[$]),onItemLeave:S.useCallback(F=>{var H;$(F)||((H=P.current)==null||H.focus(),R(null))},[$]),onTriggerLeave:S.useCallback(F=>{$(F)&&F.preventDefault()},[$]),pointerGraceTimerRef:O,onPointerGraceIntentChange:S.useCallback(F=>{M.current=F},[]),children:f.jsx(K,{...B,children:f.jsx(nw,{asChild:!0,trapped:s,onMountAutoFocus:re(i,F=>{var H;F.preventDefault(),(H=P.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:f.jsx(Of,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:m,children:f.jsx(yC,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:R,onEntryFocus:re(l,F=>{x.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(WA,{role:"menu","aria-orientation":"vertical","data-state":sO(y.open),"data-radix-menu-content":"",dir:x.dir,...w,...g,ref:k,style:{outline:"none",...g.style},onKeyDown:re(g.onKeyDown,F=>{const J=F.target.closest("[data-radix-menu-content]")===F.currentTarget,Z=F.ctrlKey||F.altKey||F.metaKey,te=F.key.length===1;J&&(F.key==="Tab"&&F.preventDefault(),!Z&&te&&U(F.key));const ye=P.current;if(F.target!==ye||!x7.includes(F.key))return;F.preventDefault();const Q=E().filter(L=>!L.disabled).map(L=>L.ref.current);DM.includes(F.key)&&Q.reverse(),z7(Q)}),onBlur:re(n.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(I.current),_.current="")}),onPointerMove:re(n.onPointerMove,Sm(F=>{const H=F.target,J=D.current!==F.clientX;if(F.currentTarget.contains(H)&&J){const Z=F.clientX>D.current?"right":"left";z.current=Z,D.current=F.clientX}}))})})})})})})});UM.displayName=ps;var _7="MenuGroup",AC=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return f.jsx(be.div,{role:"group",...r,ref:e})});AC.displayName=_7;var M7="MenuLabel",VM=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return f.jsx(be.div,{...r,ref:e})});VM.displayName=M7;var Yx="MenuItem",$N="menu.itemSelect",cw=S.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...s}=n,i=S.useRef(null),a=vv(Yx,n.__scopeMenu),o=SC(Yx,n.__scopeMenu),l=Oe(e,i),c=S.useRef(!1),d=()=>{const h=i.current;if(!t&&h){const p=new CustomEvent($N,{bubbles:!0,cancelable:!0});h.addEventListener($N,m=>r==null?void 0:r(m),{once:!0}),NA(h,p),p.defaultPrevented?c.current=!1:a.onClose()}};return f.jsx(HM,{...s,ref:l,disabled:t,onClick:re(n.onClick,d),onPointerDown:h=>{var p;(p=n.onPointerDown)==null||p.call(n,h),c.current=!0},onPointerUp:re(n.onPointerUp,h=>{var p;c.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:re(n.onKeyDown,h=>{const p=o.searchRef.current!=="";t||p&&h.key===" "||rS.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});cw.displayName=Yx;var HM=S.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:s,...i}=n,a=SC(Yx,t),o=FM(t),l=S.useRef(null),c=Oe(e,l),[d,h]=S.useState(!1),[p,m]=S.useState("");return S.useEffect(()=>{const v=l.current;v&&m((v.textContent??"").trim())},[i.children]),f.jsx(bm.ItemSlot,{scope:t,disabled:r,textValue:s??p,children:f.jsx(xC,{asChild:!0,...o,focusable:!r,children:f.jsx(be.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:re(n.onPointerMove,Sm(v=>{r?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:re(n.onPointerLeave,Sm(v=>a.onItemLeave(v))),onFocus:re(n.onFocus,()=>h(!0)),onBlur:re(n.onBlur,()=>h(!1))})})})}),O7="MenuCheckboxItem",WM=S.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...s}=n;return f.jsx(QM,{scope:n.__scopeMenu,checked:t,children:f.jsx(cw,{role:"menuitemcheckbox","aria-checked":Xx(t)?"mixed":t,...s,ref:e,"data-state":TC(t),onSelect:re(s.onSelect,()=>r==null?void 0:r(Xx(t)?!0:!t),{checkForDefaultPrevented:!1})})})});WM.displayName=O7;var GM="MenuRadioGroup",[j7,D7]=sd(GM,{value:void 0,onValueChange:()=>{}}),KM=S.forwardRef((n,e)=>{const{value:t,onValueChange:r,...s}=n,i=Sr(r);return f.jsx(j7,{scope:n.__scopeMenu,value:t,onValueChange:i,children:f.jsx(AC,{...s,ref:e})})});KM.displayName=GM;var YM="MenuRadioItem",XM=S.forwardRef((n,e)=>{const{value:t,...r}=n,s=D7(YM,n.__scopeMenu),i=t===s.value;return f.jsx(QM,{scope:n.__scopeMenu,checked:i,children:f.jsx(cw,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":TC(i),onSelect:re(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,t)},{checkForDefaultPrevented:!1})})})});XM.displayName=YM;var CC="MenuItemIndicator",[QM,L7]=sd(CC,{checked:!1}),ZM=S.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...s}=n,i=L7(CC,t);return f.jsx(Jr,{present:r||Xx(i.checked)||i.checked===!0,children:f.jsx(be.span,{...s,ref:e,"data-state":TC(i.checked)})})});ZM.displayName=CC;var F7="MenuSeparator",JM=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return f.jsx(be.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});JM.displayName=F7;var $7="MenuArrow",qM=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=lw(t);return f.jsx(GA,{...s,...r,ref:e})});qM.displayName=$7;var B7="MenuSub",[PK,eO]=sd(B7),mp="MenuSubTrigger",tO=S.forwardRef((n,e)=>{const t=id(mp,n.__scopeMenu),r=vv(mp,n.__scopeMenu),s=eO(mp,n.__scopeMenu),i=SC(mp,n.__scopeMenu),a=S.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=i,c={__scopeMenu:n.__scopeMenu},d=S.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return S.useEffect(()=>d,[d]),S.useEffect(()=>{const h=o.current;return()=>{window.clearTimeout(h),l(null)}},[o,l]),f.jsx(wC,{asChild:!0,...c,children:f.jsx(HM,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":sO(t.open),...n,ref:H0(e,s.onTriggerChange),onClick:h=>{var p;(p=n.onClick)==null||p.call(n,h),!(n.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:re(n.onPointerMove,Sm(h=>{i.onItemEnter(h),!h.defaultPrevented&&!n.disabled&&!t.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{t.onOpenChange(!0),d()},100))})),onPointerLeave:re(n.onPointerLeave,Sm(h=>{var m,v;d();const p=(m=t.content)==null?void 0:m.getBoundingClientRect();if(p){const g=(v=t.content)==null?void 0:v.dataset.side,y=g==="right",x=y?-5:5,w=p[y?"left":"right"],b=p[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:w,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:w,y:p.bottom}],side:g}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:re(n.onKeyDown,h=>{var m;const p=i.searchRef.current!=="";n.disabled||p&&h.key===" "||w7[r.dir].includes(h.key)&&(t.onOpenChange(!0),(m=t.content)==null||m.focus(),h.preventDefault())})})})});tO.displayName=mp;var nO="MenuSubContent",rO=S.forwardRef((n,e)=>{const t=BM(ps,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,i=id(ps,n.__scopeMenu),a=vv(ps,n.__scopeMenu),o=eO(nO,n.__scopeMenu),l=S.useRef(null),c=Oe(e,l);return f.jsx(bm.Provider,{scope:n.__scopeMenu,children:f.jsx(Jr,{present:r||i.open,children:f.jsx(bm.Slot,{scope:n.__scopeMenu,children:f.jsx(EC,{id:o.contentId,"aria-labelledby":o.triggerId,...s,ref:c,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;a.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:re(n.onFocusOutside,d=>{d.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:re(n.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:re(n.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),p=b7[a.dir].includes(d.key);h&&p&&(i.onOpenChange(!1),(m=o.trigger)==null||m.focus(),d.preventDefault())})})})})})});rO.displayName=nO;function sO(n){return n?"open":"closed"}function Xx(n){return n==="indeterminate"}function TC(n){return Xx(n)?"indeterminate":n?"checked":"unchecked"}function z7(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function U7(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function V7(n,e,t){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=t?n.indexOf(t):-1;let a=U7(n,Math.max(i,0));s.length===1&&(a=a.filter(c=>c!==t));const l=a.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==t?l:void 0}function H7(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const o=e[i],l=e[a],c=o.x,d=o.y,h=l.x,p=l.y;d>r!=p>r&&t<(h-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function W7(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return H7(t,e)}function Sm(n){return e=>e.pointerType==="mouse"?n(e):void 0}var G7=$M,K7=wC,Y7=zM,X7=UM,Q7=AC,Z7=VM,J7=cw,q7=WM,eV=KM,tV=XM,nV=ZM,rV=JM,sV=qM,iV=tO,aV=rO,uw="DropdownMenu",[oV,kK]=rr(uw,[LM]),sr=LM(),[lV,iO]=oV(uw),aO=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=n,l=sr(e),c=S.useRef(null),[d,h]=Ui({prop:s,defaultProp:i??!1,onChange:a,caller:uw});return f.jsx(lV,{scope:e,triggerId:$i(),triggerRef:c,contentId:$i(),open:d,onOpenChange:h,onOpenToggle:S.useCallback(()=>h(p=>!p),[h]),modal:o,children:f.jsx(G7,{...l,open:d,onOpenChange:h,dir:r,modal:o,children:t})})};aO.displayName=uw;var oO="DropdownMenuTrigger",lO=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...s}=n,i=iO(oO,t),a=sr(t);return f.jsx(K7,{asChild:!0,...a,children:f.jsx(be.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:H0(e,i.triggerRef),onPointerDown:re(n.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:re(n.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});lO.displayName=oO;var cV="DropdownMenuPortal",cO=n=>{const{__scopeDropdownMenu:e,...t}=n,r=sr(e);return f.jsx(Y7,{...r,...t})};cO.displayName=cV;var uO="DropdownMenuContent",dO=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=iO(uO,t),i=sr(t),a=S.useRef(!1);return f.jsx(X7,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:re(n.onCloseAutoFocus,o=>{var l;a.current||(l=s.triggerRef.current)==null||l.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:re(n.onInteractOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(a.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dO.displayName=uO;var uV="DropdownMenuGroup",dV=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=sr(t);return f.jsx(Q7,{...s,...r,ref:e})});dV.displayName=uV;var hV="DropdownMenuLabel",hO=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=sr(t);return f.jsx(Z7,{...s,...r,ref:e})});hO.displayName=hV;var fV="DropdownMenuItem",fO=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=sr(t);return f.jsx(J7,{...s,...r,ref:e})});fO.displayName=fV;var pV="DropdownMenuCheckboxItem",pO=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=sr(t);return f.jsx(q7,{...s,...r,ref:e})});pO.displayName=pV;var mV="DropdownMenuRadioGroup",gV=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=sr(t);return f.jsx(eV,{...s,...r,ref:e})});gV.displayName=mV;var vV="DropdownMenuRadioItem",mO=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=sr(t);return f.jsx(tV,{...s,...r,ref:e})});mO.displayName=vV;var yV="DropdownMenuItemIndicator",gO=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=sr(t);return f.jsx(nV,{...s,...r,ref:e})});gO.displayName=yV;var xV="DropdownMenuSeparator",vO=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=sr(t);return f.jsx(rV,{...s,...r,ref:e})});vO.displayName=xV;var wV="DropdownMenuArrow",bV=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=sr(t);return f.jsx(sV,{...s,...r,ref:e})});bV.displayName=wV;var SV="DropdownMenuSubTrigger",yO=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=sr(t);return f.jsx(iV,{...s,...r,ref:e})});yO.displayName=SV;var EV="DropdownMenuSubContent",xO=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=sr(t);return f.jsx(aV,{...s,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});xO.displayName=EV;var AV=aO,CV=lO,TV=cO,wO=dO,bO=hO,SO=fO,EO=pO,AO=mO,CO=gO,TO=vO,RO=yO,NO=xO;const RV=AV,NV=CV,PV=S.forwardRef(({className:n,inset:e,children:t,...r},s)=>f.jsxs(RO,{ref:s,className:Ce("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",n),...r,children:[t,f.jsx(u6,{className:"ml-auto h-4 w-4"})]}));PV.displayName=RO.displayName;const kV=S.forwardRef(({className:n,...e},t)=>f.jsx(NO,{ref:t,className:Ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));kV.displayName=NO.displayName;const PO=S.forwardRef(({className:n,sideOffset:e=4,...t},r)=>f.jsx(TV,{children:f.jsx(wO,{ref:r,sideOffset:e,className:Ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));PO.displayName=wO.displayName;const sS=S.forwardRef(({className:n,inset:e,...t},r)=>f.jsx(SO,{ref:r,className:Ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",n),...t}));sS.displayName=SO.displayName;const IV=S.forwardRef(({className:n,children:e,checked:t,...r},s)=>f.jsxs(EO,{ref:s,className:Ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(CO,{children:f.jsx(dn,{className:"h-4 w-4"})})}),e]}));IV.displayName=EO.displayName;const _V=S.forwardRef(({className:n,children:e,...t},r)=>f.jsxs(AO,{ref:r,className:Ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(CO,{children:f.jsx(f6,{className:"h-2 w-2 fill-current"})})}),e]}));_V.displayName=AO.displayName;const kO=S.forwardRef(({className:n,inset:e,...t},r)=>f.jsx(bO,{ref:r,className:Ce("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));kO.displayName=bO.displayName;const iS=S.forwardRef(({className:n,...e},t)=>f.jsx(TO,{ref:t,className:Ce("-mx-1 my-1 h-px bg-muted",n),...e}));iS.displayName=TO.displayName;function MV(){const{user:n,logout:e}=ni();return f.jsxs(RV,{children:[f.jsx(NV,{asChild:!0,children:f.jsxs(me,{variant:"outline",className:"border-purple-300 text-purple-600 hover:bg-purple-50 font-medium",children:[f.jsx("span",{className:"hidden md:block mr-2",children:(n==null?void 0:n.name)||(n==null?void 0:n.email.split("@")[0])}),f.jsx("div",{className:"size-7 rounded-full bg-purple-100 flex items-center justify-center text-purple-600",children:f.jsx(S6,{className:"size-4"})})]})}),f.jsxs(PO,{align:"end",className:"w-56",children:[f.jsxs(kO,{children:[f.jsx("div",{className:"font-medium",children:(n==null?void 0:n.name)||"My Account"}),f.jsx("div",{className:"text-xs text-muted-foreground truncate",children:n==null?void 0:n.email})]}),f.jsx(iS,{}),f.jsx(sS,{asChild:!0,children:f.jsx(Lx,{to:"/sessions",className:"cursor-pointer",children:"My Study Sessions"})}),f.jsx(iS,{}),f.jsxs(sS,{className:"text-red-600 focus:text-red-600 cursor-pointer",onClick:e,children:[f.jsx(y6,{className:"mr-2 size-4"}),"Logout"]})]})]})}function lo(){const n=S.useRef(null);return S.useEffect(()=>{const e=n.current;if(!e)return;e.classList.add("opacity-0");const t=new IntersectionObserver(([r])=>{r.isIntersecting&&(e.classList.remove("opacity-0"),e.classList.add("animate-fade-in"),t.unobserve(e))},{threshold:.1});return t.observe(e),()=>t.disconnect()},[]),n}const Qd=()=>{const{isAuthenticated:n}=ni(),e=lo();return f.jsx("header",{ref:e,className:"bg-white py-5 border-b border-gray-100 sticky top-0 z-50 shadow-sm backdrop-blur-lg bg-white/90",children:f.jsx("div",{className:"container mx-auto px-4 md:px-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"flex items-center",children:f.jsxs(Lx,{to:"/",className:"text-2xl font-bold flex items-center",children:[f.jsx("div",{className:"w-9 h-9 mr-2 gradient-bg rounded-md flex items-center justify-center",children:f.jsxs("svg",{className:"w-5 h-5 text-white",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",fill:"currentColor"}),f.jsx("path",{d:"M2 17L12 22L22 17V7L12 12L2 7V17Z",fill:"currentColor",fillOpacity:"0.8"})]})}),f.jsx("span",{className:"font-extrabold tracking-tighter",children:"Qzzly"})]})}),f.jsxs("nav",{className:"hidden md:flex items-center space-x-10",children:[f.jsx("a",{href:"/#features",className:"text-gray-600 hover:text-purple-600 transition font-medium text-sm",children:"Features"}),f.jsx("a",{href:"/#how-it-works",className:"text-gray-600 hover:text-purple-600 transition font-medium text-sm",children:"How it Works"}),f.jsx("a",{href:"/#pricing",className:"text-gray-600 hover:text-purple-600 transition font-medium text-sm",children:"Pricing"}),f.jsx(Lx,{to:"/sessions",className:"text-gray-600 hover:text-purple-600 transition font-medium text-sm",children:"My Sessions"})]}),f.jsx("div",{className:"flex items-center space-x-4",children:n?f.jsx(MV,{}):f.jsxs(f.Fragment,{children:[f.jsx(i7,{children:f.jsx(me,{variant:"outline",className:"hidden md:flex border-purple-300 text-purple-600 hover:bg-purple-50 font-medium",children:"Log in"})}),f.jsx(vC,{children:f.jsx(me,{className:"gradient-bg font-medium shadow-md shadow-purple-200",children:"Sign up"})})]})})]})})})};async function OV(){return[]}async function IO(n){return{id:Date.now().toString(),name:n,createdAt:new Date().toISOString()}}async function jV(n){}async function DV(n){return[]}async function fd(n,e){}async function LV(n,e){}async function BN(n,e){}async function zN(n,e){}async function FV(n,e){}async function $V(n,e){}async function _O(n){return null}const BV=()=>{const[n,e]=S.useState(!1),[t,r]=S.useState(!1),s=S.useRef(null),i=rd(),{toast:a}=ys(),{isAuthenticated:o}=ni(),l=async p=>{if(!o){a({title:"Authentication required",description:"Please sign up or log in to upload files"});return}if(!(!p||p.length===0)){r(!0);try{const m=p[0];if(m.type!=="application/pdf"){a({title:"Unsupported file format",description:"Please upload PDF files only",variant:"destructive"});return}const v=Array.from(p).map((y,x)=>({id:`file_${Date.now()}_${x}`,name:y.name,url:URL.createObjectURL(y),type:y.type,uploadedAt:new Date().toISOString()})),g=await IO({title:m.name.replace(/\.pdf$/,""),description:`Created from homepage upload (${p.length} file${p.length>1?"s":""})`,files:v});a({title:"Files uploaded successfully",description:`Created new study session with ${p.length} file${p.length>1?"s":""}`}),i(`/session/${g.id}`)}catch{a({title:"Upload failed",description:"There was an error uploading your files",variant:"destructive"})}finally{r(!1)}}},c=p=>{p.preventDefault(),e(!1),p.dataTransfer.files&&p.dataTransfer.files.length>0&&l(p.dataTransfer.files)},d=()=>{var p;(p=s.current)==null||p.click()},h=()=>{o?i("/sessions"):a({title:"Authentication required",description:"Please sign up to get started"})};return f.jsx("section",{className:"py-20 md:py-28 container mx-auto px-4 md:px-6",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-12",children:[f.jsxs("div",{className:"md:w-1/2 mb-10 md:mb-0",children:[f.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-extrabold mb-8 leading-tight animate-fade-in",children:["Transform Your ",f.jsx("span",{className:"gradient-text",children:"Study Material"})," Into Interactive Quizzes"]}),f.jsx("p",{className:"text-xl text-gray-600 mb-10 leading-relaxed animate-fade-in max-w-lg",style:{animationDelay:"0.2s"},children:"Upload your PDFs and let our AI generate personalized quizzes, flashcards, and mock tests to accelerate your learning journey."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 animate-fade-in",style:{animationDelay:"0.4s"},children:[o?f.jsx(me,{className:"gradient-bg text-white px-8 py-7 rounded-lg text-lg font-medium shadow-lg shadow-purple-200",onClick:h,children:"Go to Study Sessions"}):f.jsx(vC,{children:f.jsx(me,{className:"gradient-bg text-white px-8 py-7 rounded-lg text-lg font-medium shadow-lg shadow-purple-200",children:"Get Started Free"})}),f.jsxs(me,{variant:"outline",className:"bg-white border border-gray-300 px-8 py-7 rounded-lg text-lg font-medium hover:bg-gray-50 transition-colors",children:[f.jsx(yI,{className:"w-5 h-5 mr-2"})," Watch Demo"]})]})]}),f.jsx("div",{className:"md:w-1/2 animate-fade-in animate-float",style:{animationDelay:"0.6s"},children:f.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl",children:[f.jsx("h3",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Try it now"}),f.jsxs("div",{id:"upload-container",className:`upload-area rounded-xl p-10 text-center cursor-pointer mb-6 border-2 border-dashed border-gray-300 ${n?"border-purple-500 bg-purple-50":""}`,onDragOver:p=>{p.preventDefault(),e(!0)},onDragLeave:()=>e(!1),onDrop:c,onClick:d,children:[t?f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-purple-500 mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Uploading your files..."})]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{className:"w-16 h-16 mx-auto text-purple-500 mb-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),f.jsx("p",{className:"text-gray-600 mb-3 text-lg",children:"Drag & drop your PDF files here"}),f.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"or"}),f.jsx(me,{variant:"outline",className:"px-6 py-3 text-sm text-purple-600 border border-purple-300 rounded-lg hover:bg-purple-50 font-medium",onClick:d,children:"Browse files"})]}),f.jsx("input",{type:"file",ref:s,className:"hidden",accept:".pdf",multiple:!0,onChange:p=>{p.target.files&&p.target.files.length>0&&l(p.target.files)}})]}),f.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Supported formats: PDF (Max size: 25MB per file)"})]})})]})})},zV=()=>{const n=lo();return f.jsx("section",{ref:n,id:"features",className:"py-20 bg-white",children:f.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("span",{className:"text-purple-600 font-semibold text-sm uppercase tracking-wider mb-2 block",children:"Features"}),f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 tracking-tight",children:"Supercharge Your Learning"}),f.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Our AI analyzes your study materials and creates personalized learning resources to help you master any subject."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10 max-w-6xl mx-auto",children:[f.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md card-hover",children:[f.jsx("div",{className:"feature-icon",children:f.jsx(m6,{className:"w-6 h-6"})}),f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Smart Quizzes"}),f.jsx("p",{className:"text-gray-600 leading-relaxed",children:"AI-generated quizzes that adapt to your knowledge gaps and learning style for maximum retention."})]}),f.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md card-hover",children:[f.jsx("div",{className:"feature-icon",children:f.jsx(Nx,{className:"w-6 h-6"})}),f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Interactive Flashcards"}),f.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Turn complex concepts into easy-to-review flashcards with spaced repetition for better memorization."})]}),f.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md card-hover",children:[f.jsx("div",{className:"feature-icon",children:f.jsx(h6,{className:"w-6 h-6"})}),f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Mock Tests"}),f.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Simulate real exam conditions with comprehensive mock tests that prepare you for the real thing."})]})]})]})})},UV=()=>{const n=lo();return f.jsx("section",{ref:n,id:"how-it-works",className:"py-24 bg-gray-50",children:f.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[f.jsxs("div",{className:"text-center mb-20",children:[f.jsx("span",{className:"text-purple-600 font-semibold text-sm uppercase tracking-wider mb-2 block",children:"Process"}),f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 tracking-tight",children:"How Qzzly Works"}),f.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Three simple steps to transform your study materials into effective learning tools."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 max-w-6xl mx-auto relative",children:[f.jsx("div",{className:"hidden md:block absolute top-24 left-1/4 right-1/4 h-0.5 bg-gradient-to-r from-purple-600 to-indigo-600"}),f.jsxs("div",{className:"text-center relative animate-fade-in",style:{animationDelay:"0.2s"},children:[f.jsx("div",{className:"w-20 h-20 gradient-bg rounded-full flex items-center justify-center text-white text-2xl font-bold mx-auto mb-8 shadow-lg shadow-purple-200",children:"1"}),f.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Upload Your PDFs"}),f.jsx("p",{className:"text-gray-600 leading-relaxed mx-auto max-w-xs",children:"Simply drag and drop your study materials, lecture notes, or textbook PDFs."})]}),f.jsxs("div",{className:"text-center relative animate-fade-in",style:{animationDelay:"0.4s"},children:[f.jsx("div",{className:"w-20 h-20 gradient-bg rounded-full flex items-center justify-center text-white text-2xl font-bold mx-auto mb-8 shadow-lg shadow-purple-200",children:"2"}),f.jsx("h3",{className:"text-2xl font-bold mb-4",children:"AI Analysis"}),f.jsx("p",{className:"text-gray-600 leading-relaxed mx-auto max-w-xs",children:"Our advanced AI reads and understands your content, identifying key concepts and knowledge points."})]}),f.jsxs("div",{className:"text-center relative animate-fade-in",style:{animationDelay:"0.6s"},children:[f.jsx("div",{className:"w-20 h-20 gradient-bg rounded-full flex items-center justify-center text-white text-2xl font-bold mx-auto mb-8 shadow-lg shadow-purple-200",children:"3"}),f.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Study Smarter"}),f.jsx("p",{className:"text-gray-600 leading-relaxed mx-auto max-w-xs",children:"Access your personalized quizzes, flashcards, and mock tests anytime, anywhere."})]})]})]})})},VV=()=>{const n=lo();return f.jsx("section",{ref:n,className:"py-24 bg-white",children:f.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("span",{className:"text-purple-600 font-semibold text-sm uppercase tracking-wider mb-2 block",children:"Testimonials"}),f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 tracking-tight",children:"What Our Users Say"}),f.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Join thousands of students who have transformed their study habits with Qzzly."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[f.jsxs("div",{className:"testimonial-card",children:[f.jsxs("div",{className:"flex items-center mb-6",children:[f.jsx("div",{className:"w-14 h-14 bg-purple-100 rounded-full flex items-center justify-center mr-4",children:f.jsx("span",{className:"text-purple-600 font-bold text-lg",children:"JD"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-lg",children:"Jamie Davis"}),f.jsx("p",{className:"text-gray-500 text-sm",children:"Medical Student"})]})]}),f.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:'"Qzzly helped me prepare for my anatomy exams in half the time. The AI-generated questions were spot-on and covered exactly what I needed to know."'}),f.jsx("div",{className:"mt-4 flex text-yellow-400",children:[1,2,3,4,5].map(e=>f.jsx(rb,{className:"w-5 h-5 fill-current"},e))})]}),f.jsxs("div",{className:"testimonial-card",children:[f.jsxs("div",{className:"flex items-center mb-6",children:[f.jsx("div",{className:"w-14 h-14 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:f.jsx("span",{className:"text-blue-600 font-bold text-lg",children:"MK"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-lg",children:"Michael Kim"}),f.jsx("p",{className:"text-gray-500 text-sm",children:"Law Student"})]})]}),f.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:'"The flashcards generated from my case law notes were incredibly helpful. I could study on the go and the spaced repetition system helped me memorize key precedents."'}),f.jsx("div",{className:"mt-4 flex text-yellow-400",children:[1,2,3,4,5].map(e=>f.jsx(rb,{className:"w-5 h-5 fill-current"},e))})]}),f.jsxs("div",{className:"testimonial-card",children:[f.jsxs("div",{className:"flex items-center mb-6",children:[f.jsx("div",{className:"w-14 h-14 bg-green-100 rounded-full flex items-center justify-center mr-4",children:f.jsx("span",{className:"text-green-600 font-bold text-lg",children:"SP"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-lg",children:"Sarah Patel"}),f.jsx("p",{className:"text-gray-500 text-sm",children:"Computer Science Major"})]})]}),f.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:'"The mock tests generated from my programming textbooks were challenging and comprehensive. I aced my final exams thanks to Qzzly!"'}),f.jsx("div",{className:"mt-4 flex text-yellow-400",children:[1,2,3,4,5].map(e=>f.jsx(rb,{className:"w-5 h-5 fill-current"},e))})]})]})]})})},HV=()=>{const n=lo(),{user:e,updateSubscription:t}=ni(),[r,s]=S.useState(!1),[i,a]=S.useState(""),[o,l]=S.useState(!1),{toast:c}=ys(),d=async(h=!1)=>{if(!e){c({title:"Authentication Required",description:"Please log in to upgrade your subscription.",variant:"destructive"});return}l(!0);try{await t("pro",h?i:void 0)?(c({title:"Upgrade Successful!",description:h?"Your pro subscription has been activated with the promo code!":"Your pro subscription has been activated!"}),s(!1),a("")):c({title:"Upgrade Failed",description:"Please try again or contact support.",variant:"destructive"})}catch{c({title:"Error",description:"An error occurred while upgrading. Please try again.",variant:"destructive"})}finally{l(!1)}};return f.jsx("section",{ref:n,id:"pricing",className:"py-24 bg-gray-50",children:f.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("span",{className:"text-purple-600 font-semibold text-sm uppercase tracking-wider mb-2 block",children:"Pricing"}),f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 tracking-tight",children:"Simple, Transparent Pricing"}),f.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Choose the plan that works best for your study needs."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[f.jsxs("div",{className:"bg-white p-10 rounded-2xl shadow-md relative transition-all duration-300 hover:shadow-xl",children:[f.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Free"}),f.jsx("p",{className:"text-gray-500 mb-6",children:"Perfect for getting started"}),f.jsxs("div",{className:"text-4xl font-bold mb-6",children:["$0",f.jsx("span",{className:"text-lg text-gray-500 font-normal",children:"/month"})]}),f.jsxs("ul",{className:"mb-10 space-y-4",children:[f.jsxs("li",{className:"flex items-center",children:[f.jsx(dn,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),f.jsx("span",{className:"text-gray-600",children:"3 study sessions"})]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(dn,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),f.jsx("span",{className:"text-gray-600",children:"PDF uploads"})]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(dn,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),f.jsx("span",{className:"text-gray-600",children:"Basic AI features"})]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(dn,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),f.jsx("span",{className:"text-gray-600",children:"Flashcards & quizzes"})]})]}),f.jsx(me,{variant:"outline",className:"w-full py-6 border-2 border-purple-600 text-purple-600 hover:bg-purple-50 font-medium text-lg",onClick:()=>window.location.href="/sessions",children:e?"Current Plan":"Get Started"})]}),f.jsxs("div",{className:"bg-white p-10 rounded-2xl shadow-xl transform md:scale-105 border-2 border-purple-500 relative",children:[f.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-6 py-1.5 rounded-full text-sm font-bold",children:"Most Popular"}),f.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Pro"}),f.jsx("p",{className:"text-gray-500 mb-6",children:"For serious learners"}),f.jsxs("div",{className:"text-4xl font-bold mb-6",children:["$9.99",f.jsx("span",{className:"text-lg text-gray-500 font-normal",children:"/month"})]}),f.jsxs("ul",{className:"mb-10 space-y-4",children:[f.jsxs("li",{className:"flex items-center",children:[f.jsx(dn,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),f.jsx("span",{className:"text-gray-600",children:"Unlimited study sessions"})]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(dn,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),f.jsx("span",{className:"text-gray-600",children:"Advanced AI features"})]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(dn,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),f.jsx("span",{className:"text-gray-600",children:"Priority support"})]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(dn,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),f.jsx("span",{className:"text-gray-600",children:"Export capabilities"})]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(dn,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),f.jsx("span",{className:"text-gray-600",children:"Custom study plans"})]})]}),f.jsx(me,{className:"w-full py-6 gradient-bg text-white text-lg font-medium shadow-lg shadow-purple-200",onClick:()=>s(!0),disabled:(e==null?void 0:e.subscription.plan)==="pro",children:(e==null?void 0:e.subscription.plan)==="pro"?"Current Plan":"Upgrade to Pro"})]})]}),f.jsx(jl,{open:r,onOpenChange:s,children:f.jsxs(Ka,{className:"sm:max-w-md",children:[f.jsx(Ya,{children:f.jsx(Xa,{children:"Upgrade to Pro"})}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx(He,{htmlFor:"promo-code",children:"Promo Code"}),f.jsx(hs,{id:"promo-code",placeholder:"Enter promo code",value:i,onChange:h=>a(h.target.value)})]}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx(me,{onClick:()=>d(!1),disabled:o,className:"flex-1",children:o?"Processing...":"Pay $9.99/month"}),i&&f.jsx(me,{onClick:()=>d(!0),disabled:o,variant:"outline",className:"flex-1",children:o?"Processing...":"Use Promo Code"})]}),f.jsx("p",{className:"text-xs text-gray-500 text-center",children:"By upgrading, you agree to our terms of service and privacy policy."})]})]})})]})})},WV=()=>{const{isAuthenticated:n}=ni(),e=lo();return f.jsx("section",{ref:e,className:"py-24 bg-white",children:f.jsx("div",{className:"container mx-auto px-4 md:px-6",children:f.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-3xl p-10 md:p-16 shadow-2xl overflow-hidden relative",children:[f.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full -mr-20 -mt-20"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-72 h-72 bg-purple-500/10 rounded-full -ml-20 -mb-20"}),f.jsxs("div",{className:"max-w-3xl mx-auto text-center relative",children:[f.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold text-white mb-8 leading-tight",children:"Ready to Transform Your Study Habits?"}),f.jsx("p",{className:"text-xl text-purple-100 mb-10 leading-relaxed",children:"Join thousands of students who are studying smarter, not harder. Try Qzzly today and see the difference."}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-5",children:[n?f.jsx(me,{size:"lg",className:"bg-white text-purple-600 hover:bg-purple-50 px-10 py-7 text-lg font-bold rounded-xl",asChild:!0,children:f.jsx(Lx,{to:"/sessions",children:"Go to Study Sessions"})}):f.jsx(vC,{redirectPath:"/sessions",children:f.jsx(me,{size:"lg",className:"bg-white text-purple-600 hover:bg-purple-50 px-10 py-7 text-lg font-bold rounded-xl",children:"Get Started Free"})}),f.jsxs(me,{size:"lg",variant:"outline",className:"bg-transparent text-white border-2 border-white px-10 py-7 hover:bg-white/10 text-lg font-bold rounded-xl",children:[f.jsx(yI,{className:"w-5 h-5 mr-2"})," Watch Demo"]})]})]})]})})})},MO=()=>{const n=lo();return f.jsx("footer",{ref:n,className:"bg-gray-900 text-white pt-20 pb-10",children:f.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-16",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center mb-6",children:[f.jsx("div",{className:"w-10 h-10 gradient-bg rounded-lg flex items-center justify-center mr-3",children:f.jsxs("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",fill:"white"}),f.jsx("path",{d:"M2 17L12 22L22 17V7L12 12L2 7V17Z",fill:"white",fillOpacity:"0.8"})]})}),f.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Qzzly"})]}),f.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"AI-powered study tools to help you learn faster and remember more."}),f.jsxs("div",{className:"flex space-x-5",children:[f.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:f.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),f.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:f.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),f.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:f.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold mb-5",children:"Product"}),f.jsxs("ul",{className:"space-y-3",children:[f.jsx("li",{children:f.jsx("a",{href:"#features",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Features"})}),f.jsx("li",{children:f.jsx("a",{href:"#pricing",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Pricing"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Testimonials"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"FAQ"})})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold mb-5",children:"Resources"}),f.jsxs("ul",{className:"space-y-3",children:[f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Blog"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Help Center"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Tutorials"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Contact"})})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold mb-5",children:"Company"}),f.jsxs("ul",{className:"space-y-3",children:[f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"About Us"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Careers"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Privacy Policy"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Terms of Service"})})]})]})]}),f.jsx("div",{className:"border-t border-gray-800 mt-16 pt-8 text-center text-gray-400",children:f.jsxs("p",{children:[" ",new Date().getFullYear()," Qzzly. All rights reserved."]})})]})})},GV=()=>f.jsxs("div",{className:"flex flex-col min-h-screen",children:[f.jsx(Qd,{}),f.jsxs("main",{className:"flex-grow",children:[f.jsx(BV,{}),f.jsx(zV,{}),f.jsx(UV,{}),f.jsx(VV,{}),f.jsx(HV,{}),f.jsx(WV,{})]}),f.jsx(MO,{})]}),KV=()=>{const n=Uf();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),f.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100",children:[f.jsx(Qd,{}),f.jsx("main",{className:"flex flex-1 flex-col items-center justify-center py-16",children:f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsxs("svg",{width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mb-6 animate-float",children:[f.jsx("ellipse",{cx:"60",cy:"60",rx:"55",ry:"55",fill:"#ede9fe"}),f.jsx("ellipse",{cx:"60",cy:"60",rx:"40",ry:"40",fill:"#a5b4fc"}),f.jsx("path",{d:"M60 80c-10 0-18-8-18-18s8-18 18-18 18 8 18 18-8 18-18 18zm0-8a10 10 0 100-20 10 10 0 000 20z",fill:"#7c3aed"}),f.jsx("circle",{cx:"50",cy:"55",r:"3",fill:"#fff"}),f.jsx("circle",{cx:"70",cy:"55",r:"3",fill:"#fff"}),f.jsx("ellipse",{cx:"60",cy:"70",rx:"6",ry:"3",fill:"#fff"})]}),f.jsx("h1",{className:"text-5xl font-extrabold text-purple-700 mb-2",children:"404"}),f.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Sorry, we couldn't find that page."}),f.jsx(me,{className:"gradient-bg px-8 py-3 text-lg font-semibold shadow-md",asChild:!0,children:f.jsx("a",{href:"/sessions",children:"Go to My Sessions"})}),f.jsx(me,{variant:"ghost",className:"mt-2 text-purple-600 hover:underline",asChild:!0,children:f.jsx("a",{href:"/",children:"Back to Home"})})]})}),f.jsx(MO,{})]})},Mi=S.forwardRef(({className:n,...e},t)=>f.jsx("div",{ref:t,className:Ce("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));Mi.displayName="Card";const $a=S.forwardRef(({className:n,...e},t)=>f.jsx("div",{ref:t,className:Ce("flex flex-col space-y-1.5 p-6",n),...e}));$a.displayName="CardHeader";const Co=S.forwardRef(({className:n,...e},t)=>f.jsx("h3",{ref:t,className:Ce("text-2xl font-semibold leading-none tracking-tight",n),...e}));Co.displayName="CardTitle";const YV=S.forwardRef(({className:n,...e},t)=>f.jsx("p",{ref:t,className:Ce("text-sm text-muted-foreground",n),...e}));YV.displayName="CardDescription";const Ba=S.forwardRef(({className:n,...e},t)=>f.jsx("div",{ref:t,className:Ce("p-6 pt-0",n),...e}));Ba.displayName="CardContent";const Qx=S.forwardRef(({className:n,...e},t)=>f.jsx("div",{ref:t,className:Ce("flex items-center p-6 pt-0",n),...e}));Qx.displayName="CardFooter";const vc=S.forwardRef(({className:n,...e},t)=>f.jsx("textarea",{className:Ce("flex min-h-20 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));vc.displayName="Textarea";const OO=({isOpen:n,onClose:e,action:t,currentUsage:r,limit:s})=>{const{updateSubscription:i}=ni();if(!n)return null;const a=()=>{switch(t){case"session":return"create a new study session";case"file":return"upload another file";case"chat":return"use chat mode";default:return"perform this action"}},o=()=>{switch(t){case"session":return"1 session per month";case"file":return"1 file per session";case"chat":return"chat mode not available";default:return"limited"}},l=async()=>{try{await i("pro")&&e()}catch(c){console.error("Upgrade failed:",c)}};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsx("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Free Plan Limit Reached"}),f.jsxs("p",{className:"text-gray-600 mb-4",children:["You've reached your free plan limit and cannot ",a(),"."]})]}),f.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("span",{className:"text-sm text-gray-600",children:"Current Usage:"}),f.jsxs("span",{className:"text-sm font-medium",children:[r," / ",s]})]}),f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:f.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${Math.min(r/s*100,100)}%`}})}),f.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Free plan: ",o()]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[f.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Upgrade to Pro"}),f.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[f.jsx("li",{children:" Unlimited study sessions"}),f.jsx("li",{children:" Unlimited file uploads"}),f.jsx("li",{children:" Full chat mode access"}),f.jsx("li",{children:" File deletion and management"}),f.jsx("li",{children:" Priority support"})]})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-2",children:"$9.99/month"}),f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Cancel anytime"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("button",{onClick:l,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Upgrade Now"}),f.jsx("button",{onClick:e,className:"w-full text-gray-600 py-2 px-6 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"Maybe Later"})]})]})]})})})};function XV(){var k;const{user:n,checkUsageLimit:e,incrementUsage:t}=ni(),r=JA(),{data:s=[],isLoading:i}=y_({queryKey:["sessions"],queryFn:OV}),[a,o]=S.useState(""),[l,c]=S.useState(""),[d,h]=S.useState(!1),[p,m]=S.useState(!1),[v,g]=S.useState("session"),y=rd(),{toast:x}=ys(),w=GR({mutationFn:I=>IO(I),onSuccess:async I=>{(n==null?void 0:n.subscription.plan)==="free"&&await t("session"),r.invalidateQueries({queryKey:["sessions"]}),r.setQueryData(["sessions"],(_=[])=>[..._,I]),o(""),c(""),h(!1),x({title:"Success",description:`"${I.title}" has been created successfully.`}),setTimeout(()=>{y(`/session/${I.id}`)},100)},onError:()=>{x({title:"Error",description:"Failed to create session",variant:"destructive"})}}),b=()=>{if(!a.trim()){x({title:"Error",description:"Session title is required",variant:"destructive"});return}if(!e("session")){g("session"),m(!0);return}w.mutate({title:a,description:l})},E=GR({mutationFn:I=>jV(),onSuccess:(I,_)=>{r.setQueryData(["sessions"],(O=[])=>O.filter(M=>M.id!==_)),x({title:"Success",description:"Session has been deleted successfully."})},onError:()=>{x({title:"Error",description:"Failed to delete session",variant:"destructive"})}}),C=(I,_)=>{_.stopPropagation(),E.mutate(I)},R=I=>{const _=new Date(I);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(_)},P=lo();return f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx(Qd,{}),f.jsxs("main",{ref:P,className:"container mx-auto px-4 py-8",children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Your Study Sessions"}),f.jsxs(jl,{open:d,onOpenChange:h,children:[f.jsx(Pf,{asChild:!0,children:f.jsx(me,{className:"gradient-bg",children:"Create New Session"})}),f.jsxs(Ka,{children:[f.jsxs(Ya,{children:[f.jsx(Xa,{children:"Create New Study Session"}),f.jsx(aw,{children:"Create a new study session to organize your learning materials."})]}),f.jsxs("div",{className:"space-y-4 py-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(He,{htmlFor:"title",children:"Session Title"}),f.jsx(hs,{id:"title",placeholder:"Enter a title for your study session",value:a,onChange:I=>o(I.target.value)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(He,{htmlFor:"description",children:"Description (Optional)"}),f.jsx(vc,{id:"description",placeholder:"Describe what you'll be studying",value:l,onChange:I=>c(I.target.value)})]})]}),f.jsxs(Xd,{children:[f.jsx(me,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),f.jsx(me,{className:"gradient-bg",onClick:b,children:"Create Session"})]})]})]})]}),i?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(I=>f.jsxs(Mi,{className:"border shadow-sm animate-pulse",children:[f.jsx($a,{className:"bg-gray-100 h-16"}),f.jsxs(Ba,{className:"pt-4",children:[f.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),f.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]}),f.jsx(Qx,{className:"h-10 bg-gray-50"})]},I))}):s.length>0?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(I=>{var _,O,M;return f.jsxs(Mi,{className:"border shadow-md hover:shadow-lg transition-shadow cursor-pointer card-hover",onClick:()=>y(`/session/${I.id}`),children:[f.jsx($a,{className:"pb-2",children:f.jsxs(Co,{className:"flex justify-between items-start",children:[f.jsx("span",{className:"text-xl",children:I.title}),f.jsx(me,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-500 hover:text-red-500 hover:bg-red-50",onClick:z=>C(I.id,z),children:f.jsx(b6,{className:"h-4 w-4"})})]})}),f.jsxs(Ba,{className:"pb-2",children:[f.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-4",children:I.description||"No description"}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(c6,{className:"h-3.5 w-3.5"}),f.jsxs("span",{children:["Created: ",R(I.createdat)]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(p6,{className:"h-3.5 w-3.5"}),f.jsxs("span",{children:["Updated: ",R(I.updatedat)]})]})]})]}),f.jsx(Qx,{className:"pt-3 border-t flex justify-between",children:f.jsxs("div",{className:"flex gap-2 text-sm",children:[f.jsxs("span",{className:"text-purple-600",children:[((_=I.files)==null?void 0:_.length)||0," Files"]}),f.jsxs("span",{className:"text-purple-600",children:[((O=I.flashcards)==null?void 0:O.length)||0," Flashcards"]}),f.jsxs("span",{className:"text-purple-600",children:[((M=I.quizzes)==null?void 0:M.length)||0," Quizzes"]})]})})]},I.id)})}):f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"w-16 h-16 gradient-bg rounded-full mx-auto mb-4 flex items-center justify-center",children:f.jsxs("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",fill:"currentColor"}),f.jsx("path",{d:"M2 17L12 22L22 17V7L12 12L2 7V17Z",fill:"currentColor",fillOpacity:"0.8"})]})}),f.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"No Study Sessions Yet"}),f.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Create your first study session to upload PDFs and start generating flashcards, quizzes, and more."}),f.jsx(me,{className:"gradient-bg",onClick:()=>h(!0),children:"Create Your First Session"})]})]}),f.jsx(OO,{isOpen:p,onClose:()=>m(!1),action:v,currentUsage:((k=n==null?void 0:n.usage)==null?void 0:k.monthlySessions)||0,limit:1})]})}var dw="Tabs",[QV,IK]=rr(dw,[Hf]),jO=Hf(),[ZV,RC]=QV(dw),DO=S.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:o,activationMode:l="automatic",...c}=n,d=Vf(o),[h,p]=Ui({prop:r,onChange:s,defaultProp:i??"",caller:dw});return f.jsx(ZV,{scope:t,baseId:$i(),value:h,onValueChange:p,orientation:a,dir:d,activationMode:l,children:f.jsx(be.div,{dir:d,"data-orientation":a,...c,ref:e})})});DO.displayName=dw;var LO="TabsList",FO=S.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...s}=n,i=RC(LO,t),a=jO(t);return f.jsx(yC,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:f.jsx(be.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});FO.displayName=LO;var $O="TabsTrigger",BO=S.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:s=!1,...i}=n,a=RC($O,t),o=jO(t),l=VO(a.baseId,r),c=HO(a.baseId,r),d=r===a.value;return f.jsx(xC,{asChild:!0,...o,focusable:!s,active:d,children:f.jsx(be.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:re(n.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?a.onValueChange(r):h.preventDefault()}),onKeyDown:re(n.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(r)}),onFocus:re(n.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!s&&h&&a.onValueChange(r)})})})});BO.displayName=$O;var zO="TabsContent",UO=S.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:s,children:i,...a}=n,o=RC(zO,t),l=VO(o.baseId,r),c=HO(o.baseId,r),d=r===o.value,h=S.useRef(d);return S.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),f.jsx(Jr,{present:s||d,children:({present:p})=>f.jsx(be.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...a,ref:e,style:{...n.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});UO.displayName=zO;function VO(n,e){return`${n}-trigger-${e}`}function HO(n,e){return`${n}-content-${e}`}var JV=DO,WO=FO,GO=BO,KO=UO;const YO=JV,NC=S.forwardRef(({className:n,...e},t)=>f.jsx(WO,{ref:t,className:Ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...e}));NC.displayName=WO.displayName;const za=S.forwardRef(({className:n,...e},t)=>f.jsx(GO,{ref:t,className:Ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...e}));za.displayName=GO.displayName;const Ua=S.forwardRef(({className:n,...e},t)=>f.jsx(KO,{ref:t,className:Ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));Ua.displayName=KO.displayName;const qV=void 0,UN=1e3;let VN=0;const HN={"gpt-4":{maxTokens:8192,inputLimit:6e3},"gpt-4-turbo":{maxTokens:128e3,inputLimit:1e5},"gpt-3.5-turbo":{maxTokens:4096,inputLimit:3e3}},wb={};async function eH(){const e=Date.now()-VN;if(e<UN){const t=UN-e;console.log(`Rate limiting: waiting ${t}ms`),await new Promise(r=>setTimeout(r,t))}VN=Date.now()}function kf(n){return Math.ceil(n.length/4)}function yv(n,e){const t=e*4,r=[];if(n.length<=t)return[n];const s=n.split(`

`);let i="";for(const a of s)if((i+a).length<=t)i+=(i?`

`:"")+a;else if(i&&(r.push(i),i=""),a.length>t){const o=a.split(". ");for(const l of o)(i+l).length<=t?i+=(i?". ":"")+l:i?(r.push(i),i=l):r.push(l.substring(0,t))}else i=a;return i&&r.push(i),r}function XO(n){return wb[n]||(wb[n]={files:[],history:[],lastUpdated:Date.now()}),wb[n]}function tH(n,e=2e3){const t=XO(n);if(t.files.length===0)return"";const r=t.files.map(i=>i.content?`

--- Content from ${i.name} ---
${i.content}
--- End of ${i.name} ---`:`

--- File: ${i.name} (${i.type}) - Content not available ---`).join(`
`),s=kf(r);if(s>e){const i=yv(r,e),a=`

[Note: File content is large (${s} tokens). Showing first section. Total ${t.files.length} files available.]`;return i[0]+a}return r}async function PC(n,e={}){var t,r,s,i,a,o;console.log("Prompt to OpenAI:",n.substring(0,200)+"...");try{await eH();const l=e.model||"gpt-4",c=HN[l]||HN["gpt-4"];let d,h="";e.sessionId&&(d=XO(e.sessionId),h=tH(e.sessionId,c.inputLimit/2));const p=[];if(h?p.push({role:"system",content:`You are a helpful study assistant. You have access to the following uploaded files and their content:${h}

Use this content to provide accurate, relevant responses based on the actual material provided.`}):p.push({role:"system",content:"You are a helpful study assistant. Provide clear, educational responses to help users learn."}),d&&d.history.length>0){const w=d.history.slice(-5);p.push(...w.map(b=>({role:b.role,content:b.content})))}const m=c.inputLimit-kf(JSON.stringify(p));let v=n;kf(n)>m&&(v=yv(n,m)[0]+`

[Note: Prompt was truncated due to length]`),p.push({role:"user",content:v});const g=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${qV}`},body:JSON.stringify({model:l,messages:p,temperature:e.temperature||.7,max_tokens:Math.min(e.maxTokens||2048,c.maxTokens)})});if(!g.ok){const w=await g.text();let b;try{b=JSON.parse(w)}catch{b={error:{message:w}}}if(console.error("OpenAI API error:",b),console.error("Response status:",g.status),g.status===401)throw new Error("Authentication failed: API key may be invalid or expired");if(g.status===429){const E=((t=b.error)==null?void 0:t.message)||"Rate limit exceeded";throw E.includes("tokens per min")?new Error("Rate limit exceeded. Please wait a moment and try again with shorter content."):E.includes("quota")?new Error("API quota exceeded. Please check your OpenAI billing and usage limits."):new Error("Rate limit exceeded. Please try again in a moment.")}else if(g.status===400&&((s=(r=b.error)==null?void 0:r.message)!=null&&s.includes("maximum context length")))throw new Error("Content too long. Please try with shorter text or fewer files.");throw new Error(`API Error: ${((i=b.error)==null?void 0:i.message)||g.statusText||"Unknown error"}`)}const y=await g.json();if(!y.choices||!((o=(a=y.choices[0])==null?void 0:a.message)!=null&&o.content))throw new Error("Invalid response format from OpenAI API");const x=y.choices[0].message.content;return d&&(d.history.push({role:"user",content:v}),d.history.push({role:"assistant",content:x}),d.history.length>10&&(d.history=d.history.slice(-10)),d.lastUpdated=Date.now()),x}catch(l){throw console.error("Error calling OpenAI API:",l),l}}async function nH(n,e=5,t="medium",r,s){try{let i="";switch(t.toLowerCase()){case"easy":case"simple":i="Create simple, basic flashcards suitable for beginners. Use clear, straightforward language.";break;case"hard":case"advanced":i="Create advanced, challenging flashcards that test deep understanding and complex concepts.";break;default:i="Create intermediate-level flashcards that balance clarity with depth."}const a=2e3;let o=n;kf(n)>a&&(o=yv(n,a)[0]+`

[Note: Content was truncated due to length]`);const l=`${i}

Generate exactly ${e} high-quality educational flashcards about: ${o}

Requirements:
- Each flashcard should have a clear, concise question on the front that tests understanding
- The back should contain a comprehensive but focused answer that explains the concept
- Questions should test understanding, not just memorization - include application, analysis, and synthesis
- Vary the types of questions: definitions, explanations, applications, comparisons, problem-solving, and critical thinking
- Make sure answers are accurate, educational, and provide learning value
- Use clear, accessible language appropriate for the complexity level
- Ensure questions are specific and unambiguous
- Include real-world examples or applications when relevant

Question Types to Include:
- Conceptual understanding questions
- Application-based questions
- Comparison and contrast questions
- Problem-solving scenarios
- Critical thinking questions

Return the response as a JSON array with this exact format:
[
  {
    "front": "Question text here",
    "back": "Answer text here"
  }
]

Only return the JSON array, no additional text.`,c=await PC(l,{sessionId:s,temperature:.8,maxTokens:1200,model:"gpt-4"});let d;try{const p=c.match(/\[[\s\S]*\]/);if(p)d=JSON.parse(p[0]);else throw new Error("No JSON array found in response")}catch(p){console.error("Failed to parse flashcards JSON:",p),console.error("Raw response:",c);const m=c.split(`
`).filter(v=>v.trim());d=[];for(let v=0;v<Math.min(e,3);v++)d.push({front:`Question ${v+1} about ${n.substring(0,50)}...`,back:m[v]||"Study this topic further for better understanding."})}const h=d.slice(0,e).map(p=>({front:p.front||p.question||"Study question",back:p.back||p.answer||"Study this topic further",mastered:!1}));for(;h.length<e;)h.push({front:`Additional question about ${n.substring(0,30)}...`,back:"Continue studying this topic for better understanding.",mastered:!1});return h}catch(i){throw console.error("Error generating flashcards:",i),i}}async function rH(n,e=5,t="medium",r="",s=!0,i=["multiple-choice"],a,o){try{let l="";switch(t.toLowerCase()){case"easy":l="Create easy questions suitable for beginners. Focus on basic concepts and definitions.";break;case"hard":l="Create challenging questions that test deep understanding and critical thinking.";break;default:l="Create intermediate-level questions that test good understanding of the material."}const c=i.includes("multiple-choice")?"All questions should be multiple choice with 4 options each.":"Create a mix of question types as appropriate.",d=s?"Include detailed explanations for each correct answer.":"No explanations needed.",h=r?`about ${r}`:`about: ${n}`,p=2e3;let m=n;kf(n)>p&&(m=yv(n,p)[0]+`

[Note: Content was truncated due to length]`);const v=`${l}

Generate exactly ${e} high-quality quiz questions ${h}.
Material: ${m}

Requirements:
- ${c}
- ${d}
- Questions should be clear, unambiguous, and test genuine understanding
- Ensure only one correct answer per question
- Make incorrect options plausible but clearly distinguishable from the correct answer
- Test understanding, not just memorization - include application and critical thinking
- Use clear, accessible language appropriate for the difficulty level
- Include a mix of question types: factual recall, conceptual understanding, application, analysis, and synthesis
- Ensure questions are specific and avoid vague or overly broad questions
- Make explanations educational and helpful for learning

Question Quality Guidelines:
- Avoid "all of the above" or "none of the above" options
- Ensure distractors (wrong answers) are plausible but clearly incorrect
- Make questions specific rather than general
- Test higher-order thinking skills when appropriate
- Use real-world scenarios or examples when relevant

Return the response as a JSON object with this exact format:
{
  "title": "Quiz Title Here",
  "questions": [
    {
      "text": "Question text here?",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "correctAnswer": 0,
      "explanation": "Explanation of why this answer is correct"
    }
  ]
}

Only return the JSON object, no additional text.`,g=await PC(v,{sessionId:o,temperature:.7,maxTokens:1500,model:"gpt-4"});let y;try{const x=g.match(/\{[\s\S]*\}/);if(x)y=JSON.parse(x[0]);else throw new Error("No JSON object found in response")}catch(x){console.error("Failed to parse quiz JSON:",x),console.error("Raw response:",g),y={title:`Quiz about ${r||n.substring(0,30)}...`,questions:[{text:"What is the main topic of this study material?",options:[n.substring(0,20)+"...","Something else","Not sure","Unknown"],correctAnswer:0,explanation:"This question is based on the study material provided."}]}}for((!y.questions||!Array.isArray(y.questions))&&(y.questions=[]);y.questions.length<e;)y.questions.push({text:`Question ${y.questions.length+1} about ${r||n.substring(0,30)}...`,options:["Option A","Option B","Option C","Option D"],correctAnswer:0,explanation:"Study this topic further for better understanding."});return y.questions=y.questions.slice(0,e),y}catch(l){throw console.error("Error generating quiz:",l),l}}async function aS(n,e="medium",t,r){try{let s="";switch(e.toLowerCase()){case"simple":s="Provide a clear, simple explanation suitable for beginners.";break;case"advanced":s="Provide a detailed, comprehensive analysis with advanced insights.";break;default:s="Provide a thorough explanation with good detail and examples."}const i=1e3;let a=n;kf(n)>i&&(a=yv(n,i)[0]+`

[Note: Question was truncated due to length]`);const o=`${s}

Question: ${a}

Requirements:
- Provide a comprehensive, well-structured answer
- Include relevant examples and explanations
- Use clear, educational language
- Address all aspects of the question
- Make the response helpful for learning

Please provide a detailed response:`;return await PC(o,{sessionId:r,temperature:.7,maxTokens:1200,model:"gpt-4"})}catch(s){throw console.error("Error generating long answer:",s),s}}function Zx(n,[e,t]){return Math.min(t,Math.max(e,n))}function hw(n){const e=S.useRef({value:n,previous:n});return S.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var QO=["PageUp","PageDown"],ZO=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],JO={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Wf="Slider",[oS,sH,iH]=cv(Wf),[qO,_K]=rr(Wf,[iH]),[aH,fw]=qO(Wf),ej=S.forwardRef((n,e)=>{const{name:t,min:r=0,max:s=100,step:i=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:h=()=>{},onValueCommit:p=()=>{},inverted:m=!1,form:v,...g}=n,y=S.useRef(new Set),x=S.useRef(0),b=a==="horizontal"?oH:lH,[E=[],C]=Ui({prop:d,defaultProp:c,onChange:O=>{var z;(z=[...y.current][x.current])==null||z.focus(),h(O)}}),R=S.useRef(E);function P(O){const M=fH(E,O);_(O,M)}function k(O){_(O,x.current)}function I(){const O=R.current[x.current];E[x.current]!==O&&p(E)}function _(O,M,{commit:z}={commit:!1}){const D=vH(i),K=yH(Math.round((O-r)/i)*i+r,D),B=Zx(K,[r,s]);C((U=[])=>{const $=dH(U,B,M);if(gH($,l*i)){x.current=$.indexOf(B);const F=String($)!==String(U);return F&&z&&p($),F?$:U}else return U})}return f.jsx(aH,{scope:n.__scopeSlider,name:t,disabled:o,min:r,max:s,valueIndexToChangeRef:x,thumbs:y.current,values:E,orientation:a,form:v,children:f.jsx(oS.Provider,{scope:n.__scopeSlider,children:f.jsx(oS.Slot,{scope:n.__scopeSlider,children:f.jsx(b,{"aria-disabled":o,"data-disabled":o?"":void 0,...g,ref:e,onPointerDown:re(g.onPointerDown,()=>{o||(R.current=E)}),min:r,max:s,inverted:m,onSlideStart:o?void 0:P,onSlideMove:o?void 0:k,onSlideEnd:o?void 0:I,onHomeKeyDown:()=>!o&&_(r,0,{commit:!0}),onEndKeyDown:()=>!o&&_(s,E.length-1,{commit:!0}),onStepKeyDown:({event:O,direction:M})=>{if(!o){const K=QO.includes(O.key)||O.shiftKey&&ZO.includes(O.key)?10:1,B=x.current,U=E[B],$=i*K*M;_(U+$,B,{commit:!0})}}})})})})});ej.displayName=Wf;var[tj,nj]=qO(Wf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),oH=S.forwardRef((n,e)=>{const{min:t,max:r,dir:s,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=n,[h,p]=S.useState(null),m=Oe(e,b=>p(b)),v=S.useRef(void 0),g=Vf(s),y=g==="ltr",x=y&&!i||!y&&i;function w(b){const E=v.current||h.getBoundingClientRect(),C=[0,E.width],P=kC(C,x?[t,r]:[r,t]);return v.current=E,P(b-E.left)}return f.jsx(tj,{scope:n.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:f.jsx(rj,{dir:g,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const E=w(b.clientX);a==null||a(E)},onSlideMove:b=>{const E=w(b.clientX);o==null||o(E)},onSlideEnd:()=>{v.current=void 0,l==null||l()},onStepKeyDown:b=>{const C=JO[x?"from-left":"from-right"].includes(b.key);c==null||c({event:b,direction:C?-1:1})}})})}),lH=S.forwardRef((n,e)=>{const{min:t,max:r,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:o,onStepKeyDown:l,...c}=n,d=S.useRef(null),h=Oe(e,d),p=S.useRef(void 0),m=!s;function v(g){const y=p.current||d.current.getBoundingClientRect(),x=[0,y.height],b=kC(x,m?[r,t]:[t,r]);return p.current=y,b(g-y.top)}return f.jsx(tj,{scope:n.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:f.jsx(rj,{"data-orientation":"vertical",...c,ref:h,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const y=v(g.clientY);i==null||i(y)},onSlideMove:g=>{const y=v(g.clientY);a==null||a(y)},onSlideEnd:()=>{p.current=void 0,o==null||o()},onStepKeyDown:g=>{const x=JO[m?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:x?-1:1})}})})}),rj=S.forwardRef((n,e)=>{const{__scopeSlider:t,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:l,...c}=n,d=fw(Wf,t);return f.jsx(be.span,{...c,ref:e,onKeyDown:re(n.onKeyDown,h=>{h.key==="Home"?(a(h),h.preventDefault()):h.key==="End"?(o(h),h.preventDefault()):QO.concat(ZO).includes(h.key)&&(l(h),h.preventDefault())}),onPointerDown:re(n.onPointerDown,h=>{const p=h.target;p.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(p)?p.focus():r(h)}),onPointerMove:re(n.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:re(n.onPointerUp,h=>{const p=h.target;p.hasPointerCapture(h.pointerId)&&(p.releasePointerCapture(h.pointerId),i(h))})})}),sj="SliderTrack",ij=S.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,s=fw(sj,t);return f.jsx(be.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});ij.displayName=sj;var lS="SliderRange",aj=S.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,s=fw(lS,t),i=nj(lS,t),a=S.useRef(null),o=Oe(e,a),l=s.values.length,c=s.values.map(p=>cj(p,s.min,s.max)),d=l>1?Math.min(...c):0,h=100-Math.max(...c);return f.jsx(be.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:o,style:{...n.style,[i.startEdge]:d+"%",[i.endEdge]:h+"%"}})});aj.displayName=lS;var cS="SliderThumb",oj=S.forwardRef((n,e)=>{const t=sH(n.__scopeSlider),[r,s]=S.useState(null),i=Oe(e,o=>s(o)),a=S.useMemo(()=>r?t().findIndex(o=>o.ref.current===r):-1,[t,r]);return f.jsx(cH,{...n,ref:i,index:a})}),cH=S.forwardRef((n,e)=>{const{__scopeSlider:t,index:r,name:s,...i}=n,a=fw(cS,t),o=nj(cS,t),[l,c]=S.useState(null),d=Oe(e,w=>c(w)),h=l?a.form||!!l.closest("form"):!0,p=Q0(l),m=a.values[r],v=m===void 0?0:cj(m,a.min,a.max),g=hH(r,a.values.length),y=p==null?void 0:p[o.size],x=y?pH(y,v,o.direction):0;return S.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),f.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${v}% + ${x}px)`},children:[f.jsx(oS.ItemSlot,{scope:n.__scopeSlider,children:f.jsx(be.span,{role:"slider","aria-label":n["aria-label"]||g,"aria-valuemin":a.min,"aria-valuenow":m,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:d,style:m===void 0?{display:"none"}:n.style,onFocus:re(n.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),h&&f.jsx(lj,{name:s??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:m},r)]})});oj.displayName=cS;var uH="RadioBubbleInput",lj=S.forwardRef(({__scopeSlider:n,value:e,...t},r)=>{const s=S.useRef(null),i=Oe(s,r),a=hw(e);return S.useEffect(()=>{const o=s.current;if(!o)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&d){const h=new Event("input",{bubbles:!0});d.call(o,e),o.dispatchEvent(h)}},[a,e]),f.jsx(be.input,{style:{display:"none"},...t,ref:i,defaultValue:e})});lj.displayName=uH;function dH(n=[],e,t){const r=[...n];return r[t]=e,r.sort((s,i)=>s-i)}function cj(n,e,t){const i=100/(t-e)*(n-e);return Zx(i,[0,100])}function hH(n,e){return e>2?`Value ${n+1} of ${e}`:e===2?["Minimum","Maximum"][n]:void 0}function fH(n,e){if(n.length===1)return 0;const t=n.map(s=>Math.abs(s-e)),r=Math.min(...t);return t.indexOf(r)}function pH(n,e,t){const r=n/2,i=kC([0,50],[0,r]);return(r-i(e)*t)*t}function mH(n){return n.slice(0,-1).map((e,t)=>n[t+1]-e)}function gH(n,e){if(e>0){const t=mH(n);return Math.min(...t)>=e}return!0}function kC(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function vH(n){return(String(n).split(".")[1]||"").length}function yH(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}var uj=ej,xH=ij,wH=aj,bH=oj;const IC=S.forwardRef(({className:n,...e},t)=>f.jsxs(uj,{ref:t,className:Ce("relative flex w-full touch-none select-none items-center",n),...e,children:[f.jsx(xH,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:f.jsx(wH,{className:"absolute h-full bg-primary"})}),f.jsx(bH,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));IC.displayName=uj.displayName;var SH=[" ","Enter","ArrowUp","ArrowDown"],EH=[" ","Enter"],Xu="Select",[pw,mw,AH]=cv(Xu),[Gf,MK]=rr(Xu,[AH,Ff]),gw=Ff(),[CH,Jl]=Gf(Xu),[TH,RH]=Gf(Xu),dj=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:o,onValueChange:l,dir:c,name:d,autoComplete:h,disabled:p,required:m,form:v}=n,g=gw(e),[y,x]=S.useState(null),[w,b]=S.useState(null),[E,C]=S.useState(!1),R=Vf(c),[P,k]=Ui({prop:r,defaultProp:s??!1,onChange:i,caller:Xu}),[I,_]=Ui({prop:a,defaultProp:o,onChange:l,caller:Xu}),O=S.useRef(null),M=y?v||!!y.closest("form"):!0,[z,D]=S.useState(new Set),K=Array.from(z).map(B=>B.props.value).join(";");return f.jsx(QI,{...g,children:f.jsxs(CH,{required:m,scope:e,trigger:y,onTriggerChange:x,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:E,onValueNodeHasChildrenChange:C,contentId:$i(),value:I,onValueChange:_,open:P,onOpenChange:k,dir:R,triggerPointerDownPosRef:O,disabled:p,children:[f.jsx(pw.Provider,{scope:e,children:f.jsx(TH,{scope:n.__scopeSelect,onNativeOptionAdd:S.useCallback(B=>{D(U=>new Set(U).add(B))},[]),onNativeOptionRemove:S.useCallback(B=>{D(U=>{const $=new Set(U);return $.delete(B),$})},[]),children:t})}),M?f.jsxs(jj,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:I,onChange:B=>_(B.target.value),disabled:p,form:v,children:[I===void 0?f.jsx("option",{value:""}):null,Array.from(z)]},K):null]})})};dj.displayName=Xu;var hj="SelectTrigger",fj=S.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...s}=n,i=gw(t),a=Jl(hj,t),o=a.disabled||r,l=Oe(e,a.onTriggerChange),c=mw(t),d=S.useRef("touch"),[h,p,m]=Lj(g=>{const y=c().filter(b=>!b.disabled),x=y.find(b=>b.value===a.value),w=Fj(y,g,x);w!==void 0&&a.onValueChange(w.value)}),v=g=>{o||(a.onOpenChange(!0),m()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return f.jsx(HA,{asChild:!0,...i,children:f.jsx(be.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":Dj(a.value)?"":void 0,...s,ref:l,onClick:re(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:re(s.onPointerDown,g=>{d.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:re(s.onKeyDown,g=>{const y=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(y&&g.key===" ")&&SH.includes(g.key)&&(v(),g.preventDefault())})})})});fj.displayName=hj;var pj="SelectValue",mj=S.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:s,children:i,placeholder:a="",...o}=n,l=Jl(pj,t),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,h=Oe(e,l.onValueNodeChange);return Tn(()=>{c(d)},[c,d]),f.jsx(be.span,{...o,ref:h,style:{pointerEvents:"none"},children:Dj(l.value)?f.jsx(f.Fragment,{children:a}):i})});mj.displayName=pj;var NH="SelectIcon",gj=S.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...s}=n;return f.jsx(be.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});gj.displayName=NH;var PH="SelectPortal",vj=n=>f.jsx(uv,{asChild:!0,...n});vj.displayName=PH;var Qu="SelectContent",yj=S.forwardRef((n,e)=>{const t=Jl(Qu,n.__scopeSelect),[r,s]=S.useState();if(Tn(()=>{s(new DocumentFragment)},[]),!t.open){const i=r;return i?nd.createPortal(f.jsx(xj,{scope:n.__scopeSelect,children:f.jsx(pw.Slot,{scope:n.__scopeSelect,children:f.jsx("div",{children:n.children})})}),i):null}return f.jsx(wj,{...n,ref:e})});yj.displayName=Qu;var Cs=10,[xj,ql]=Gf(Qu),kH="SelectContentImpl",IH=Vu("SelectContent.RemoveScroll"),wj=S.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:y,...x}=n,w=Jl(Qu,t),[b,E]=S.useState(null),[C,R]=S.useState(null),P=Oe(e,L=>E(L)),[k,I]=S.useState(null),[_,O]=S.useState(null),M=mw(t),[z,D]=S.useState(!1),K=S.useRef(!1);S.useEffect(()=>{if(b)return fC(b)},[b]),hC();const B=S.useCallback(L=>{const[W,...Y]=M().map(Ae=>Ae.ref.current),[ie]=Y.slice(-1),de=document.activeElement;for(const Ae of L)if(Ae===de||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===W&&C&&(C.scrollTop=0),Ae===ie&&C&&(C.scrollTop=C.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==de))return},[M,C]),U=S.useCallback(()=>B([k,b]),[B,k,b]);S.useEffect(()=>{z&&U()},[z,U]);const{onOpenChange:$,triggerPointerDownPosRef:F}=w;S.useEffect(()=>{if(b){let L={x:0,y:0};const W=ie=>{var de,Ae;L={x:Math.abs(Math.round(ie.pageX)-(((de=F.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((Ae=F.current)==null?void 0:Ae.y)??0))}},Y=ie=>{L.x<=10&&L.y<=10?ie.preventDefault():b.contains(ie.target)||$(!1),document.removeEventListener("pointermove",W),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",W),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",Y,{capture:!0})}}},[b,$,F]),S.useEffect(()=>{const L=()=>$(!1);return window.addEventListener("blur",L),window.addEventListener("resize",L),()=>{window.removeEventListener("blur",L),window.removeEventListener("resize",L)}},[$]);const[H,J]=Lj(L=>{const W=M().filter(de=>!de.disabled),Y=W.find(de=>de.ref.current===document.activeElement),ie=Fj(W,L,Y);ie&&setTimeout(()=>ie.ref.current.focus())}),Z=S.useCallback((L,W,Y)=>{const ie=!K.current&&!Y;(w.value!==void 0&&w.value===W||ie)&&(I(L),ie&&(K.current=!0))},[w.value]),te=S.useCallback(()=>b==null?void 0:b.focus(),[b]),ye=S.useCallback((L,W,Y)=>{const ie=!K.current&&!Y;(w.value!==void 0&&w.value===W||ie)&&O(L)},[w.value]),Ne=r==="popper"?uS:bj,Q=Ne===uS?{side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:y}:{};return f.jsx(xj,{scope:t,content:b,viewport:C,onViewportChange:R,itemRefCallback:Z,selectedItem:k,onItemLeave:te,itemTextRefCallback:ye,focusSelectedItem:U,selectedItemText:_,position:r,isPositioned:z,searchRef:H,children:f.jsx(sw,{as:IH,allowPinchZoom:!0,children:f.jsx(nw,{asChild:!0,trapped:w.open,onMountAutoFocus:L=>{L.preventDefault()},onUnmountAutoFocus:re(s,L=>{var W;(W=w.trigger)==null||W.focus({preventScroll:!0}),L.preventDefault()}),children:f.jsx(Of,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:L=>L.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:f.jsx(Ne,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:L=>L.preventDefault(),...x,...Q,onPlaced:()=>D(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:re(x.onKeyDown,L=>{const W=L.ctrlKey||L.altKey||L.metaKey;if(L.key==="Tab"&&L.preventDefault(),!W&&L.key.length===1&&J(L.key),["ArrowUp","ArrowDown","Home","End"].includes(L.key)){let ie=M().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(L.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(L.key)){const de=L.target,Ae=ie.indexOf(de);ie=ie.slice(Ae+1)}setTimeout(()=>B(ie)),L.preventDefault()}})})})})})})});wj.displayName=kH;var _H="SelectItemAlignedPosition",bj=S.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...s}=n,i=Jl(Qu,t),a=ql(Qu,t),[o,l]=S.useState(null),[c,d]=S.useState(null),h=Oe(e,P=>d(P)),p=mw(t),m=S.useRef(!1),v=S.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:x,focusSelectedItem:w}=a,b=S.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&c&&g&&y&&x){const P=i.trigger.getBoundingClientRect(),k=c.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),_=x.getBoundingClientRect();if(i.dir!=="rtl"){const de=_.left-k.left,Ae=I.left-de,nt=P.left-Ae,_t=P.width+nt,Ln=Math.max(_t,k.width),Nt=window.innerWidth-Cs,Fn=Zx(Ae,[Cs,Math.max(Cs,Nt-Ln)]);o.style.minWidth=_t+"px",o.style.left=Fn+"px"}else{const de=k.right-_.right,Ae=window.innerWidth-I.right-de,nt=window.innerWidth-P.right-Ae,_t=P.width+nt,Ln=Math.max(_t,k.width),Nt=window.innerWidth-Cs,Fn=Zx(Ae,[Cs,Math.max(Cs,Nt-Ln)]);o.style.minWidth=_t+"px",o.style.right=Fn+"px"}const O=p(),M=window.innerHeight-Cs*2,z=g.scrollHeight,D=window.getComputedStyle(c),K=parseInt(D.borderTopWidth,10),B=parseInt(D.paddingTop,10),U=parseInt(D.borderBottomWidth,10),$=parseInt(D.paddingBottom,10),F=K+B+z+$+U,H=Math.min(y.offsetHeight*5,F),J=window.getComputedStyle(g),Z=parseInt(J.paddingTop,10),te=parseInt(J.paddingBottom,10),ye=P.top+P.height/2-Cs,Ne=M-ye,Q=y.offsetHeight/2,L=y.offsetTop+Q,W=K+B+L,Y=F-W;if(W<=ye){const de=O.length>0&&y===O[O.length-1].ref.current;o.style.bottom="0px";const Ae=c.clientHeight-g.offsetTop-g.offsetHeight,nt=Math.max(Ne,Q+(de?te:0)+Ae+U),_t=W+nt;o.style.height=_t+"px"}else{const de=O.length>0&&y===O[0].ref.current;o.style.top="0px";const nt=Math.max(ye,K+g.offsetTop+(de?Z:0)+Q)+Y;o.style.height=nt+"px",g.scrollTop=W-ye+g.offsetTop}o.style.margin=`${Cs}px 0`,o.style.minHeight=H+"px",o.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,i.trigger,i.valueNode,o,c,g,y,x,i.dir,r]);Tn(()=>b(),[b]);const[E,C]=S.useState();Tn(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const R=S.useCallback(P=>{P&&v.current===!0&&(b(),w==null||w(),v.current=!1)},[b,w]);return f.jsx(OH,{scope:t,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:R,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:f.jsx(be.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});bj.displayName=_H;var MH="SelectPopperPosition",uS=S.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:s=Cs,...i}=n,a=gw(t);return f.jsx(WA,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});uS.displayName=MH;var[OH,_C]=Gf(Qu,{}),dS="SelectViewport",Sj=S.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...s}=n,i=ql(dS,t),a=_C(dS,t),o=Oe(e,i.onViewportChange),l=S.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(pw.Slot,{scope:t,children:f.jsx(be.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:re(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&h){const m=Math.abs(l.current-d.scrollTop);if(m>0){const v=window.innerHeight-Cs*2,g=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),x=Math.max(g,y);if(x<v){const w=x+m,b=Math.min(v,w),E=w-b;h.style.height=b+"px",h.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});Sj.displayName=dS;var Ej="SelectGroup",[jH,DH]=Gf(Ej),LH=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=$i();return f.jsx(jH,{scope:t,id:s,children:f.jsx(be.div,{role:"group","aria-labelledby":s,...r,ref:e})})});LH.displayName=Ej;var Aj="SelectLabel",Cj=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=DH(Aj,t);return f.jsx(be.div,{id:s.id,...r,ref:e})});Cj.displayName=Aj;var Jx="SelectItem",[FH,Tj]=Gf(Jx),Rj=S.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:s=!1,textValue:i,...a}=n,o=Jl(Jx,t),l=ql(Jx,t),c=o.value===r,[d,h]=S.useState(i??""),[p,m]=S.useState(!1),v=Oe(e,w=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,w,r,s)}),g=$i(),y=S.useRef("touch"),x=()=>{s||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(FH,{scope:t,value:r,disabled:s,textId:g,isSelected:c,onItemTextChange:S.useCallback(w=>{h(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:f.jsx(pw.ItemSlot,{scope:t,value:r,disabled:s,textValue:d,children:f.jsx(be.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:v,onFocus:re(a.onFocus,()=>m(!0)),onBlur:re(a.onBlur,()=>m(!1)),onClick:re(a.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:re(a.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:re(a.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:re(a.onPointerMove,w=>{var b;y.current=w.pointerType,s?(b=l.onItemLeave)==null||b.call(l):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:re(a.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:re(a.onKeyDown,w=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&w.key===" "||(EH.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});Rj.displayName=Jx;var gp="SelectItemText",Nj=S.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:s,...i}=n,a=Jl(gp,t),o=ql(gp,t),l=Tj(gp,t),c=RH(gp,t),[d,h]=S.useState(null),p=Oe(e,x=>h(x),l.onItemTextChange,x=>{var w;return(w=o.itemTextRefCallback)==null?void 0:w.call(o,x,l.value,l.disabled)}),m=d==null?void 0:d.textContent,v=S.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=c;return Tn(()=>(g(v),()=>y(v)),[g,y,v]),f.jsxs(f.Fragment,{children:[f.jsx(be.span,{id:l.textId,...i,ref:p}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?nd.createPortal(i.children,a.valueNode):null]})});Nj.displayName=gp;var Pj="SelectItemIndicator",kj=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return Tj(Pj,t).isSelected?f.jsx(be.span,{"aria-hidden":!0,...r,ref:e}):null});kj.displayName=Pj;var hS="SelectScrollUpButton",Ij=S.forwardRef((n,e)=>{const t=ql(hS,n.__scopeSelect),r=_C(hS,n.__scopeSelect),[s,i]=S.useState(!1),a=Oe(e,r.onScrollButtonChange);return Tn(()=>{if(t.viewport&&t.isPositioned){let o=function(){const c=l.scrollTop>0;i(c)};const l=t.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[t.viewport,t.isPositioned]),s?f.jsx(Mj,{...n,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=t;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});Ij.displayName=hS;var fS="SelectScrollDownButton",_j=S.forwardRef((n,e)=>{const t=ql(fS,n.__scopeSelect),r=_C(fS,n.__scopeSelect),[s,i]=S.useState(!1),a=Oe(e,r.onScrollButtonChange);return Tn(()=>{if(t.viewport&&t.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=t.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[t.viewport,t.isPositioned]),s?f.jsx(Mj,{...n,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=t;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});_j.displayName=fS;var Mj=S.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...s}=n,i=ql("SelectScrollButton",t),a=S.useRef(null),o=mw(t),l=S.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return S.useEffect(()=>()=>l(),[l]),Tn(()=>{var d;const c=o().find(h=>h.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),f.jsx(be.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:re(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:re(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:re(s.onPointerLeave,()=>{l()})})}),$H="SelectSeparator",Oj=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return f.jsx(be.div,{"aria-hidden":!0,...r,ref:e})});Oj.displayName=$H;var pS="SelectArrow",BH=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=gw(t),i=Jl(pS,t),a=ql(pS,t);return i.open&&a.position==="popper"?f.jsx(GA,{...s,...r,ref:e}):null});BH.displayName=pS;var zH="SelectBubbleInput",jj=S.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const s=S.useRef(null),i=Oe(r,s),a=hw(e);return S.useEffect(()=>{const o=s.current;if(!o)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&d){const h=new Event("change",{bubbles:!0});d.call(o,e),o.dispatchEvent(h)}},[a,e]),f.jsx(be.select,{...t,style:{...Gk,...t.style},ref:i,defaultValue:e})});jj.displayName=zH;function Dj(n){return n===""||n===void 0}function Lj(n){const e=Sr(n),t=S.useRef(""),r=S.useRef(0),s=S.useCallback(a=>{const o=t.current+a;e(o),function l(c){t.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),i=S.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,s,i]}function Fj(n,e,t){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=t?n.indexOf(t):-1;let a=UH(n,Math.max(i,0));s.length===1&&(a=a.filter(c=>c!==t));const l=a.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==t?l:void 0}function UH(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var VH=dj,$j=fj,HH=mj,WH=gj,GH=vj,Bj=yj,KH=Sj,zj=Cj,Uj=Rj,YH=Nj,XH=kj,Vj=Ij,Hj=_j,Wj=Oj;const Gj=VH,Kj=HH,MC=S.forwardRef(({className:n,children:e,...t},r)=>f.jsxs($j,{ref:r,className:Ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,f.jsx(WH,{asChild:!0,children:f.jsx(vI,{className:"h-4 w-4 opacity-50"})})]}));MC.displayName=$j.displayName;const Yj=S.forwardRef(({className:n,...e},t)=>f.jsx(Vj,{ref:t,className:Ce("flex cursor-default items-center justify-center py-1",n),...e,children:f.jsx(d6,{className:"h-4 w-4"})}));Yj.displayName=Vj.displayName;const Xj=S.forwardRef(({className:n,...e},t)=>f.jsx(Hj,{ref:t,className:Ce("flex cursor-default items-center justify-center py-1",n),...e,children:f.jsx(vI,{className:"h-4 w-4"})}));Xj.displayName=Hj.displayName;const OC=S.forwardRef(({className:n,children:e,position:t="popper",...r},s)=>f.jsx(GH,{children:f.jsxs(Bj,{ref:s,className:Ce("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[f.jsx(Yj,{}),f.jsx(KH,{className:Ce("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx(Xj,{})]})}));OC.displayName=Bj.displayName;const QH=S.forwardRef(({className:n,...e},t)=>f.jsx(zj,{ref:t,className:Ce("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));QH.displayName=zj.displayName;const Lu=S.forwardRef(({className:n,children:e,...t},r)=>f.jsxs(Uj,{ref:r,className:Ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(XH,{children:f.jsx(dn,{className:"h-4 w-4"})})}),f.jsx(YH,{children:e})]}));Lu.displayName=Uj.displayName;const ZH=S.forwardRef(({className:n,...e},t)=>f.jsx(Wj,{ref:t,className:Ce("-mx-1 my-1 h-px bg-muted",n),...e}));ZH.displayName=Wj.displayName;function JH({sessionId:n,flashcards:e,files:t=[],onFlashcardAdded:r,onFlashcardsAdded:s,onMasteryToggled:i}){var $,F;const[a,o]=S.useState(""),[l,c]=S.useState(""),[d,h]=S.useState(0),[p,m]=S.useState(!1),[v,g]=S.useState(!1),[y,x]=S.useState(!1),[w,b]=S.useState(!1),[E,C]=S.useState(null),[R,P]=S.useState(!1),{toast:k}=ys(),[I,_]=S.useState({count:5,complexity:"medium"}),O=async()=>{if(!a.trim()||!l.trim()){k({title:"Error",description:"Both sides of the flashcard must be filled in",variant:"destructive"});return}try{const H=await BN(n,[{front:a,back:l,mastered:!1}]),J=H[H.length-1];r(J),o(""),c(""),g(!1),k({title:"Success",description:"New flashcard added"})}catch{k({title:"Error",description:"Failed to add flashcard",variant:"destructive"})}},M=async()=>{if(!E||!E.front.trim()||!E.back.trim()){k({title:"Error",description:"Both sides of the flashcard must be filled in",variant:"destructive"});return}try{await zN(n,{flashcards:e.map(H=>H.id===E.id?E:H)}),b(!1),C(null),k({title:"Success",description:"Flashcard updated"})}catch{k({title:"Error",description:"Failed to update flashcard",variant:"destructive"})}},z=async H=>{var Z;const J=e.map(te=>te.id===H?{...te,mastered:!te.mastered}:te);try{await zN(n,{flashcards:J}),i(H,!((Z=e.find(te=>te.id===H))!=null&&Z.mastered)),d<e.length-1&&D()}catch{k({title:"Error",description:"Failed to update flashcard status",variant:"destructive"})}},D=()=>{m(!1),h((d+1)%e.length)},K=()=>{m(!1),h((d-1+e.length)%e.length)},B=()=>{e.length>0&&(C({...e[d]}),b(!0))},U=async()=>{x(!0);try{let H="";const J=I.count,Z=I.complexity;let te=t;if(t.length>0&&t[0].textChunks&&t[0].textChunks.length>0&&(te=t),te.length>0){const W=te.map(Y=>Y.name.replace(".pdf","")).join(", ");H=`Generate ${J} educational flashcards about ${W}`}else if(e.length>0){const W=e.map(Y=>Y.front).join(", ");H=`Generate ${J} educational flashcards about topics similar to these: ${W.substring(0,300)}`}else H=`Generate ${J} educational flashcards about general study skills and learning strategies`;const ye=t.length>0?t.map(W=>W.content).join(`
`):H,Q=(await nH(ye,I.count,I.complexity,t,n)).map(W=>({front:W.front,back:W.back,mastered:!1})),L=await BN(n,Q);s&&L.length>0?s(L):L.forEach(W=>{r(W)}),k({title:"Success",description:`${L.length} flashcards generated`})}catch(H){console.error("Error generating flashcards:",H),k({title:"Error",description:H instanceof Error?H.message:"Failed to generate flashcards",variant:"destructive"})}finally{x(!1)}};return f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-semibold mb-1",children:"Flashcards"}),f.jsx("p",{className:"text-gray-600",children:"Review and memorize key concepts with flashcards"})]}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsxs(jl,{open:R,onOpenChange:P,children:[f.jsx(Pf,{asChild:!0,children:f.jsxs(me,{variant:"outline",className:"flex items-center gap-2",children:[f.jsx(T1,{className:"h-4 w-4"}),"Options"]})}),f.jsxs(Ka,{children:[f.jsx(Ya,{children:f.jsx(Xa,{children:"Generation Settings"})}),f.jsxs("div",{className:"space-y-4 py-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(He,{children:"Number of flashcards to generate"}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(IC,{value:[I.count],min:1,max:20,step:1,onValueChange:H=>_({...I,count:H[0]}),className:"flex-grow"}),f.jsx("span",{className:"w-8 text-center font-medium",children:I.count})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(He,{children:"Complexity level"}),f.jsxs(Gj,{value:I.complexity,onValueChange:H=>_({...I,complexity:H}),children:[f.jsx(MC,{children:f.jsx(Kj,{placeholder:"Select complexity"})}),f.jsxs(OC,{children:[f.jsx(Lu,{value:"simple",children:"Simple"}),f.jsx(Lu,{value:"medium",children:"Medium"}),f.jsx(Lu,{value:"advanced",children:"Advanced"})]})]})]})]}),f.jsx(Xd,{children:f.jsx(me,{onClick:()=>P(!1),children:"Save Settings"})})]})]}),f.jsxs(me,{variant:"outline",className:"flex items-center gap-2 border-purple-300 text-purple-600 hover:bg-purple-50",onClick:U,disabled:y,children:[y?f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-purple-500"}):f.jsx(Px,{className:"h-4 w-4"}),"Generate with AI"]}),f.jsxs(jl,{open:v,onOpenChange:g,children:[f.jsx(Pf,{asChild:!0,children:f.jsxs(me,{className:"gradient-bg",children:[f.jsx(SR,{className:"mr-2 h-4 w-4"}),"Add Flashcard"]})}),f.jsxs(Ka,{children:[f.jsx(Ya,{children:f.jsx(Xa,{children:"Create New Flashcard"})}),f.jsxs("div",{className:"space-y-4 py-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(He,{htmlFor:"front",children:"Front"}),f.jsx(vc,{id:"front",placeholder:"Question or term",rows:3,value:a,onChange:H=>o(H.target.value)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(He,{htmlFor:"back",children:"Back"}),f.jsx(vc,{id:"back",placeholder:"Answer or definition",rows:5,value:l,onChange:H=>c(H.target.value)})]})]}),f.jsxs(Xd,{children:[f.jsx(me,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),f.jsx(me,{className:"gradient-bg",onClick:O,children:"Create Flashcard"})]})]})]})]})]}),e.length>0?f.jsxs("div",{children:[f.jsxs("div",{className:"bg-gray-100 py-4 px-6 rounded-lg mb-6 flex justify-between items-center",children:[f.jsxs("div",{className:"text-sm text-gray-600",children:[f.jsx("span",{className:"font-medium",children:d+1})," of ",e.length," flashcards"]}),f.jsxs("div",{className:"text-sm",children:[f.jsx("span",{className:"text-green-600 font-medium",children:e.filter(H=>H.mastered).length})," mastered"]})]}),f.jsx("div",{className:"flex justify-center mb-8",children:f.jsx("div",{className:"relative w-full max-w-2xl h-64 cursor-pointer perspective-1000",onClick:()=>m(!p),children:f.jsxs("div",{className:`absolute w-full h-full transform transition-transform duration-500 preserve-3d ${p?"rotate-y-180":""}`,children:[f.jsxs("div",{className:"absolute w-full h-full bg-white rounded-xl p-8 border-2 border-purple-200 shadow-md backface-hidden flex flex-col items-center justify-center",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center mb-4",children:f.jsx("span",{className:"text-purple-600 font-semibold",children:d+1})}),f.jsx("p",{className:"text-center text-xl font-medium",children:($=e[d])==null?void 0:$.front}),f.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"Click to flip"})]}),f.jsxs("div",{className:"absolute w-full h-full bg-purple-50 rounded-xl p-8 border-2 border-purple-200 shadow-md backface-hidden rotate-y-180 flex flex-col items-center justify-center",children:[f.jsx("p",{className:"text-center text-lg",children:(F=e[d])==null?void 0:F.back}),f.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"Click to flip back"})]})]})})}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx(me,{variant:"outline",onClick:K,disabled:e.length<=1,children:"Previous"}),f.jsxs("div",{className:"flex gap-3",children:[f.jsxs(me,{variant:"outline",className:"border-blue-300 text-blue-600 hover:bg-blue-50",onClick:B,children:[f.jsx(w6,{className:"mr-2 h-4 w-4"}),"Edit"]}),f.jsxs(me,{variant:"outline",className:"border-red-300 text-red-600 hover:bg-red-50",onClick:()=>z(e[d].id),disabled:e[d].mastered,children:[f.jsx(hv,{className:"mr-2 h-4 w-4"}),"Still Learning"]}),f.jsxs(me,{variant:"outline",className:"border-green-300 text-green-600 hover:bg-green-50",onClick:()=>z(e[d].id),disabled:e[d].mastered,children:[f.jsx(dn,{className:"mr-2 h-4 w-4"}),"Mastered"]})]}),f.jsx(me,{variant:"outline",onClick:D,disabled:e.length<=1,children:"Next"})]})]}):f.jsxs("div",{className:"text-center py-16 border rounded-lg bg-gray-50",children:[f.jsx(gI,{className:"h-10 w-10 text-gray-400 mx-auto mb-3"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No flashcards yet"}),f.jsx("p",{className:"text-gray-500 mt-1 mb-6",children:"Create your first flashcard or let AI generate some for you"}),f.jsxs("div",{className:"flex justify-center gap-4",children:[f.jsxs(me,{variant:"outline",className:"border-purple-300 text-purple-600 hover:bg-purple-50",onClick:U,disabled:y,children:[y?f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-purple-500 mr-2"}):f.jsx(Px,{className:"mr-2 h-4 w-4"}),"Generate with AI"]}),f.jsxs(me,{className:"gradient-bg",onClick:()=>g(!0),children:[f.jsx(SR,{className:"mr-2 h-4 w-4"}),"Add Manually"]})]})]}),f.jsx(jl,{open:w,onOpenChange:b,children:f.jsxs(Ka,{children:[f.jsx(Ya,{children:f.jsx(Xa,{children:"Edit Flashcard"})}),f.jsxs("div",{className:"space-y-4 py-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(He,{htmlFor:"edit-front",children:"Front"}),f.jsx(vc,{id:"edit-front",placeholder:"Question or term",rows:3,value:(E==null?void 0:E.front)||"",onChange:H=>C(J=>J?{...J,front:H.target.value}:null)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(He,{htmlFor:"edit-back",children:"Back"}),f.jsx(vc,{id:"edit-back",placeholder:"Answer or definition",rows:5,value:(E==null?void 0:E.back)||"",onChange:H=>C(J=>J?{...J,back:H.target.value}:null)})]})]}),f.jsxs(Xd,{children:[f.jsx(me,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),f.jsx(me,{className:"gradient-bg",onClick:M,children:"Update Flashcard"})]})]})}),f.jsx("style",{children:`
        .perspective-1000 {
          perspective: 1000px;
        }
        
        .preserve-3d {
          transform-style: preserve-3d;
        }
        
        .backface-hidden {
          backface-visibility: hidden;
        }
        
        .rotate-y-180 {
          transform: rotateY(180deg);
        }
        `})]})}var vw="Checkbox",[qH,OK]=rr(vw),[eW,jC]=qH(vw);function tW(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:s,disabled:i,form:a,name:o,onCheckedChange:l,required:c,value:d="on",internal_do_not_use_render:h}=n,[p,m]=Ui({prop:t,defaultProp:s??!1,onChange:l,caller:vw}),[v,g]=S.useState(null),[y,x]=S.useState(null),w=S.useRef(!1),b=v?!!a||!!v.closest("form"):!0,E={checked:p,disabled:i,setChecked:m,control:v,setControl:g,name:o,form:a,value:d,hasConsumerStoppedPropagationRef:w,required:c,defaultChecked:Dl(s)?!1:s,isFormControl:b,bubbleInput:y,setBubbleInput:x};return f.jsx(eW,{scope:e,...E,children:nW(h)?h(E):r})}var Qj="CheckboxTrigger",Zj=S.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},s)=>{const{control:i,value:a,disabled:o,checked:l,required:c,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:p,isFormControl:m,bubbleInput:v}=jC(Qj,n),g=Oe(s,d),y=S.useRef(l);return S.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const w=()=>h(y.current);return x.addEventListener("reset",w),()=>x.removeEventListener("reset",w)}},[i,h]),f.jsx(be.button,{type:"button",role:"checkbox","aria-checked":Dl(l)?"mixed":l,"aria-required":c,"data-state":nD(l),"data-disabled":o?"":void 0,disabled:o,value:a,...r,ref:g,onKeyDown:re(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:re(t,x=>{h(w=>Dl(w)?!0:!w),v&&m&&(p.current=x.isPropagationStopped(),p.current||x.stopPropagation())})})});Zj.displayName=Qj;var DC=S.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:s,defaultChecked:i,required:a,disabled:o,value:l,onCheckedChange:c,form:d,...h}=n;return f.jsx(tW,{__scopeCheckbox:t,checked:s,defaultChecked:i,disabled:o,required:a,onCheckedChange:c,name:r,form:d,value:l,internal_do_not_use_render:({isFormControl:p})=>f.jsxs(f.Fragment,{children:[f.jsx(Zj,{...h,ref:e,__scopeCheckbox:t}),p&&f.jsx(tD,{__scopeCheckbox:t})]})})});DC.displayName=vw;var Jj="CheckboxIndicator",qj=S.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...s}=n,i=jC(Jj,t);return f.jsx(Jr,{present:r||Dl(i.checked)||i.checked===!0,children:f.jsx(be.span,{"data-state":nD(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...n.style}})})});qj.displayName=Jj;var eD="CheckboxBubbleInput",tD=S.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:a,required:o,disabled:l,name:c,value:d,form:h,bubbleInput:p,setBubbleInput:m}=jC(eD,n),v=Oe(t,m),g=hw(i),y=Q0(r);S.useEffect(()=>{const w=p;if(!w)return;const b=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(b,"checked").set,R=!s.current;if(g!==i&&C){const P=new Event("click",{bubbles:R});w.indeterminate=Dl(i),C.call(w,Dl(i)?!1:i),w.dispatchEvent(P)}},[p,g,i,s]);const x=S.useRef(Dl(i)?!1:i);return f.jsx(be.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??x.current,required:o,disabled:l,name:c,value:d,form:h,...e,tabIndex:-1,ref:v,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});tD.displayName=eD;function nW(n){return typeof n=="function"}function Dl(n){return n==="indeterminate"}function nD(n){return Dl(n)?"indeterminate":n?"checked":"unchecked"}const vp=S.forwardRef(({className:n,...e},t)=>f.jsx(DC,{ref:t,className:Ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...e,children:f.jsx(qj,{className:Ce("flex items-center justify-center text-current"),children:f.jsx(dn,{className:"h-4 w-4"})})}));vp.displayName=DC.displayName;function rW(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}var sW=["color"],iW=S.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,s=rW(n,sW);return S.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),S.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),LC="Radio",[aW,rD]=rr(LC),[oW,lW]=aW(LC),sD=S.forwardRef((n,e)=>{const{__scopeRadio:t,name:r,checked:s=!1,required:i,disabled:a,value:o="on",onCheck:l,form:c,...d}=n,[h,p]=S.useState(null),m=Oe(e,y=>p(y)),v=S.useRef(!1),g=h?c||!!h.closest("form"):!0;return f.jsxs(oW,{scope:t,checked:s,disabled:a,children:[f.jsx(be.button,{type:"button",role:"radio","aria-checked":s,"data-state":lD(s),"data-disabled":a?"":void 0,disabled:a,value:o,...d,ref:m,onClick:re(n.onClick,y=>{s||l==null||l(),g&&(v.current=y.isPropagationStopped(),v.current||y.stopPropagation())})}),g&&f.jsx(oD,{control:h,bubbles:!v.current,name:r,value:o,checked:s,required:i,disabled:a,form:c,style:{transform:"translateX(-100%)"}})]})});sD.displayName=LC;var iD="RadioIndicator",aD=S.forwardRef((n,e)=>{const{__scopeRadio:t,forceMount:r,...s}=n,i=lW(iD,t);return f.jsx(Jr,{present:r||i.checked,children:f.jsx(be.span,{"data-state":lD(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});aD.displayName=iD;var cW="RadioBubbleInput",oD=S.forwardRef(({__scopeRadio:n,control:e,checked:t,bubbles:r=!0,...s},i)=>{const a=S.useRef(null),o=Oe(a,i),l=hw(t),c=Q0(e);return S.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==t&&m){const v=new Event("click",{bubbles:r});m.call(d,t),d.dispatchEvent(v)}},[l,t,r]),f.jsx(be.input,{type:"radio","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:o,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});oD.displayName=cW;function lD(n){return n?"checked":"unchecked"}var uW=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],yw="RadioGroup",[dW,jK]=rr(yw,[Hf,rD]),cD=Hf(),uD=rD(),[hW,fW]=dW(yw),dD=S.forwardRef((n,e)=>{const{__scopeRadioGroup:t,name:r,defaultValue:s,value:i,required:a=!1,disabled:o=!1,orientation:l,dir:c,loop:d=!0,onValueChange:h,...p}=n,m=cD(t),v=Vf(c),[g,y]=Ui({prop:i,defaultProp:s??null,onChange:h,caller:yw});return f.jsx(hW,{scope:t,name:r,required:a,disabled:o,value:g,onValueChange:y,children:f.jsx(yC,{asChild:!0,...m,orientation:l,dir:v,loop:d,children:f.jsx(be.div,{role:"radiogroup","aria-required":a,"aria-orientation":l,"data-disabled":o?"":void 0,dir:v,...p,ref:e})})})});dD.displayName=yw;var hD="RadioGroupItem",fD=S.forwardRef((n,e)=>{const{__scopeRadioGroup:t,disabled:r,...s}=n,i=fW(hD,t),a=i.disabled||r,o=cD(t),l=uD(t),c=S.useRef(null),d=Oe(e,c),h=i.value===s.value,p=S.useRef(!1);return S.useEffect(()=>{const m=g=>{uW.includes(g.key)&&(p.current=!0)},v=()=>p.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",v)}},[]),f.jsx(xC,{asChild:!0,...o,focusable:!a,active:h,children:f.jsx(sD,{disabled:a,required:i.required,checked:h,...l,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:re(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:re(s.onFocus,()=>{var m;p.current&&((m=c.current)==null||m.click())})})})});fD.displayName=hD;var pW="RadioGroupIndicator",pD=S.forwardRef((n,e)=>{const{__scopeRadioGroup:t,...r}=n,s=uD(t);return f.jsx(aD,{...s,...r,ref:e})});pD.displayName=pW;var mD=dD,gD=fD,mW=pD;const Xp=S.forwardRef(({className:n,...e},t)=>f.jsx(mD,{className:Ce("grid gap-2",n),...e,ref:t}));Xp.displayName=mD.displayName;const Ts=S.forwardRef(({className:n,...e},t)=>f.jsx(gD,{ref:t,className:Ce("aspect-square h-5 w-5 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:f.jsx(mW,{className:"flex items-center justify-center",children:f.jsx(iW,{className:"h-3.5 w-3.5 fill-primary"})})}));Ts.displayName=gD.displayName;function gW({sessionId:n,quizzes:e,onQuizAdded:t}){const[r,s]=S.useState(null),[i,a]=S.useState(0),[o,l]=S.useState(null),[c,d]=S.useState(!1),[h,p]=S.useState(0),[m,v]=S.useState(!1),[g,y]=S.useState(!1),[x,w]=S.useState(!1),[b,E]=S.useState(!1),[C,R]=S.useState({questionCount:5,difficulty:"medium",topic:"",showExplanations:!0,questionTypes:["multiple-choice"]}),{toast:P}=ys(),k=D=>{s(D),a(0),l(null),d(!1),p(0),v(!1)},I=D=>{c||l(D)},_=()=>{o===null||!r||(d(!0),o===r.questions[i].correctAnswer&&p(h+1))},O=()=>{r&&(i<r.questions.length-1?(a(i+1),l(null),d(!1)):v(!0))},M=()=>{!r||i===0||(a(i-1),l(null),d(!1))},z=async()=>{w(!0);try{const D=await _O(n);if(!D||!D.files||D.files.length===0){P({title:"No study materials",description:"Please upload PDF files first to generate quiz questions from your content",variant:"destructive"}),w(!1);return}const K=D.files.map(J=>J.name.replace(".pdf","")).join(", "),B=C.topic.trim()?C.topic:K;let U=`Generate a quiz about ${B} with ${C.questionCount} questions`;switch(C.difficulty){case"easy":U+=" at a beginner level";break;case"medium":U+=" at an intermediate level";break;case"hard":U+=" at an advanced level with challenging questions";break}C.showExplanations&&(U+=" with detailed explanations for each correct answer");const $=await rH(U,C.questionCount,C.difficulty,B,C.showExplanations,C.questionTypes,D.files,n),F=$.questions.slice(0,C.questionCount),H={id:`quiz_${Date.now()}`,title:$.title,questions:F.map((J,Z)=>({id:`q_${Date.now()}_${Z}`,...J}))};await $V(n,H),t(H),P({title:"Success",description:"New quiz generated successfully"})}catch(D){console.error("Error generating quiz:",D),P({title:"Error",description:"Failed to generate quiz",variant:"destructive"})}finally{w(!1)}};return f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-semibold mb-1",children:"Quizzes"}),f.jsx("p",{className:"text-gray-600",children:"Test your knowledge with interactive quizzes"})]}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsxs(jl,{open:b,onOpenChange:E,children:[f.jsx(Pf,{asChild:!0,children:f.jsxs(me,{variant:"outline",className:"flex items-center gap-2",children:[f.jsx(T1,{className:"h-4 w-4"}),"Quiz Options"]})}),f.jsxs(Ka,{children:[f.jsx(Ya,{children:f.jsx(Xa,{children:"Quiz Generation Settings"})}),f.jsxs("div",{className:"space-y-4 py-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(He,{children:"Number of questions"}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(IC,{value:[C.questionCount],min:3,max:15,step:1,onValueChange:D=>R({...C,questionCount:D[0]}),className:"flex-grow"}),f.jsx("span",{className:"w-8 text-center font-medium",children:C.questionCount})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(He,{children:"Difficulty level"}),f.jsxs(Gj,{value:C.difficulty,onValueChange:D=>R({...C,difficulty:D}),children:[f.jsx(MC,{children:f.jsx(Kj,{placeholder:"Select difficulty"})}),f.jsxs(OC,{children:[f.jsx(Lu,{value:"easy",children:"Easy"}),f.jsx(Lu,{value:"medium",children:"Medium"}),f.jsx(Lu,{value:"hard",children:"Hard"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(He,{children:"Specific Topic (optional)"}),f.jsx(hs,{id:"topic",placeholder:"Leave blank to generate from uploaded files",value:C.topic,onChange:D=>R({...C,topic:D.target.value})}),f.jsx("p",{className:"text-xs text-gray-500",children:"If left blank, quiz will be generated based on your study materials"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(He,{children:"Question Types"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(vp,{id:"multiple-choice",checked:C.questionTypes.includes("multiple-choice"),onCheckedChange:D=>{const K=D?[...C.questionTypes,"multiple-choice"]:C.questionTypes.filter(B=>B!=="multiple-choice");R({...C,questionTypes:K.length>0?K:["multiple-choice"]})}}),f.jsx(He,{htmlFor:"multiple-choice",children:"Multiple Choice"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(vp,{id:"true-false",checked:C.questionTypes.includes("true-false"),onCheckedChange:D=>{const K=D?[...C.questionTypes,"true-false"]:C.questionTypes.filter(B=>B!=="true-false");R({...C,questionTypes:K})}}),f.jsx(He,{htmlFor:"true-false",children:"True/False"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(vp,{id:"short-answer",checked:C.questionTypes.includes("short-answer"),onCheckedChange:D=>{const K=D?[...C.questionTypes,"short-answer"]:C.questionTypes.filter(B=>B!=="short-answer");R({...C,questionTypes:K})}}),f.jsx(He,{htmlFor:"short-answer",children:"Short Answer"})]})]}),f.jsx("p",{className:"text-xs text-gray-500",children:"Select the types of questions you want in your quiz"})]}),f.jsxs("div",{className:"flex items-start space-x-2",children:[f.jsx(vp,{id:"explanations",checked:C.showExplanations,onCheckedChange:D=>R({...C,showExplanations:D===!0})}),f.jsxs("div",{className:"grid gap-1.5 leading-none",children:[f.jsx(He,{htmlFor:"explanations",children:"Include answer explanations"}),f.jsx("p",{className:"text-sm text-gray-500",children:"Show detailed explanations after answering each question"})]})]})]}),f.jsx(Xd,{children:f.jsx(me,{onClick:()=>E(!1),children:"Save Settings"})})]})]}),f.jsxs(me,{variant:"outline",className:"flex items-center gap-2 border-purple-300 text-purple-600 hover:bg-purple-50",onClick:z,disabled:x,children:[x?f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-purple-500"}):f.jsx(Px,{className:"h-4 w-4"}),"Generate with AI"]})]})]}),r?m?f.jsxs("div",{className:"bg-white rounded-lg border p-8 text-center",children:[f.jsx("div",{className:"w-16 h-16 rounded-full gradient-bg mx-auto flex items-center justify-center mb-4",children:f.jsx(dn,{className:"h-8 w-8 text-white"})}),f.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Quiz Completed!"}),f.jsxs("p",{className:"text-gray-600 mb-2",children:["Your score: ",h," out of ",r.questions.length]}),f.jsxs("p",{className:"text-gray-600 mb-6",children:[Math.round(h/r.questions.length*100),"% correct"]}),f.jsxs("div",{className:"flex justify-center gap-4",children:[f.jsx(me,{variant:"outline",onClick:()=>k(r),children:"Retry Quiz"}),f.jsx(me,{className:"gradient-bg",onClick:()=>s(null),children:"Back to Quizzes"})]})]}):f.jsxs("div",{className:"bg-white rounded-lg border",children:[f.jsxs("div",{className:"border-b p-6",children:[f.jsx("h3",{className:"text-xl font-semibold",children:r.title}),f.jsxs("div",{className:"flex justify-between items-center mt-2",children:[f.jsxs("span",{className:"text-gray-600",children:["Question ",i+1," of ",r.questions.length]}),f.jsx(me,{variant:"ghost",onClick:()=>s(null),children:"Exit Quiz"})]})]}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h4",{className:"text-lg font-medium mb-4",children:r.questions[i].text}),f.jsx(Xp,{value:o==null?void 0:o.toString(),onValueChange:D=>I(parseInt(D)),className:"space-y-3",disabled:c,children:r.questions[i].options.map((D,K)=>{const B=K===r.questions[i].correctAnswer,U=o===K,$=c&&U&&!B,F=c&&B;let H="flex items-center space-x-3 p-4 rounded-md border ";return c?F?H+="border-green-500 bg-green-50":$?H+="border-red-500 bg-red-50":H+="border-gray-200":U?H+="border-purple-500 bg-purple-50":H+="border-gray-200 hover:border-gray-300",f.jsxs("div",{className:H,children:[f.jsx(Ts,{value:K.toString(),id:`option-${K}`}),f.jsx(He,{htmlFor:`option-${K}`,className:"flex-grow cursor-pointer",children:D}),c&&B&&f.jsx(dn,{className:"h-5 w-5 text-green-600"}),c&&$&&f.jsx(hv,{className:"h-5 w-5 text-red-600"})]},K)})})]}),c&&f.jsxs("div",{className:`p-4 rounded-md ${o===r.questions[i].correctAnswer?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"} mb-6`,children:[f.jsx("p",{className:`font-medium mb-1 ${o===r.questions[i].correctAnswer?"text-green-600":"text-red-600"}`,children:o===r.questions[i].correctAnswer?"Correct!":"Incorrect"}),f.jsx("p",{className:"text-gray-700",children:r.questions[i].explanation||"No explanation available."})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx(me,{variant:"outline",disabled:i===0||!c,onClick:M,children:"Previous"}),c?f.jsx(me,{className:"gradient-bg",onClick:O,children:i<r.questions.length-1?"Next Question":"Finish Quiz"}):f.jsx(me,{className:"gradient-bg",onClick:_,disabled:o===null,children:"Check Answer"})]})]})]}):f.jsx("div",{children:e.length>0?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(D=>f.jsxs(Mi,{className:"card-hover",children:[f.jsx($a,{children:f.jsx(Co,{children:D.title})}),f.jsx(Ba,{children:f.jsxs("p",{className:"text-sm text-gray-500",children:[D.questions.length," questions"]})}),f.jsx(Qx,{children:f.jsx(me,{className:"gradient-bg w-full",onClick:()=>k(D),children:"Start Quiz"})})]},D.id))}):f.jsxs("div",{className:"text-center py-16 border rounded-lg bg-gray-50",children:[f.jsx("svg",{className:"h-10 w-10 text-gray-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),f.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No quizzes yet"}),f.jsx("p",{className:"text-gray-500 mt-1 mb-6",children:"Generate a quiz with AI based on your study materials"}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[f.jsxs(me,{variant:"outline",onClick:()=>E(!0),children:[f.jsx(T1,{className:"mr-2 h-4 w-4"}),"Quiz Options"]}),f.jsxs(me,{className:"gradient-bg",onClick:z,disabled:x,children:[x?f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-white mr-2"}):f.jsx(Px,{className:"mr-2 h-4 w-4"}),"Generate Quiz with AI"]})]})]})})]})}function vW({sessionId:n,files:e,onFileUploaded:t}){const[r,s]=S.useState([]),[i,a]=S.useState(""),[o,l]=S.useState(!1),[c,d]=S.useState(!1),h=S.useRef(null),p=S.useRef(null),{toast:m}=ys(),{user:v,checkUsageLimit:g}=ni(),[y,x]=S.useState(!1);S.useEffect(()=>{(async()=>{l(!0);try{const P=await DV(n);s(P)}catch{m({title:"Error",description:"Failed to load chat messages",variant:"destructive"})}finally{l(!1)}})()},[n,m]),S.useEffect(()=>{w()},[r]);const w=()=>{var R;(R=h.current)==null||R.scrollIntoView({behavior:"smooth"})},b=async()=>{if(!i.trim())return;if(!g("chat")){x(!0);return}const R=i;a("");try{const P=await fd(n,{role:"user",content:R});s(k=>[...k,P]),d(!0);try{const k=await aS(R,"medium",e,n),I=await fd(n,{role:"assistant",content:k});s(_=>[..._,I])}catch(k){console.error("Error generating response:",k);const I=await fd(n,{role:"assistant",content:"I'm sorry, I encountered an error processing your request. Please try again."});s(_=>[..._,I]),m({title:"Error",description:"Failed to generate a response",variant:"destructive"})}}catch{m({title:"Error",description:"Failed to send message",variant:"destructive"})}finally{d(!1)}},E=async R=>{if(!g("chat")){x(!0);return}if(!R.target.files||R.target.files.length===0)return;const P=Array.from(R.target.files),k=[];try{for(const I of P){if(I.type!=="application/pdf"){m({title:"Error",description:"Only PDF files are supported",variant:"destructive"});continue}const _=await I.arrayBuffer(),O=btoa(new Uint8Array(_).reduce((D,K)=>D+String.fromCharCode(K),"")),M={name:I.name,url:URL.createObjectURL(I),type:I.type,uploadedAt:new Date().toISOString(),content:O},z=await LV(n,M);t(z),k.push(I.name)}if(k.length>0){const I=k.length===1?`I've uploaded a file: ${k[0]}`:`I've uploaded ${k.length} files: ${k.join(", ")}`,_=await fd(n,{role:"user",content:I});s(O=>[...O,_]),d(!0);try{const O=await aS(`I've uploaded ${k.length>1?"some files":"a file"} to this session.`,"medium",e,n),M=await fd(n,{role:"assistant",content:O});s(z=>[...z,M])}catch(O){console.error("Error generating response about files:",O);const M=await fd(n,{role:"assistant",content:"I've received your files and am processing them in the background. You can ask me questions about them shortly."});s(z=>[...z,M])}m({title:"Files uploaded",description:`${k.length} file(s) have been uploaded and are being processed`})}}catch{m({title:"Error",description:"Failed to upload file(s)",variant:"destructive"})}finally{d(!1),p.current&&(p.current.value="")}},C=R=>new Date(R).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h2",{className:"text-2xl font-semibold",children:"Chat Assistant"}),e.length>0&&f.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600",children:[f.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),f.jsxs("span",{children:[e.length," file",e.length>1?"s":""," available"]})]})]}),f.jsxs(me,{variant:"outline",onClick:()=>{var R;return(R=p.current)==null?void 0:R.click()},className:"flex items-center gap-2",children:[f.jsx(xI,{className:"h-4 w-4"}),"Upload PDF"]})]}),f.jsx("input",{type:"file",ref:p,className:"hidden",accept:".pdf",multiple:!0,onChange:E}),f.jsx(Mi,{className:"border mb-4",children:f.jsxs("div",{className:"h-[500px] flex flex-col",children:[f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[o?f.jsx("div",{className:"flex justify-center items-center h-full",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-purple-500"})}):r.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[f.jsx(MA,{className:"h-12 w-12 text-purple-300 mb-2"}),f.jsx("h3",{className:"text-lg font-medium text-gray-700",children:"Your AI Study Assistant"}),f.jsx("p",{className:"text-gray-500 mt-2 max-w-sm",children:"Ask questions about your study materials or upload PDFs to get help with your studies."})]}):r.map(R=>f.jsx("div",{className:`flex ${R.role==="user"?"justify-end":"justify-start"}`,children:f.jsxs("div",{className:`max-w-[80%] p-3 rounded-lg ${R.role==="user"?"bg-purple-600 text-white rounded-tr-none":"bg-gray-100 text-gray-800 rounded-tl-none"}`,children:[f.jsx("p",{className:"whitespace-pre-wrap",children:R.content}),f.jsx("p",{className:`text-xs mt-1 ${R.role==="user"?"text-purple-200":"text-gray-500"}`,children:C(R.timestamp)})]})},R.id)),c&&f.jsx("div",{className:"flex justify-start",children:f.jsx("div",{className:"bg-gray-100 text-gray-800 p-3 rounded-lg rounded-tl-none max-w-[80%]",children:f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400 animate-pulse"}),f.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400 animate-pulse",style:{animationDelay:"0.2s"}}),f.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400 animate-pulse",style:{animationDelay:"0.4s"}})]})})}),f.jsx("div",{ref:h})]}),f.jsx("div",{className:"border-t p-4",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx(hs,{placeholder:"Ask a question about your study materials...",value:i,onChange:R=>a(R.target.value),onKeyPress:R=>{R.key==="Enter"&&!R.shiftKey&&!c&&(R.preventDefault(),b())},disabled:c}),f.jsx(me,{className:"gradient-bg",onClick:b,disabled:!i.trim()||c,children:f.jsx(x6,{className:"h-4 w-4"})})]})})]})}),f.jsx("div",{className:"text-sm text-gray-500 text-center",children:f.jsx("p",{children:"The AI can help you understand concepts, generate study materials, and answer questions about your uploaded PDFs."})}),f.jsx(OO,{isOpen:y,onClose:()=>x(!1),action:"chat",currentUsage:0,limit:0})]})}var yW={34:(n,e,t)=>{var r=t(4901);n.exports=function(s){return typeof s=="object"?s!==null:r(s)}},81:(n,e,t)=>{var r=t(9565),s=t(9306),i=t(8551),a=t(6823),o=t(851),l=TypeError;n.exports=function(c,d){var h=arguments.length<2?o(c):d;if(s(h))return i(r(h,c));throw new l(a(c)+" is not iterable")}},283:(n,e,t)=>{var r=t(9504),s=t(9039),i=t(4901),a=t(9297),o=t(3724),l=t(350).CONFIGURABLE,c=t(3706),d=t(1181),h=d.enforce,p=d.get,m=String,v=Object.defineProperty,g=r("".slice),y=r("".replace),x=r([].join),w=o&&!s(function(){return v(function(){},"length",{value:8}).length!==8}),b=String(String).split("String"),E=n.exports=function(C,R,P){g(m(R),0,7)==="Symbol("&&(R="["+y(m(R),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),P&&P.getter&&(R="get "+R),P&&P.setter&&(R="set "+R),(!a(C,"name")||l&&C.name!==R)&&(o?v(C,"name",{value:R,configurable:!0}):C.name=R),w&&P&&a(P,"arity")&&C.length!==P.arity&&v(C,"length",{value:P.arity});try{P&&a(P,"constructor")&&P.constructor?o&&v(C,"prototype",{writable:!1}):C.prototype&&(C.prototype=void 0)}catch{}var k=h(C);return a(k,"source")||(k.source=x(b,typeof R=="string"?R:"")),C};Function.prototype.toString=E(function(){return i(this)&&p(this).source||c(this)},"toString")},350:(n,e,t)=>{var r=t(3724),s=t(9297),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,o=s(i,"name"),l=o&&(function(){}).name==="something",c=o&&(!r||r&&a(i,"name").configurable);n.exports={EXISTS:o,PROPER:l,CONFIGURABLE:c}},397:(n,e,t)=>{var r=t(7751);n.exports=r("document","documentElement")},421:n=>{n.exports={}},507:(n,e,t)=>{var r=t(9565);n.exports=function(s,i,a){for(var o=a?s:s.iterator,l=s.next,c,d;!(c=r(l,o)).done;)if(d=i(c.value),d!==void 0)return d}},531:(n,e,t)=>{var r=t(6518),s=t(9565),i=t(9306),a=t(8551),o=t(1767),l=t(8646),c=t(9462),d=t(9539),h=t(6395),p=t(684),m=t(4549),v=!h&&!p("flatMap",function(){}),g=!h&&!v&&m("flatMap",TypeError),y=h||v||g,x=c(function(){for(var w=this.iterator,b=this.mapper,E,C;;){if(C=this.inner)try{if(E=a(s(C.next,C.iterator)),!E.done)return E.value;this.inner=null}catch(R){d(w,"throw",R)}if(E=a(s(this.next,w)),this.done=!!E.done)return;try{this.inner=l(b(E.value,this.counter++),!1)}catch(R){d(w,"throw",R)}}});r({target:"Iterator",proto:!0,real:!0,forced:y},{flatMap:function(b){a(this);try{i(b)}catch(E){d(this,"throw",E)}return g?s(g,this,b):new x(o(this),{mapper:b,inner:null})}})},616:(n,e,t)=>{var r=t(9039);n.exports=!r(function(){var s=(function(){}).bind();return typeof s!="function"||s.hasOwnProperty("prototype")})},655:(n,e,t)=>{var r=t(6955),s=String;n.exports=function(i){if(r(i)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return s(i)}},679:(n,e,t)=>{var r=t(1625),s=TypeError;n.exports=function(i,a){if(r(a,i))return i;throw new s("Incorrect invocation")}},684:n=>{n.exports=function(e,t){var r=typeof Iterator=="function"&&Iterator.prototype[e];if(r)try{r.call({next:null},t).next()}catch{return!0}}},741:n=>{var e=Math.ceil,t=Math.floor;n.exports=Math.trunc||function(s){var i=+s;return(i>0?t:e)(i)}},757:(n,e,t)=>{var r=t(7751),s=t(4901),i=t(1625),a=t(7040),o=Object;n.exports=a?function(l){return typeof l=="symbol"}:function(l){var c=r("Symbol");return s(c)&&i(c.prototype,o(l))}},851:(n,e,t)=>{var r=t(6955),s=t(5966),i=t(4117),a=t(6269),o=t(8227),l=o("iterator");n.exports=function(c){if(!i(c))return s(c,l)||s(c,"@@iterator")||a[r(c)]}},944:n=>{var e=TypeError;n.exports=function(t){var r=t&&t.alphabet;if(r===void 0||r==="base64"||r==="base64url")return r||"base64";throw new e("Incorrect `alphabet` option")}},1072:(n,e,t)=>{var r=t(1828),s=t(8727);n.exports=Object.keys||function(a){return r(a,s)}},1103:n=>{n.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},1148:(n,e,t)=>{var r=t(6518),s=t(9565),i=t(2652),a=t(9306),o=t(8551),l=t(1767),c=t(9539),d=t(4549),h=d("every",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:h},{every:function(m){o(this);try{a(m)}catch(y){c(this,"throw",y)}if(h)return s(h,this,m);var v=l(this),g=0;return!i(v,function(y,x){if(!m(y,g++))return x()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},1181:(n,e,t)=>{var r=t(8622),s=t(4576),i=t(34),a=t(6699),o=t(9297),l=t(7629),c=t(6119),d=t(421),h="Object already initialized",p=s.TypeError,m=s.WeakMap,v,g,y,x=function(C){return y(C)?g(C):v(C,{})},w=function(C){return function(R){var P;if(!i(R)||(P=g(R)).type!==C)throw new p("Incompatible receiver, "+C+" required");return P}};if(r||l.state){var b=l.state||(l.state=new m);b.get=b.get,b.has=b.has,b.set=b.set,v=function(C,R){if(b.has(C))throw new p(h);return R.facade=C,b.set(C,R),R},g=function(C){return b.get(C)||{}},y=function(C){return b.has(C)}}else{var E=c("state");d[E]=!0,v=function(C,R){if(o(C,E))throw new p(h);return R.facade=C,a(C,E,R),R},g=function(C){return o(C,E)?C[E]:{}},y=function(C){return o(C,E)}}n.exports={set:v,get:g,has:y,enforce:x,getterFor:w}},1291:(n,e,t)=>{var r=t(741);n.exports=function(s){var i=+s;return i!==i||i===0?0:r(i)}},1385:(n,e,t)=>{var r=t(9539);n.exports=function(s,i,a){for(var o=s.length-1;o>=0;o--)if(s[o]!==void 0)try{a=r(s[o].iterator,i,a)}catch(l){i="throw",a=l}if(i==="throw")throw a;return a}},1548:(n,e,t)=>{var r=t(4576),s=t(9039),i=t(9519),a=t(4215),o=r.structuredClone;n.exports=!!o&&!s(function(){if(a==="DENO"&&i>92||a==="NODE"&&i>94||a==="BROWSER"&&i>97)return!1;var l=new ArrayBuffer(8),c=o(l,{transfer:[l]});return l.byteLength!==0||c.byteLength!==8})},1549:(n,e,t)=>{var r=t(6518),s=t(4576),i=t(9143),a=t(4154),o=s.Uint8Array,l=!o||!o.prototype.setFromBase64||!function(){var c=new o([255,255,255,255,255]);try{c.setFromBase64("MjYyZg===")}catch{return c[0]===50&&c[1]===54&&c[2]===50&&c[3]===255&&c[4]===255}}();o&&r({target:"Uint8Array",proto:!0,forced:l},{setFromBase64:function(d){a(this);var h=i(d,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:h.read,written:h.written}}})},1625:(n,e,t)=>{var r=t(9504);n.exports=r({}.isPrototypeOf)},1689:(n,e,t)=>{var r=t(6518),s=t(4576),i=t(8745),a=t(7680),o=t(6043),l=t(9306),c=t(1103),d=s.Promise,h=!1,p=!d||!d.try||c(function(){d.try(function(m){h=m===8},8)}).error||!h;r({target:"Promise",stat:!0,forced:p},{try:function(m){var v=arguments.length>1?a(arguments,1):[],g=o.f(this),y=c(function(){return i(l(m),void 0,v)});return(y.error?g.reject:g.resolve)(y.value),g.promise}})},1698:(n,e,t)=>{var r=t(6518),s=t(4204),i=t(9835),a=t(4916),o=!a("union")||!i("union");r({target:"Set",proto:!0,real:!0,forced:o},{union:s})},1701:(n,e,t)=>{var r=t(6518),s=t(9565),i=t(9306),a=t(8551),o=t(1767),l=t(9462),c=t(6319),d=t(9539),h=t(684),p=t(4549),m=t(6395),v=!m&&!h("map",function(){}),g=!m&&!v&&p("map",TypeError),y=m||v||g,x=l(function(){var w=this.iterator,b=a(s(this.next,w)),E=this.done=!!b.done;if(!E)return c(w,this.mapper,[b.value,this.counter++],!0)});r({target:"Iterator",proto:!0,real:!0,forced:y},{map:function(b){a(this);try{i(b)}catch(E){d(this,"throw",E)}return g?s(g,this,b):new x(o(this),{mapper:b})}})},1767:n=>{n.exports=function(e){return{iterator:e,next:e.next,done:!1}}},1828:(n,e,t)=>{var r=t(9504),s=t(9297),i=t(5397),a=t(9617).indexOf,o=t(421),l=r([].push);n.exports=function(c,d){var h=i(c),p=0,m=[],v;for(v in h)!s(o,v)&&s(h,v)&&l(m,v);for(;d.length>p;)s(h,v=d[p++])&&(~a(m,v)||l(m,v));return m}},2106:(n,e,t)=>{var r=t(283),s=t(4913);n.exports=function(i,a,o){return o.get&&r(o.get,a,{getter:!0}),o.set&&r(o.set,a,{setter:!0}),s.f(i,a,o)}},2140:(n,e,t)=>{var r=t(8227),s=r("toStringTag"),i={};i[s]="z",n.exports=String(i)==="[object z]"},2195:(n,e,t)=>{var r=t(9504),s=r({}.toString),i=r("".slice);n.exports=function(a){return i(s(a),8,-1)}},2211:(n,e,t)=>{var r=t(9039);n.exports=!r(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},2303:(n,e,t)=>{var r=t(4576),s=t(9504),i=r.Uint8Array,a=r.SyntaxError,o=r.parseInt,l=Math.min,c=/[^\da-f]/i,d=s(c.exec),h=s("".slice);n.exports=function(p,m){var v=p.length;if(v%2!==0)throw new a("String should be an even number of characters");for(var g=m?l(m.length,v/2):v/2,y=m||new i(g),x=0,w=0;w<g;){var b=h(p,x,x+=2);if(d(c,b))throw new a("String should only contain hex characters");y[w++]=o(b,16)}return{bytes:y,read:x}}},2360:(n,e,t)=>{var r=t(8551),s=t(6801),i=t(8727),a=t(421),o=t(397),l=t(4055),c=t(6119),d=">",h="<",p="prototype",m="script",v=c("IE_PROTO"),g=function(){},y=function(C){return h+m+d+C+h+"/"+m+d},x=function(C){C.write(y("")),C.close();var R=C.parentWindow.Object;return C=null,R},w=function(){var C=l("iframe"),R="java"+m+":",P;return C.style.display="none",o.appendChild(C),C.src=String(R),P=C.contentWindow.document,P.open(),P.write(y("document.F=Object")),P.close(),P.F},b,E=function(){try{b=new ActiveXObject("htmlfile")}catch{}E=typeof document<"u"?document.domain&&b?x(b):w():x(b);for(var C=i.length;C--;)delete E[p][i[C]];return E()};a[v]=!0,n.exports=Object.create||function(R,P){var k;return R!==null?(g[p]=r(R),k=new g,g[p]=null,k[v]=R):k=E(),P===void 0?k:s.f(k,P)}},2475:(n,e,t)=>{var r=t(6518),s=t(8527),i=t(4916),a=!i("isSupersetOf",function(o){return!o});r({target:"Set",proto:!0,real:!0,forced:a},{isSupersetOf:s})},2489:(n,e,t)=>{var r=t(6518),s=t(9565),i=t(9306),a=t(8551),o=t(1767),l=t(9462),c=t(6319),d=t(6395),h=t(9539),p=t(684),m=t(4549),v=!d&&!p("filter",function(){}),g=!d&&!v&&m("filter",TypeError),y=d||v||g,x=l(function(){for(var w=this.iterator,b=this.predicate,E=this.next,C,R,P;;){if(C=a(s(E,w)),R=this.done=!!C.done,R)return;if(P=C.value,c(w,b,[P,this.counter++],!0))return P}});r({target:"Iterator",proto:!0,real:!0,forced:y},{filter:function(b){a(this);try{i(b)}catch(E){h(this,"throw",E)}return g?s(g,this,b):new x(o(this),{predicate:b})}})},2529:n=>{n.exports=function(e,t){return{value:e,done:t}}},2603:(n,e,t)=>{var r=t(655);n.exports=function(s,i){return s===void 0?arguments.length<2?"":i:r(s)}},2652:(n,e,t)=>{var r=t(6080),s=t(9565),i=t(8551),a=t(6823),o=t(4209),l=t(6198),c=t(1625),d=t(81),h=t(851),p=t(9539),m=TypeError,v=function(y,x){this.stopped=y,this.result=x},g=v.prototype;n.exports=function(y,x,w){var b=w&&w.that,E=!!(w&&w.AS_ENTRIES),C=!!(w&&w.IS_RECORD),R=!!(w&&w.IS_ITERATOR),P=!!(w&&w.INTERRUPTED),k=r(x,b),I,_,O,M,z,D,K,B=function($){return I&&p(I,"normal"),new v(!0,$)},U=function($){return E?(i($),P?k($[0],$[1],B):k($[0],$[1])):P?k($,B):k($)};if(C)I=y.iterator;else if(R)I=y;else{if(_=h(y),!_)throw new m(a(y)+" is not iterable");if(o(_)){for(O=0,M=l(y);M>O;O++)if(z=U(y[O]),z&&c(g,z))return z;return new v(!1)}I=d(y,_)}for(D=C?y.next:I.next;!(K=s(D,I)).done;){try{z=U(K.value)}catch($){p(I,"throw",$)}if(typeof z=="object"&&z&&c(g,z))return z}return new v(!1)}},2777:(n,e,t)=>{var r=t(9565),s=t(34),i=t(757),a=t(5966),o=t(4270),l=t(8227),c=TypeError,d=l("toPrimitive");n.exports=function(h,p){if(!s(h)||i(h))return h;var m=a(h,d),v;if(m){if(p===void 0&&(p="default"),v=r(m,h,p),!s(v)||i(v))return v;throw new c("Can't convert object to primitive value")}return p===void 0&&(p="number"),o(h,p)}},2787:(n,e,t)=>{var r=t(9297),s=t(4901),i=t(8981),a=t(6119),o=t(2211),l=a("IE_PROTO"),c=Object,d=c.prototype;n.exports=o?c.getPrototypeOf:function(h){var p=i(h);if(r(p,l))return p[l];var m=p.constructor;return s(m)&&p instanceof m?m.prototype:p instanceof c?d:null}},2796:(n,e,t)=>{var r=t(9039),s=t(4901),i=/#|\.prototype\./,a=function(h,p){var m=l[o(h)];return m===d?!0:m===c?!1:s(p)?r(p):!!p},o=a.normalize=function(h){return String(h).replace(i,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",d=a.POLYFILL="P";n.exports=a},2804:n=>{var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=e+"+/",r=e+"-_",s=function(i){for(var a={},o=0;o<64;o++)a[i.charAt(o)]=o;return a};n.exports={i2c:t,c2i:s(t),i2cUrl:r,c2iUrl:s(r)}},2812:n=>{var e=TypeError;n.exports=function(t,r){if(t<r)throw new e("Not enough arguments");return t}},2839:(n,e,t)=>{var r=t(4576),s=r.navigator,i=s&&s.userAgent;n.exports=i?String(i):""},2967:(n,e,t)=>{var r=t(6706),s=t(34),i=t(7750),a=t(3506);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var o=!1,l={},c;try{c=r(Object.prototype,"__proto__","set"),c(l,[]),o=l instanceof Array}catch{}return function(h,p){return i(h),a(p),s(h)&&(o?c(h,p):h.__proto__=p),h}}():void 0)},3167:(n,e,t)=>{var r=t(4901),s=t(34),i=t(2967);n.exports=function(a,o,l){var c,d;return i&&r(c=o.constructor)&&c!==l&&s(d=c.prototype)&&d!==l.prototype&&i(a,d),a}},3238:(n,e,t)=>{var r=t(4576),s=t(7811),i=t(7394),a=r.DataView;n.exports=function(o){if(!s||i(o)!==0)return!1;try{return new a(o),!1}catch{return!0}}},3392:(n,e,t)=>{var r=t(9504),s=0,i=Math.random(),a=r(1.1.toString);n.exports=function(o){return"Symbol("+(o===void 0?"":o)+")_"+a(++s+i,36)}},3440:(n,e,t)=>{var r=t(7080),s=t(4402),i=t(9286),a=t(5170),o=t(3789),l=t(8469),c=t(507),d=s.has,h=s.remove;n.exports=function(m){var v=r(this),g=o(m),y=i(v);return a(v)<=g.size?l(v,function(x){g.includes(x)&&h(y,x)}):c(g.getIterator(),function(x){d(y,x)&&h(y,x)}),y}},3463:n=>{var e=TypeError;n.exports=function(t){if(typeof t=="string")return t;throw new e("Argument is not a string")}},3506:(n,e,t)=>{var r=t(3925),s=String,i=TypeError;n.exports=function(a){if(r(a))return a;throw new i("Can't set "+s(a)+" as a prototype")}},3579:(n,e,t)=>{var r=t(6518),s=t(9565),i=t(2652),a=t(9306),o=t(8551),l=t(1767),c=t(9539),d=t(4549),h=d("some",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:h},{some:function(m){o(this);try{a(m)}catch(y){c(this,"throw",y)}if(h)return s(h,this,m);var v=l(this),g=0;return i(v,function(y,x){if(m(y,g++))return x()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},3650:(n,e,t)=>{var r=t(7080),s=t(4402),i=t(9286),a=t(3789),o=t(507),l=s.add,c=s.has,d=s.remove;n.exports=function(p){var m=r(this),v=a(p).getIterator(),g=i(m);return o(v,function(y){c(m,y)?d(g,y):l(g,y)}),g}},3706:(n,e,t)=>{var r=t(9504),s=t(4901),i=t(7629),a=r(Function.toString);s(i.inspectSource)||(i.inspectSource=function(o){return a(o)}),n.exports=i.inspectSource},3717:(n,e)=>{e.f=Object.getOwnPropertySymbols},3724:(n,e,t)=>{var r=t(9039);n.exports=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},3789:(n,e,t)=>{var r=t(9306),s=t(8551),i=t(9565),a=t(1291),o=t(1767),l="Invalid size",c=RangeError,d=TypeError,h=Math.max,p=function(m,v){this.set=m,this.size=h(v,0),this.has=r(m.has),this.keys=r(m.keys)};p.prototype={getIterator:function(){return o(s(i(this.keys,this.set)))},includes:function(m){return i(this.has,this.set,m)}},n.exports=function(m){s(m);var v=+m.size;if(v!==v)throw new d(l);var g=a(v);if(g<0)throw new c(l);return new p(m,g)}},3838:(n,e,t)=>{var r=t(7080),s=t(5170),i=t(8469),a=t(3789);n.exports=function(l){var c=r(this),d=a(l);return s(c)>d.size?!1:i(c,function(h){if(!d.includes(h))return!1},!0)!==!1}},3853:(n,e,t)=>{var r=t(6518),s=t(4449),i=t(4916),a=!i("isDisjointFrom",function(o){return!o});r({target:"Set",proto:!0,real:!0,forced:a},{isDisjointFrom:s})},3925:(n,e,t)=>{var r=t(34);n.exports=function(s){return r(s)||s===null}},3972:(n,e,t)=>{var r=t(34),s=String,i=TypeError;n.exports=function(a){if(a===void 0||r(a))return a;throw new i(s(a)+" is not an object or undefined")}},4055:(n,e,t)=>{var r=t(4576),s=t(34),i=r.document,a=s(i)&&s(i.createElement);n.exports=function(o){return a?i.createElement(o):{}}},4114:(n,e,t)=>{var r=t(6518),s=t(8981),i=t(6198),a=t(4527),o=t(6837),l=t(9039),c=l(function(){return[].push.call({length:4294967296},1)!==4294967297}),d=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(p){return p instanceof TypeError}},h=c||!d();r({target:"Array",proto:!0,arity:1,forced:h},{push:function(m){var v=s(this),g=i(v),y=arguments.length;o(g+y);for(var x=0;x<y;x++)v[g]=arguments[x],g++;return a(v,g),g}})},4117:n=>{n.exports=function(e){return e==null}},4149:n=>{var e=RangeError;n.exports=function(t){if(t===t)return t;throw new e("NaN is not allowed")}},4154:(n,e,t)=>{var r=t(6955),s=TypeError;n.exports=function(i){if(r(i)==="Uint8Array")return i;throw new s("Argument is not an Uint8Array")}},4204:(n,e,t)=>{var r=t(7080),s=t(4402).add,i=t(9286),a=t(3789),o=t(507);n.exports=function(c){var d=r(this),h=a(c).getIterator(),p=i(d);return o(h,function(m){s(p,m)}),p}},4209:(n,e,t)=>{var r=t(8227),s=t(6269),i=r("iterator"),a=Array.prototype;n.exports=function(o){return o!==void 0&&(s.Array===o||a[i]===o)}},4215:(n,e,t)=>{var r=t(4576),s=t(2839),i=t(2195),a=function(o){return s.slice(0,o.length)===o};n.exports=function(){return a("Bun/")?"BUN":a("Cloudflare-Workers")?"CLOUDFLARE":a("Deno/")?"DENO":a("Node.js/")?"NODE":r.Bun&&typeof Bun.version=="string"?"BUN":r.Deno&&typeof Deno.version=="object"?"DENO":i(r.process)==="process"?"NODE":r.window&&r.document?"BROWSER":"REST"}()},4270:(n,e,t)=>{var r=t(9565),s=t(4901),i=t(34),a=TypeError;n.exports=function(o,l){var c,d;if(l==="string"&&s(c=o.toString)&&!i(d=r(c,o))||s(c=o.valueOf)&&!i(d=r(c,o))||l!=="string"&&s(c=o.toString)&&!i(d=r(c,o)))return d;throw new a("Can't convert object to primitive value")}},4376:(n,e,t)=>{var r=t(2195);n.exports=Array.isArray||function(i){return r(i)==="Array"}},4402:(n,e,t)=>{var r=t(9504),s=Set.prototype;n.exports={Set,add:r(s.add),has:r(s.has),remove:r(s.delete),proto:s}},4449:(n,e,t)=>{var r=t(7080),s=t(4402).has,i=t(5170),a=t(3789),o=t(8469),l=t(507),c=t(9539);n.exports=function(h){var p=r(this),m=a(h);if(i(p)<=m.size)return o(p,function(g){if(m.includes(g))return!1},!0)!==!1;var v=m.getIterator();return l(v,function(g){if(s(p,g))return c(v,"normal",!1)})!==!1}},4483:(n,e,t)=>{var r=t(4576),s=t(9429),i=t(1548),a=r.structuredClone,o=r.ArrayBuffer,l=r.MessageChannel,c=!1,d,h,p,m;if(i)c=function(v){a(v,{transfer:[v]})};else if(o)try{l||(d=s("worker_threads"),d&&(l=d.MessageChannel)),l&&(h=new l,p=new o(2),m=function(v){h.port1.postMessage(null,[v])},p.byteLength===2&&(m(p),p.byteLength===0&&(c=m)))}catch{}n.exports=c},4495:(n,e,t)=>{var r=t(9519),s=t(9039),i=t(4576),a=i.String;n.exports=!!Object.getOwnPropertySymbols&&!s(function(){var o=Symbol("symbol detection");return!a(o)||!(Object(o)instanceof Symbol)||!Symbol.sham&&r&&r<41})},4527:(n,e,t)=>{var r=t(3724),s=t(4376),i=TypeError,a=Object.getOwnPropertyDescriptor,o=r&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(l){return l instanceof TypeError}}();n.exports=o?function(l,c){if(s(l)&&!a(l,"length").writable)throw new i("Cannot set read only .length");return l.length=c}:function(l,c){return l.length=c}},4549:(n,e,t)=>{var r=t(4576);n.exports=function(s,i){var a=r.Iterator,o=a&&a.prototype,l=o&&o[s],c=!1;if(l)try{l.call({next:function(){return{done:!0}},return:function(){c=!0}},-1)}catch(d){d instanceof i||(c=!1)}if(!c)return l}},4576:function(n){var e=function(t){return t&&t.Math===Math&&t};n.exports=e(typeof globalThis=="object"&&globalThis)||e(typeof window=="object"&&window)||e(typeof self=="object"&&self)||e(typeof global=="object"&&global)||e(typeof this=="object"&&this)||function(){return this}()||Function("return this")()},4603:(n,e,t)=>{var r=t(6840),s=t(9504),i=t(655),a=t(2812),o=URLSearchParams,l=o.prototype,c=s(l.append),d=s(l.delete),h=s(l.forEach),p=s([].push),m=new o("a=1&a=2&b=3");m.delete("a",1),m.delete("b",void 0),m+""!="a=2"&&r(l,"delete",function(v){var g=arguments.length,y=g<2?void 0:arguments[1];if(g&&y===void 0)return d(this,v);var x=[];h(this,function(I,_){p(x,{key:_,value:I})}),a(g,1);for(var w=i(v),b=i(y),E=0,C=0,R=!1,P=x.length,k;E<P;)k=x[E++],R||k.key===w?(R=!0,d(this,k.key)):C++;for(;C<P;)k=x[C++],k.key===w&&k.value===b||c(this,k.key,k.value)},{enumerable:!0,unsafe:!0})},4628:(n,e,t)=>{var r=t(6518),s=t(6043);r({target:"Promise",stat:!0},{withResolvers:function(){var a=s.f(this);return{promise:a.promise,resolve:a.resolve,reject:a.reject}}})},4659:(n,e,t)=>{var r=t(3724),s=t(4913),i=t(6980);n.exports=function(a,o,l){r?s.f(a,o,i(0,l)):a[o]=l}},4901:n=>{var e=typeof document=="object"&&document.all;n.exports=typeof e>"u"&&e!==void 0?function(t){return typeof t=="function"||t===e}:function(t){return typeof t=="function"}},4913:(n,e,t)=>{var r=t(3724),s=t(5917),i=t(8686),a=t(8551),o=t(6969),l=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,h="enumerable",p="configurable",m="writable";e.f=r?i?function(g,y,x){if(a(g),y=o(y),a(x),typeof g=="function"&&y==="prototype"&&"value"in x&&m in x&&!x[m]){var w=d(g,y);w&&w[m]&&(g[y]=x.value,x={configurable:p in x?x[p]:w[p],enumerable:h in x?x[h]:w[h],writable:!1})}return c(g,y,x)}:c:function(g,y,x){if(a(g),y=o(y),a(x),s)try{return c(g,y,x)}catch{}if("get"in x||"set"in x)throw new l("Accessors not supported");return"value"in x&&(g[y]=x.value),g}},4916:(n,e,t)=>{var r=t(7751),s=function(a){return{size:a,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},i=function(a){return{size:a,has:function(){return!0},keys:function(){throw new Error("e")}}};n.exports=function(a,o){var l=r("Set");try{new l()[a](s(0));try{return new l()[a](s(-1)),!1}catch{if(!o)return!0;try{return new l()[a](i(-1/0)),!1}catch{var c=new l;return c.add(1),c.add(2),o(c[a](i(1/0)))}}}catch{return!1}}},4979:(n,e,t)=>{var r=t(6518),s=t(4576),i=t(7751),a=t(6980),o=t(4913).f,l=t(9297),c=t(679),d=t(3167),h=t(2603),p=t(5002),m=t(8574),v=t(3724),g=t(6395),y="DOMException",x=i("Error"),w=i(y),b=function(){c(this,E);var B=arguments.length,U=h(B<1?void 0:arguments[0]),$=h(B<2?void 0:arguments[1],"Error"),F=new w(U,$),H=new x(U);return H.name=y,o(F,"stack",a(1,m(H.stack,1))),d(F,this,b),F},E=b.prototype=w.prototype,C="stack"in new x(y),R="stack"in new w(1,2),P=w&&v&&Object.getOwnPropertyDescriptor(s,y),k=!!P&&!(P.writable&&P.configurable),I=C&&!k&&!R;r({global:!0,constructor:!0,forced:g||I},{DOMException:I?b:w});var _=i(y),O=_.prototype;if(O.constructor!==_){g||o(O,"constructor",a(1,_));for(var M in p)if(l(p,M)){var z=p[M],D=z.s;l(_,D)||o(_,D,a(6,z.c))}}},5002:n=>{n.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},5024:(n,e,t)=>{var r=t(6518),s=t(3650),i=t(9835),a=t(4916),o=!a("symmetricDifference")||!i("symmetricDifference");r({target:"Set",proto:!0,real:!0,forced:o},{symmetricDifference:s})},5031:(n,e,t)=>{var r=t(7751),s=t(9504),i=t(8480),a=t(3717),o=t(8551),l=s([].concat);n.exports=r("Reflect","ownKeys")||function(d){var h=i.f(o(d)),p=a.f;return p?l(h,p(d)):h}},5169:(n,e,t)=>{var r=t(3238),s=TypeError;n.exports=function(i){if(r(i))throw new s("ArrayBuffer is detached");return i}},5170:(n,e,t)=>{var r=t(6706),s=t(4402);n.exports=r(s.proto,"size","get")||function(i){return i.size}},5370:(n,e,t)=>{var r=t(6198);n.exports=function(s,i,a){for(var o=0,l=arguments.length>2?a:r(i),c=new s(l);l>o;)c[o]=i[o++];return c}},5397:(n,e,t)=>{var r=t(7055),s=t(7750);n.exports=function(i){return r(s(i))}},5610:(n,e,t)=>{var r=t(1291),s=Math.max,i=Math.min;n.exports=function(a,o){var l=r(a);return l<0?s(l+o,0):i(l,o)}},5623:(n,e,t)=>{var r=t(6518),s=t(4576),i=t(9504),a=t(4154),o=t(5169),l=i(1.1.toString);s.Uint8Array&&r({target:"Uint8Array",proto:!0},{toHex:function(){a(this),o(this.buffer);for(var d="",h=0,p=this.length;h<p;h++){var m=l(this[h],16);d+=m.length===1?"0"+m:m}return d}})},5636:(n,e,t)=>{var r=t(4576),s=t(9504),i=t(6706),a=t(7696),o=t(5169),l=t(7394),c=t(4483),d=t(1548),h=r.structuredClone,p=r.ArrayBuffer,m=r.DataView,v=Math.min,g=p.prototype,y=m.prototype,x=s(g.slice),w=i(g,"resizable","get"),b=i(g,"maxByteLength","get"),E=s(y.getInt8),C=s(y.setInt8);n.exports=(d||c)&&function(R,P,k){var I=l(R),_=P===void 0?I:a(P),O=!w||!w(R),M;if(o(R),d&&(R=h(R,{transfer:[R]}),I===_&&(k||O)))return R;if(I>=_&&(!k||O))M=x(R,0,_);else{var z=k&&!O&&b?{maxByteLength:b(R)}:void 0;M=new p(_,z);for(var D=new m(R),K=new m(M),B=v(_,I),U=0;U<B;U++)C(K,U,E(D,U))}return d||c(R),M}},5745:(n,e,t)=>{var r=t(7629);n.exports=function(s,i){return r[s]||(r[s]=i||{})}},5781:(n,e,t)=>{var r=t(6518),s=t(7751),i=t(2812),a=t(655),o=t(7416),l=s("URL");r({target:"URL",stat:!0,forced:!o},{parse:function(d){var h=i(arguments.length,1),p=a(d),m=h<2||arguments[1]===void 0?void 0:a(arguments[1]);try{return new l(p,m)}catch{return null}}})},5876:(n,e,t)=>{var r=t(6518),s=t(3838),i=t(4916),a=!i("isSubsetOf",function(o){return o});r({target:"Set",proto:!0,real:!0,forced:a},{isSubsetOf:s})},5917:(n,e,t)=>{var r=t(3724),s=t(9039),i=t(4055);n.exports=!r&&!s(function(){return Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a!==7})},5966:(n,e,t)=>{var r=t(9306),s=t(4117);n.exports=function(i,a){var o=i[a];return s(o)?void 0:r(o)}},6043:(n,e,t)=>{var r=t(9306),s=TypeError,i=function(a){var o,l;this.promise=new a(function(c,d){if(o!==void 0||l!==void 0)throw new s("Bad Promise constructor");o=c,l=d}),this.resolve=r(o),this.reject=r(l)};n.exports.f=function(a){return new i(a)}},6080:(n,e,t)=>{var r=t(7476),s=t(9306),i=t(616),a=r(r.bind);n.exports=function(o,l){return s(o),l===void 0?o:i?a(o,l):function(){return o.apply(l,arguments)}}},6119:(n,e,t)=>{var r=t(5745),s=t(3392),i=r("keys");n.exports=function(a){return i[a]||(i[a]=s(a))}},6193:(n,e,t)=>{var r=t(4215);n.exports=r==="NODE"},6198:(n,e,t)=>{var r=t(8014);n.exports=function(s){return r(s.length)}},6269:n=>{n.exports={}},6279:(n,e,t)=>{var r=t(6840);n.exports=function(s,i,a){for(var o in i)r(s,o,i[o],a);return s}},6319:(n,e,t)=>{var r=t(8551),s=t(9539);n.exports=function(i,a,o,l){try{return l?a(r(o)[0],o[1]):a(o)}catch(c){s(i,"throw",c)}}},6395:n=>{n.exports=!1},6518:(n,e,t)=>{var r=t(4576),s=t(7347).f,i=t(6699),a=t(6840),o=t(9433),l=t(7740),c=t(2796);n.exports=function(d,h){var p=d.target,m=d.global,v=d.stat,g,y,x,w,b,E;if(m?y=r:v?y=r[p]||o(p,{}):y=r[p]&&r[p].prototype,y)for(x in h){if(b=h[x],d.dontCallGetSet?(E=s(y,x),w=E&&E.value):w=y[x],g=c(m?x:p+(v?".":"#")+x,d.forced),!g&&w!==void 0){if(typeof b==typeof w)continue;l(b,w)}(d.sham||w&&w.sham)&&i(b,"sham",!0),a(y,x,b,d)}}},6573:(n,e,t)=>{var r=t(3724),s=t(2106),i=t(3238),a=ArrayBuffer.prototype;r&&!("detached"in a)&&s(a,"detached",{configurable:!0,get:function(){return i(this)}})},6699:(n,e,t)=>{var r=t(3724),s=t(4913),i=t(6980);n.exports=r?function(a,o,l){return s.f(a,o,i(1,l))}:function(a,o,l){return a[o]=l,a}},6706:(n,e,t)=>{var r=t(9504),s=t(9306);n.exports=function(i,a,o){try{return r(s(Object.getOwnPropertyDescriptor(i,a)[o]))}catch{}}},6801:(n,e,t)=>{var r=t(3724),s=t(8686),i=t(4913),a=t(8551),o=t(5397),l=t(1072);e.f=r&&!s?Object.defineProperties:function(d,h){a(d);for(var p=o(h),m=l(h),v=m.length,g=0,y;v>g;)i.f(d,y=m[g++],p[y]);return d}},6823:n=>{var e=String;n.exports=function(t){try{return e(t)}catch{return"Object"}}},6837:n=>{var e=TypeError,t=9007199254740991;n.exports=function(r){if(r>t)throw e("Maximum allowed index exceeded");return r}},6840:(n,e,t)=>{var r=t(4901),s=t(4913),i=t(283),a=t(9433);n.exports=function(o,l,c,d){d||(d={});var h=d.enumerable,p=d.name!==void 0?d.name:l;if(r(c)&&i(c,p,d),d.global)h?o[l]=c:a(l,c);else{try{d.unsafe?o[l]&&(h=!0):delete o[l]}catch{}h?o[l]=c:s.f(o,l,{value:c,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return o}},6955:(n,e,t)=>{var r=t(2140),s=t(4901),i=t(2195),a=t(8227),o=a("toStringTag"),l=Object,c=i(function(){return arguments}())==="Arguments",d=function(h,p){try{return h[p]}catch{}};n.exports=r?i:function(h){var p,m,v;return h===void 0?"Undefined":h===null?"Null":typeof(m=d(p=l(h),o))=="string"?m:c?i(p):(v=i(p))==="Object"&&s(p.callee)?"Arguments":v}},6969:(n,e,t)=>{var r=t(2777),s=t(757);n.exports=function(i){var a=r(i,"string");return s(a)?a:a+""}},6980:n=>{n.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}},7040:(n,e,t)=>{var r=t(4495);n.exports=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},7055:(n,e,t)=>{var r=t(9504),s=t(9039),i=t(2195),a=Object,o=r("".split);n.exports=s(function(){return!a("z").propertyIsEnumerable(0)})?function(l){return i(l)==="String"?o(l,""):a(l)}:a},7080:(n,e,t)=>{var r=t(4402).has;n.exports=function(s){return r(s),s}},7347:(n,e,t)=>{var r=t(3724),s=t(9565),i=t(8773),a=t(6980),o=t(5397),l=t(6969),c=t(9297),d=t(5917),h=Object.getOwnPropertyDescriptor;e.f=r?h:function(m,v){if(m=o(m),v=l(v),d)try{return h(m,v)}catch{}if(c(m,v))return a(!s(i.f,m,v),m[v])}},7394:(n,e,t)=>{var r=t(4576),s=t(6706),i=t(2195),a=r.ArrayBuffer,o=r.TypeError;n.exports=a&&s(a.prototype,"byteLength","get")||function(l){if(i(l)!=="ArrayBuffer")throw new o("ArrayBuffer expected");return l.byteLength}},7416:(n,e,t)=>{var r=t(9039),s=t(8227),i=t(3724),a=t(6395),o=s("iterator");n.exports=!r(function(){var l=new URL("b?a=1&b=2&c=3","https://a"),c=l.searchParams,d=new URLSearchParams("a=1&a=2&b=3"),h="";return l.pathname="c%20d",c.forEach(function(p,m){c.delete("b"),h+=m+p}),d.delete("a",2),d.delete("b",void 0),a&&(!l.toJSON||!d.has("a",1)||d.has("a",2)||!d.has("a",void 0)||d.has("b"))||!c.size&&(a||!i)||!c.sort||l.href!=="https://a/c%20d?a=1&c=3"||c.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!c[o]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://").host!=="xn--e1aybc"||new URL("https://a#").hash!=="#%D0%B1"||h!=="a1c3"||new URL("https://x",void 0).host!=="x"})},7476:(n,e,t)=>{var r=t(2195),s=t(9504);n.exports=function(i){if(r(i)==="Function")return s(i)}},7566:(n,e,t)=>{var r=t(6840),s=t(9504),i=t(655),a=t(2812),o=URLSearchParams,l=o.prototype,c=s(l.getAll),d=s(l.has),h=new o("a=1");(h.has("a",2)||!h.has("a",void 0))&&r(l,"has",function(m){var v=arguments.length,g=v<2?void 0:arguments[1];if(v&&g===void 0)return d(this,m);var y=c(this,m);a(v,1);for(var x=i(g),w=0;w<y.length;)if(y[w++]===x)return!0;return!1},{enumerable:!0,unsafe:!0})},7629:(n,e,t)=>{var r=t(6395),s=t(4576),i=t(9433),a="__core-js_shared__",o=n.exports=s[a]||i(a,{});(o.versions||(o.versions=[])).push({version:"3.43.0",mode:r?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.43.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7642:(n,e,t)=>{var r=t(6518),s=t(3440),i=t(9039),a=t(4916),o=!a("difference",function(c){return c.size===0}),l=o||i(function(){var c={size:1,has:function(){return!0},keys:function(){var h=0;return{next:function(){var p=h++>1;return d.has(1)&&d.clear(),{done:p,value:2}}}}},d=new Set([1,2,3,4]);return d.difference(c).size!==3});r({target:"Set",proto:!0,real:!0,forced:l},{difference:s})},7657:(n,e,t)=>{var r=t(9039),s=t(4901),i=t(34),a=t(2360),o=t(2787),l=t(6840),c=t(8227),d=t(6395),h=c("iterator"),p=!1,m,v,g;[].keys&&(g=[].keys(),"next"in g?(v=o(o(g)),v!==Object.prototype&&(m=v)):p=!0);var y=!i(m)||r(function(){var x={};return m[h].call(x)!==x});y?m={}:d&&(m=a(m)),s(m[h])||l(m,h,function(){return this}),n.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:p}},7680:(n,e,t)=>{var r=t(9504);n.exports=r([].slice)},7696:(n,e,t)=>{var r=t(1291),s=t(8014),i=RangeError;n.exports=function(a){if(a===void 0)return 0;var o=r(a),l=s(o);if(o!==l)throw new i("Wrong length or index");return l}},7740:(n,e,t)=>{var r=t(9297),s=t(5031),i=t(7347),a=t(4913);n.exports=function(o,l,c){for(var d=s(l),h=a.f,p=i.f,m=0;m<d.length;m++){var v=d[m];!r(o,v)&&!(c&&r(c,v))&&h(o,v,p(l,v))}}},7750:(n,e,t)=>{var r=t(4117),s=TypeError;n.exports=function(i){if(r(i))throw new s("Can't call method on "+i);return i}},7751:(n,e,t)=>{var r=t(4576),s=t(4901),i=function(a){return s(a)?a:void 0};n.exports=function(a,o){return arguments.length<2?i(r[a]):r[a]&&r[a][o]}},7811:n=>{n.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},7936:(n,e,t)=>{var r=t(6518),s=t(5636);s&&r({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return s(this,arguments.length?arguments[0]:void 0,!1)}})},8004:(n,e,t)=>{var r=t(6518),s=t(9039),i=t(8750),a=t(4916),o=!a("intersection",function(l){return l.size===2&&l.has(1)&&l.has(2)})||s(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});r({target:"Set",proto:!0,real:!0,forced:o},{intersection:i})},8014:(n,e,t)=>{var r=t(1291),s=Math.min;n.exports=function(i){var a=r(i);return a>0?s(a,9007199254740991):0}},8100:(n,e,t)=>{var r=t(6518),s=t(5636);s&&r({target:"ArrayBuffer",proto:!0},{transfer:function(){return s(this,arguments.length?arguments[0]:void 0,!0)}})},8111:(n,e,t)=>{var r=t(6518),s=t(4576),i=t(679),a=t(8551),o=t(4901),l=t(2787),c=t(2106),d=t(4659),h=t(9039),p=t(9297),m=t(8227),v=t(7657).IteratorPrototype,g=t(3724),y=t(6395),x="constructor",w="Iterator",b=m("toStringTag"),E=TypeError,C=s[w],R=y||!o(C)||C.prototype!==v||!h(function(){C({})}),P=function(){if(i(this,v),l(this)===v)throw new E("Abstract class Iterator not directly constructable")},k=function(I,_){g?c(v,I,{configurable:!0,get:function(){return _},set:function(O){if(a(this),this===v)throw new E("You can't redefine this property");p(this,I)?this[I]=O:d(this,I,O)}}):v[I]=_};p(v,b)||k(b,w),(R||!p(v,x)||v[x]===Object)&&k(x,P),P.prototype=v,r({global:!0,constructor:!0,forced:R},{Iterator:P})},8227:(n,e,t)=>{var r=t(4576),s=t(5745),i=t(9297),a=t(3392),o=t(4495),l=t(7040),c=r.Symbol,d=s("wks"),h=l?c.for||c:c&&c.withoutSetter||a;n.exports=function(p){return i(d,p)||(d[p]=o&&i(c,p)?c[p]:h("Symbol."+p)),d[p]}},8235:(n,e,t)=>{var r=t(9504),s=t(9297),i=SyntaxError,a=parseInt,o=String.fromCharCode,l=r("".charAt),c=r("".slice),d=r(/./.exec),h={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},p=/^[\da-f]{4}$/i,m=/^[\u0000-\u001F]$/;n.exports=function(v,g){for(var y=!0,x="";g<v.length;){var w=l(v,g);if(w==="\\"){var b=c(v,g,g+2);if(s(h,b))x+=h[b],g+=2;else if(b==="\\u"){g+=2;var E=c(v,g,g+4);if(!d(p,E))throw new i("Bad Unicode escape at: "+g);x+=o(a(E,16)),g+=4}else throw new i('Unknown escape sequence: "'+b+'"')}else if(w==='"'){y=!1,g++;break}else{if(d(m,w))throw new i("Bad control character in string literal at: "+g);x+=w,g++}}if(y)throw new i("Unterminated string at: "+g);return{value:x,end:g}}},8237:(n,e,t)=>{var r=t(6518),s=t(2652),i=t(9306),a=t(8551),o=t(1767),l=t(9539),c=t(4549),d=t(8745),h=t(9039),p=TypeError,m=h(function(){[].keys().reduce(function(){},void 0)}),v=!m&&c("reduce",p);r({target:"Iterator",proto:!0,real:!0,forced:m||v},{reduce:function(y){a(this);try{i(y)}catch(C){l(this,"throw",C)}var x=arguments.length<2,w=x?void 0:arguments[1];if(v)return d(v,this,x?[y]:[y,w]);var b=o(this),E=0;if(s(b,function(C){x?(x=!1,w=C):w=y(w,C,E),E++},{IS_RECORD:!0}),x)throw new p("Reduce of empty iterator with no initial value");return w}})},8335:(n,e,t)=>{var r=t(6518),s=t(3724),i=t(4576),a=t(7751),o=t(9504),l=t(9565),c=t(4901),d=t(34),h=t(4376),p=t(9297),m=t(655),v=t(6198),g=t(4659),y=t(9039),x=t(8235),w=t(4495),b=i.JSON,E=i.Number,C=i.SyntaxError,R=b&&b.parse,P=a("Object","keys"),k=Object.getOwnPropertyDescriptor,I=o("".charAt),_=o("".slice),O=o(/./.exec),M=o([].push),z=/^\d$/,D=/^[1-9]$/,K=/^[\d-]$/,B=/^[\t\n\r ]$/,U=0,$=1,F=function(Q,L){Q=m(Q);var W=new te(Q,0),Y=W.parse(),ie=Y.value,de=W.skip(B,Y.end);if(de<Q.length)throw new C('Unexpected extra character: "'+I(Q,de)+'" after the parsed data at: '+de);return c(L)?H({"":ie},"",L,Y):ie},H=function(Q,L,W,Y){var ie=Q[L],de=Y&&ie===Y.value,Ae=de&&typeof Y.source=="string"?{source:Y.source}:{},nt,_t,Ln,Nt,Fn;if(d(ie)){var Yi=h(ie),ir=de?Y.nodes:Yi?[]:{};if(Yi)for(nt=ir.length,Ln=v(ie),Nt=0;Nt<Ln;Nt++)J(ie,Nt,H(ie,""+Nt,W,Nt<nt?ir[Nt]:void 0));else for(_t=P(ie),Ln=v(_t),Nt=0;Nt<Ln;Nt++)Fn=_t[Nt],J(ie,Fn,H(ie,Fn,W,p(ir,Fn)?ir[Fn]:void 0))}return l(W,Q,L,ie,Ae)},J=function(Q,L,W){if(s){var Y=k(Q,L);if(Y&&!Y.configurable)return}W===void 0?delete Q[L]:g(Q,L,W)},Z=function(Q,L,W,Y){this.value=Q,this.end=L,this.source=W,this.nodes=Y},te=function(Q,L){this.source=Q,this.index=L};te.prototype={fork:function(Q){return new te(this.source,Q)},parse:function(){var Q=this.source,L=this.skip(B,this.index),W=this.fork(L),Y=I(Q,L);if(O(K,Y))return W.number();switch(Y){case"{":return W.object();case"[":return W.array();case'"':return W.string();case"t":return W.keyword(!0);case"f":return W.keyword(!1);case"n":return W.keyword(null)}throw new C('Unexpected character: "'+Y+'" at: '+L)},node:function(Q,L,W,Y,ie){return new Z(L,Y,Q?null:_(this.source,W,Y),ie)},object:function(){for(var Q=this.source,L=this.index+1,W=!1,Y={},ie={};L<Q.length;){if(L=this.until(['"',"}"],L),I(Q,L)==="}"&&!W){L++;break}var de=this.fork(L).string(),Ae=de.value;L=de.end,L=this.until([":"],L)+1,L=this.skip(B,L),de=this.fork(L).parse(),g(ie,Ae,de),g(Y,Ae,de.value),L=this.until([",","}"],de.end);var nt=I(Q,L);if(nt===",")W=!0,L++;else if(nt==="}"){L++;break}}return this.node($,Y,this.index,L,ie)},array:function(){for(var Q=this.source,L=this.index+1,W=!1,Y=[],ie=[];L<Q.length;){if(L=this.skip(B,L),I(Q,L)==="]"&&!W){L++;break}var de=this.fork(L).parse();if(M(ie,de),M(Y,de.value),L=this.until([",","]"],de.end),I(Q,L)===",")W=!0,L++;else if(I(Q,L)==="]"){L++;break}}return this.node($,Y,this.index,L,ie)},string:function(){var Q=this.index,L=x(this.source,this.index+1);return this.node(U,L.value,Q,L.end)},number:function(){var Q=this.source,L=this.index,W=L;if(I(Q,W)==="-"&&W++,I(Q,W)==="0")W++;else if(O(D,I(Q,W)))W=this.skip(z,W+1);else throw new C("Failed to parse number at: "+W);if(I(Q,W)==="."&&(W=this.skip(z,W+1)),I(Q,W)==="e"||I(Q,W)==="E"){W++,(I(Q,W)==="+"||I(Q,W)==="-")&&W++;var Y=W;if(W=this.skip(z,W),Y===W)throw new C("Failed to parse number's exponent value at: "+W)}return this.node(U,E(_(Q,L,W)),L,W)},keyword:function(Q){var L=""+Q,W=this.index,Y=W+L.length;if(_(this.source,W,Y)!==L)throw new C("Failed to parse value at: "+W);return this.node(U,Q,W,Y)},skip:function(Q,L){for(var W=this.source;L<W.length&&O(Q,I(W,L));L++);return L},until:function(Q,L){L=this.skip(B,L);for(var W=I(this.source,L),Y=0;Y<Q.length;Y++)if(Q[Y]===W)return L;throw new C('Unexpected character: "'+W+'" at: '+L)}};var ye=y(function(){var Q="9007199254740993",L;return R(Q,function(W,Y,ie){L=ie.source}),L!==Q}),Ne=w&&!y(function(){return 1/R("-0 	")!==-1/0});r({target:"JSON",stat:!0,forced:ye},{parse:function(L,W){return Ne&&!c(W)?R(L):F(L,W)}})},8469:(n,e,t)=>{var r=t(9504),s=t(507),i=t(4402),a=i.Set,o=i.proto,l=r(o.forEach),c=r(o.keys),d=c(new a).next;n.exports=function(h,p,m){return m?s({iterator:c(h),next:d},p):l(h,p)}},8480:(n,e,t)=>{var r=t(1828),s=t(8727),i=s.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(o){return r(o,i)}},8527:(n,e,t)=>{var r=t(7080),s=t(4402).has,i=t(5170),a=t(3789),o=t(507),l=t(9539);n.exports=function(d){var h=r(this),p=a(d);if(i(h)<p.size)return!1;var m=p.getIterator();return o(m,function(v){if(!s(h,v))return l(m,"normal",!1)})!==!1}},8551:(n,e,t)=>{var r=t(34),s=String,i=TypeError;n.exports=function(a){if(r(a))return a;throw new i(s(a)+" is not an object")}},8574:(n,e,t)=>{var r=t(9504),s=Error,i=r("".replace),a=function(c){return String(new s(c).stack)}("zxcasd"),o=/\n\s*at [^:]*:[^\n]*/,l=o.test(a);n.exports=function(c,d){if(l&&typeof c=="string"&&!s.prepareStackTrace)for(;d--;)c=i(c,o,"");return c}},8622:(n,e,t)=>{var r=t(4576),s=t(4901),i=r.WeakMap;n.exports=s(i)&&/native code/.test(String(i))},8646:(n,e,t)=>{var r=t(9565),s=t(8551),i=t(1767),a=t(851);n.exports=function(o,l){(!l||typeof o!="string")&&s(o);var c=a(o);return i(s(c!==void 0?r(c,o):o))}},8686:(n,e,t)=>{var r=t(3724),s=t(9039);n.exports=r&&s(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},8721:(n,e,t)=>{var r=t(3724),s=t(9504),i=t(2106),a=URLSearchParams.prototype,o=s(a.forEach);r&&!("size"in a)&&i(a,"size",{get:function(){var c=0;return o(this,function(){c++}),c},configurable:!0,enumerable:!0})},8727:n=>{n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8745:(n,e,t)=>{var r=t(616),s=Function.prototype,i=s.apply,a=s.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},8750:(n,e,t)=>{var r=t(7080),s=t(4402),i=t(5170),a=t(3789),o=t(8469),l=t(507),c=s.Set,d=s.add,h=s.has;n.exports=function(m){var v=r(this),g=a(m),y=new c;return i(v)>g.size?l(g.getIterator(),function(x){h(v,x)&&d(y,x)}):o(v,function(x){g.includes(x)&&d(y,x)}),y}},8773:(n,e)=>{var t={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,s=r&&!t.call({1:2},1);e.f=s?function(a){var o=r(this,a);return!!o&&o.enumerable}:t},8981:(n,e,t)=>{var r=t(7750),s=Object;n.exports=function(i){return s(r(i))}},9039:n=>{n.exports=function(e){try{return!!e()}catch{return!0}}},9143:(n,e,t)=>{var r=t(4576),s=t(9504),i=t(3972),a=t(3463),o=t(9297),l=t(2804),c=t(944),d=t(5169),h=l.c2i,p=l.c2iUrl,m=r.SyntaxError,v=r.TypeError,g=s("".charAt),y=function(b,E){for(var C=b.length;E<C;E++){var R=g(b,E);if(R!==" "&&R!=="	"&&R!==`
`&&R!=="\f"&&R!=="\r")break}return E},x=function(b,E,C){var R=b.length;R<4&&(b+=R===2?"AA":"A");var P=(E[g(b,0)]<<18)+(E[g(b,1)]<<12)+(E[g(b,2)]<<6)+E[g(b,3)],k=[P>>16&255,P>>8&255,P&255];if(R===2){if(C&&k[1]!==0)throw new m("Extra bits");return[k[0]]}if(R===3){if(C&&k[2]!==0)throw new m("Extra bits");return[k[0],k[1]]}return k},w=function(b,E,C){for(var R=E.length,P=0;P<R;P++)b[C+P]=E[P];return C+R};n.exports=function(b,E,C,R){a(b),i(E);var P=c(E)==="base64"?h:p,k=E?E.lastChunkHandling:void 0;if(k===void 0&&(k="loose"),k!=="loose"&&k!=="strict"&&k!=="stop-before-partial")throw new v("Incorrect `lastChunkHandling` option");C&&d(C.buffer);var I=C||[],_=0,O=0,M="",z=0;if(R)for(;;){if(z=y(b,z),z===b.length){if(M.length>0){if(k==="stop-before-partial")break;if(k==="loose"){if(M.length===1)throw new m("Malformed padding: exactly one additional character");_=w(I,x(M,P,!1),_)}else throw new m("Missing padding")}O=b.length;break}var D=g(b,z);if(++z,D==="="){if(M.length<2)throw new m("Padding is too early");if(z=y(b,z),M.length===2){if(z===b.length){if(k==="stop-before-partial")break;throw new m("Malformed padding: only one =")}g(b,z)==="="&&(++z,z=y(b,z))}if(z<b.length)throw new m("Unexpected character after padding");_=w(I,x(M,P,k==="strict"),_),O=b.length;break}if(!o(P,D))throw new m("Unexpected character");var K=R-_;if(K===1&&M.length===2||K===2&&M.length===3||(M+=D,M.length===4&&(_=w(I,x(M,P,!1),_),M="",O=z,_===R)))break}return{bytes:I,read:O,written:_}}},9286:(n,e,t)=>{var r=t(4402),s=t(8469),i=r.Set,a=r.add;n.exports=function(o){var l=new i;return s(o,function(c){a(l,c)}),l}},9297:(n,e,t)=>{var r=t(9504),s=t(8981),i=r({}.hasOwnProperty);n.exports=Object.hasOwn||function(o,l){return i(s(o),l)}},9306:(n,e,t)=>{var r=t(4901),s=t(6823),i=TypeError;n.exports=function(a){if(r(a))return a;throw new i(s(a)+" is not a function")}},9314:(n,e,t)=>{var r=t(6518),s=t(9565),i=t(8551),a=t(1767),o=t(4149),l=t(9590),c=t(9539),d=t(9462),h=t(684),p=t(4549),m=t(6395),v=!m&&!h("drop",0),g=!m&&!v&&p("drop",RangeError),y=m||v||g,x=d(function(){for(var w=this.iterator,b=this.next,E,C;this.remaining;)if(this.remaining--,E=i(s(b,w)),C=this.done=!!E.done,C)return;if(E=i(s(b,w)),C=this.done=!!E.done,!C)return E.value});r({target:"Iterator",proto:!0,real:!0,forced:y},{drop:function(b){i(this);var E;try{E=l(o(+b))}catch(C){c(this,"throw",C)}return g?s(g,this,E):new x(a(this),{remaining:E})}})},9429:(n,e,t)=>{var r=t(4576),s=t(6193);n.exports=function(i){if(s){try{return r.process.getBuiltinModule(i)}catch{}try{return Function('return require("'+i+'")')()}catch{}}}},9432:(n,e,t)=>{var r=t(6518),s=t(4576),i=t(5370),a=t(9143),o=s.Uint8Array;o&&r({target:"Uint8Array",stat:!0},{fromBase64:function(c){var d=a(c,arguments.length>1?arguments[1]:void 0,null,9007199254740991);return i(o,d.bytes)}})},9433:(n,e,t)=>{var r=t(4576),s=Object.defineProperty;n.exports=function(i,a){try{s(r,i,{value:a,configurable:!0,writable:!0})}catch{r[i]=a}return a}},9462:(n,e,t)=>{var r=t(9565),s=t(2360),i=t(6699),a=t(6279),o=t(8227),l=t(1181),c=t(5966),d=t(7657).IteratorPrototype,h=t(2529),p=t(9539),m=t(1385),v=o("toStringTag"),g="IteratorHelper",y="WrapForValidIterator",x="normal",w="throw",b=l.set,E=function(P){var k=l.getterFor(P?y:g);return a(s(d),{next:function(){var _=k(this);if(P)return _.nextHandler();if(_.done)return h(void 0,!0);try{var O=_.nextHandler();return _.returnHandlerResult?O:h(O,_.done)}catch(M){throw _.done=!0,M}},return:function(){var I=k(this),_=I.iterator;if(I.done=!0,P){var O=c(_,"return");return O?r(O,_):h(void 0,!0)}if(I.inner)try{p(I.inner.iterator,x)}catch(M){return p(_,w,M)}if(I.openIters)try{m(I.openIters,x)}catch(M){return p(_,w,M)}return _&&p(_,x),h(void 0,!0)}})},C=E(!0),R=E(!1);i(R,v,"Iterator Helper"),n.exports=function(P,k,I){var _=function(M,z){z?(z.iterator=M.iterator,z.next=M.next):z=M,z.type=k?y:g,z.returnHandlerResult=!!I,z.nextHandler=P,z.counter=0,z.done=!1,b(this,z)};return _.prototype=k?C:R,_}},9504:(n,e,t)=>{var r=t(616),s=Function.prototype,i=s.call,a=r&&s.bind.bind(i,i);n.exports=r?a:function(o){return function(){return i.apply(o,arguments)}}},9519:(n,e,t)=>{var r=t(4576),s=t(2839),i=r.process,a=r.Deno,o=i&&i.versions||a&&a.version,l=o&&o.v8,c,d;l&&(c=l.split("."),d=c[0]>0&&c[0]<4?1:+(c[0]+c[1])),!d&&s&&(c=s.match(/Edge\/(\d+)/),(!c||c[1]>=74)&&(c=s.match(/Chrome\/(\d+)/),c&&(d=+c[1]))),n.exports=d},9539:(n,e,t)=>{var r=t(9565),s=t(8551),i=t(5966);n.exports=function(a,o,l){var c,d;s(a);try{if(c=i(a,"return"),!c){if(o==="throw")throw l;return l}c=r(c,a)}catch(h){d=!0,c=h}if(o==="throw")throw l;if(d)throw c;return s(c),l}},9565:(n,e,t)=>{var r=t(616),s=Function.prototype.call;n.exports=r?s.bind(s):function(){return s.apply(s,arguments)}},9590:(n,e,t)=>{var r=t(1291),s=RangeError;n.exports=function(i){var a=r(i);if(a<0)throw new s("The argument can't be less than 0");return a}},9617:(n,e,t)=>{var r=t(5397),s=t(5610),i=t(6198),a=function(o){return function(l,c,d){var h=r(l),p=i(h);if(p===0)return!o&&-1;var m=s(d,p),v;if(o&&c!==c){for(;p>m;)if(v=h[m++],v!==v)return!0}else for(;p>m;m++)if((o||m in h)&&h[m]===c)return o||m||0;return!o&&-1}};n.exports={includes:a(!0),indexOf:a(!1)}},9631:(n,e,t)=>{var r=t(6518),s=t(4576),i=t(9504),a=t(3972),o=t(4154),l=t(5169),c=t(2804),d=t(944),h=c.i2c,p=c.i2cUrl,m=i("".charAt);s.Uint8Array&&r({target:"Uint8Array",proto:!0},{toBase64:function(){var g=o(this),y=arguments.length?a(arguments[0]):void 0,x=d(y)==="base64"?h:p,w=!!y&&!!y.omitPadding;l(this.buffer);for(var b="",E=0,C=g.length,R,P=function(k){return m(x,R>>6*k&63)};E+2<C;E+=3)R=(g[E]<<16)+(g[E+1]<<8)+g[E+2],b+=P(3)+P(2)+P(1)+P(0);return E+2===C?(R=(g[E]<<16)+(g[E+1]<<8),b+=P(3)+P(2)+P(1)+(w?"":"=")):E+1===C&&(R=g[E]<<16,b+=P(3)+P(2)+(w?"":"==")),b}})},9797:(n,e,t)=>{var r=t(6518),s=t(4576),i=t(3463),a=t(4154),o=t(5169),l=t(2303);s.Uint8Array&&r({target:"Uint8Array",proto:!0},{setFromHex:function(d){a(this),i(d),o(this.buffer);var h=l(d,this).read;return{read:h,written:h/2}}})},9835:n=>{n.exports=function(e){try{var t=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return t.clear(),t.add(4),function(){return{done:!0}}}})}},s=t[e](r);return s.size!==1||s.values().next().value!==4}catch{return!1}}}},WN={};function Xe(n){var e=WN[n];if(e!==void 0)return e.exports;var t=WN[n]={exports:{}};return yW[n].call(t.exports,t,t.exports,Xe),t.exports}Xe(4114);Xe(6573);Xe(8100);Xe(7936);Xe(8111);Xe(8237);Xe(1689);Xe(9432);Xe(1549);Xe(9797);Xe(9631);Xe(5623);Xe(4979);Xe(5781);const Gn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),mS=[.001,0,0,.001,0,0],bb=1.35,Fr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},To={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},vD="pdfjs_internal_editor_",Pe={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},Ve={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},xW={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Pn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Ry={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},zt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},gd={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},xw={ERRORS:0,WARNINGS:1,INFOS:5},qx={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},ty={moveTo:0,lineTo:1,curveTo:2,closePath:3},wW={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let ww=xw.WARNINGS;function bW(n){Number.isInteger(n)&&(ww=n)}function SW(){return ww}function bw(n){ww>=xw.INFOS&&console.log(`Info: ${n}`)}function Re(n){ww>=xw.WARNINGS&&console.log(`Warning: ${n}`)}function ct(n){throw new Error(n)}function Wt(n,e){n||ct(e)}function EW(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function yD(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const s=n.match(/\./g);(s==null?void 0:s.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=NW(n)}catch{}}const r=e?URL.parse(n,e):URL.parse(n);return EW(r)?r:null}function xD(n,e,t=!1){const r=URL.parse(n);return r?(r.hash=e,r.href):t&&yD(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function ze(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const ad=function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class GN extends ad{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Sb extends ad{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class gS extends ad{constructor(e){super(e,"InvalidPDFException")}}class e0 extends ad{constructor(e,t,r){super(e,"ResponseException"),this.status=t,this.missing=r}}class AW extends ad{constructor(e){super(e,"FormatError")}}class Vl extends ad{constructor(e){super(e,"AbortException")}}function wD(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&ct("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let s=0;s<e;s+=t){const i=Math.min(s+t,e),a=n.subarray(s,i);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function xv(n){typeof n!="string"&&ct("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function CW(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function TW(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function RW(){try{return new Function(""),!0}catch{return!1}}class An{static get isLittleEndian(){return ze(this,"isLittleEndian",TW())}static get isEvalSupported(){return ze(this,"isEvalSupported",RW())}static get isOffscreenCanvasSupported(){return ze(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return ze(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return ze(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return ze(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Eb=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Za,Ny,vS;class Ee{static makeHexColor(e,t,r){return`#${Eb[e]}${Eb[t]}${Eb[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,r=0){const s=e[r],i=e[r+1];e[r]=s*t[0]+i*t[2]+t[4],e[r+1]=s*t[1]+i*t[3]+t[5]}static applyTransformToBezier(e,t,r=0){const s=t[0],i=t[1],a=t[2],o=t[3],l=t[4],c=t[5];for(let d=0;d<6;d+=2){const h=e[r+d],p=e[r+d+1];e[r+d]=h*s+p*a+l,e[r+d+1]=h*i+p*o+c}}static applyInverseTransform(e,t){const r=e[0],s=e[1],i=t[0]*t[3]-t[1]*t[2];e[0]=(r*t[3]-s*t[2]+t[2]*t[5]-t[4]*t[3])/i,e[1]=(-r*t[1]+s*t[0]+t[4]*t[1]-t[5]*t[0])/i}static axialAlignedBoundingBox(e,t,r){const s=t[0],i=t[1],a=t[2],o=t[3],l=t[4],c=t[5],d=e[0],h=e[1],p=e[2],m=e[3];let v=s*d+l,g=v,y=s*p+l,x=y,w=o*h+c,b=w,E=o*m+c,C=E;if(i!==0||a!==0){const R=i*d,P=i*p,k=a*h,I=a*m;v+=k,x+=k,y+=I,g+=I,w+=R,C+=R,E+=P,b+=P}r[0]=Math.min(r[0],v,y,g,x),r[1]=Math.min(r[1],w,E,b,C),r[2]=Math.max(r[2],v,y,g,x),r[3]=Math.max(r[3],w,E,b,C)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const r=e[0],s=e[1],i=e[2],a=e[3],o=r**2+s**2,l=r*i+s*a,c=i**2+a**2,d=(o+c)/2,h=Math.sqrt(d**2-(o*c-l**2));t[0]=Math.sqrt(d+h||1),t[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>s)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>a?null:[r,i,s,a]}static pointBoundingBox(e,t,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}static rectBoundingBox(e,t,r,s,i){i[0]=Math.min(i[0],e,r),i[1]=Math.min(i[1],t,s),i[2]=Math.max(i[2],e,r),i[3]=Math.max(i[3],t,s)}static bezierBoundingBox(e,t,r,s,i,a,o,l,c){c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],t,l),N(this,Za,vS).call(this,e,r,i,o,t,s,a,l,3*(-e+3*(r-i)+o),6*(e-2*r+i),3*(r-e),c),N(this,Za,vS).call(this,e,r,i,o,t,s,a,l,3*(-t+3*(s-a)+l),6*(t-2*s+a),3*(s-t),c)}}Za=new WeakSet,Ny=function(e,t,r,s,i,a,o,l,c,d){if(c<=0||c>=1)return;const h=1-c,p=c*c,m=p*c,v=h*(h*(h*e+3*c*t)+3*p*r)+m*s,g=h*(h*(h*i+3*c*a)+3*p*o)+m*l;d[0]=Math.min(d[0],v),d[1]=Math.min(d[1],g),d[2]=Math.max(d[2],v),d[3]=Math.max(d[3],g)},vS=function(e,t,r,s,i,a,o,l,c,d,h,p){if(Math.abs(c)<1e-12){Math.abs(d)>=1e-12&&N(this,Za,Ny).call(this,e,t,r,s,i,a,o,l,-h/d,p);return}const m=d**2-4*h*c;if(m<0)return;const v=Math.sqrt(m),g=2*c;N(this,Za,Ny).call(this,e,t,r,s,i,a,o,l,(-d+v)/g,p),N(this,Za,Ny).call(this,e,t,r,s,i,a,o,l,(-d-v)/g,p)},T(Ee,Za);function NW(n){return decodeURIComponent(escape(n))}let Ab=null,KN=null;function PW(n){return Ab||(Ab=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,KN=new Map([["","t"]])),n.replaceAll(Ab,(e,t,r)=>t?t.normalize("NFKC"):KN.get(r))}function bD(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),wD(n)}const FC="pdfjs_internal_id_";function kW(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[r,s,...i]=t;if(!n(r)&&!Number.isInteger(r)||!e(s))return!1;const a=i.length;let o=!0;switch(s.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of i)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function Kn(n,e,t){return Math.min(Math.max(n,e),t)}function SD(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(wD(n))}function IW(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):xv(atob(n))}typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});typeof AbortSignal.any!="function"&&(AbortSignal.any=function(n){const e=new AbortController,{signal:t}=e;for(const r of n)if(r.aborted)return e.abort(r.reason),t;for(const r of n)r.addEventListener("abort",()=>{e.abort(r.reason)},{signal:t});return t});Xe(1701);Xe(4628);Xe(7642);Xe(8004);Xe(3853);Xe(5876);Xe(2475);Xe(5024);Xe(1698);Xe(4603);Xe(7566);Xe(8721);Xe(9314);Xe(1148);Xe(3579);Xe(8335);const ea="http://www.w3.org/2000/svg",oc=class oc{};ee(oc,"CSS",96),ee(oc,"PDF",72),ee(oc,"PDF_TO_CSS_UNITS",oc.CSS/oc.PDF);let Hl=oc;async function wv(n,e="text"){if(yp(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}r(new Error(s.statusText))}},s.send(null)})}class bv{constructor({viewBox:e,userUnit:t,scale:r,rotation:s,offsetX:i=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=s,this.offsetX=i,this.offsetY=a,r*=t;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let d,h,p,m;switch(s%=360,s<0&&(s+=360),s){case 180:d=-1,h=0,p=0,m=1;break;case 90:d=0,h=1,p=1,m=0;break;case 270:d=0,h=-1,p=-1,m=0;break;case 0:d=1,h=0,p=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(p=-p,m=-m);let v,g,y,x;d===0?(v=Math.abs(c-e[1])*r+i,g=Math.abs(l-e[0])*r+a,y=(e[3]-e[1])*r,x=(e[2]-e[0])*r):(v=Math.abs(l-e[0])*r+i,g=Math.abs(c-e[1])*r+a,y=(e[2]-e[0])*r,x=(e[3]-e[1])*r),this.transform=[d*r,h*r,p*r,m*r,v-d*r*l-p*r*c,g-h*r*l-m*r*c],this.width=y,this.height=x}get rawDims(){const e=this.viewBox;return ze(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:s=this.offsetY,dontFlip:i=!1}={}){return new bv({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:s,dontFlip:i})}convertToViewportPoint(e,t){const r=[e,t];return Ee.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const t=[e[0],e[1]];Ee.applyTransform(t,this.transform);const r=[e[2],e[3]];return Ee.applyTransform(r,this.transform),[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){const r=[e,t];return Ee.applyInverseTransform(r,this.transform),r}}class $C extends ad{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Sw(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function BC(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function _W(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function MW(n,e="document.pdf"){if(typeof n!="string")return e;if(Sw(n))return Re('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(n);if(!r)return e;const s=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},i=/\.pdf$/i,a=r.pathname.split("/").at(-1);if(i.test(a))return s(a);if(r.searchParams.size>0){const o=Array.from(r.searchParams.values()).reverse();for(const c of o)if(i.test(c))return s(c);const l=Array.from(r.searchParams.keys()).reverse();for(const c of l)if(i.test(c))return s(c)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return s(l[0])}return e}class YN{constructor(){ee(this,"started",Object.create(null));ee(this,"times",[])}time(e){e in this.started&&Re(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Re(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:s,end:i}of this.times)e.push(`${r.padEnd(t)} ${i-s}ms
`);return e.join("")}}function yp(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function ei(n){n.preventDefault()}function Vt(n){n.preventDefault(),n.stopPropagation()}function OW(n){console.log("Deprecated API usage: "+n)}var km;class zC{static toDateObject(e){if(!e||typeof e!="string")return null;u(this,km)||A(this,km,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=u(this,km).exec(e);if(!t)return null;const r=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(a+=d,o+=h):c==="+"&&(a-=d,o-=h),new Date(Date.UTC(r,s,i,a,o,l))}}km=new WeakMap,T(zC,km);function jW(n,{scale:e=1,rotation:t=0}){const{width:r,height:s}=n.attributes.style,i=[0,0,parseInt(r),parseInt(s)];return new bv({viewBox:i,userUnit:1,scale:e,rotation:t})}function UC(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Re(`Not a valid color format: "${n}"`),[0,0,0])}function DW(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,UC(r))}e.remove()}function At(n){const{a:e,b:t,c:r,d:s,e:i,f:a}=n.getTransform();return[e,t,r,s,i,a]}function oi(n){const{a:e,b:t,c:r,d:s,e:i,f:a}=n.getTransform().invertSelf();return[e,t,r,s,i,a]}function Zu(n,e,t=!1,r=!0){if(e instanceof bv){const{pageWidth:s,pageHeight:i}=e.rawDims,{style:a}=n,o=An.isCSSRoundSupported,l=`var(--total-scale-factor) * ${s}px`,c=`var(--total-scale-factor) * ${i}px`,d=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,h=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!t||e.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}r&&n.setAttribute("data-main-rotation",e.rotation)}class Hi{constructor(){const{pixelRatio:e}=Hi;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,r,s,i=-1){let a=1/0,o=1/0,l=1/0;r=Hi.capPixels(r,i),r>0&&(a=Math.sqrt(r/(e*t))),s!==-1&&(o=s/e,l=s/t);const c=Math.min(a,o,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,r):r}return e}}const yS=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var Lo,Rc,ts,Fo,Im,uh,_m,c0,ED,Zn,AD,CD,xp,Py;const sa=class sa{constructor(e){T(this,Zn);T(this,Lo,null);T(this,Rc,null);T(this,ts);T(this,Fo,null);T(this,Im,null);T(this,uh,null);A(this,ts,e),u(sa,_m)||A(sa,_m,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=A(this,Lo,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=u(this,ts)._uiManager._signal;e.addEventListener("contextmenu",ei,{signal:t}),e.addEventListener("pointerdown",N(sa,c0,ED),{signal:t});const r=A(this,Fo,document.createElement("div"));r.className="buttons",e.append(r);const s=u(this,ts).toolbarPosition;if(s){const{style:i}=e,a=u(this,ts)._uiManager.direction==="ltr"?1-s[0]:s[0];i.insetInlineEnd=`${100*a}%`,i.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return u(this,Lo)}hide(){var e;u(this,Lo).classList.add("hidden"),(e=u(this,Rc))==null||e.hideDropdown()}show(){var e;u(this,Lo).classList.remove("hidden"),(e=u(this,Im))==null||e.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=u(this,ts),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",u(sa,_m)[e]),N(this,Zn,xp).call(this,r),r.addEventListener("click",s=>{t.delete()},{signal:t._signal}),u(this,Fo).append(r)}async addAltText(e){const t=await e.render();N(this,Zn,xp).call(this,t),u(this,Fo).append(t,u(this,Zn,Py)),A(this,Im,e)}addColorPicker(e){A(this,Rc,e);const t=e.renderButton();N(this,Zn,xp).call(this,t),u(this,Fo).append(t,u(this,Zn,Py))}async addEditSignatureButton(e){const t=A(this,uh,await e.renderEditButton(u(this,ts)));N(this,Zn,xp).call(this,t),u(this,Fo).append(t,u(this,Zn,Py))}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(e){u(this,uh)&&(u(this,uh).title=e)}remove(){var e;u(this,Lo).remove(),(e=u(this,Rc))==null||e.destroy(),A(this,Rc,null)}};Lo=new WeakMap,Rc=new WeakMap,ts=new WeakMap,Fo=new WeakMap,Im=new WeakMap,uh=new WeakMap,_m=new WeakMap,c0=new WeakSet,ED=function(e){e.stopPropagation()},Zn=new WeakSet,AD=function(e){u(this,ts)._focusEventsAllowed=!1,Vt(e)},CD=function(e){u(this,ts)._focusEventsAllowed=!0,Vt(e)},xp=function(e){const t=u(this,ts)._uiManager._signal;e.addEventListener("focusin",N(this,Zn,AD).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",N(this,Zn,CD).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",ei,{signal:t})},Py=function(){const e=document.createElement("div");return e.className="divider",e},T(sa,c0),T(sa,_m,null);let xS=sa;var Mm,Nc,Pc,Wl,TD,RD,ND;class LW{constructor(e){T(this,Wl);T(this,Mm,null);T(this,Nc,null);T(this,Pc);A(this,Pc,e)}show(e,t,r){const[s,i]=N(this,Wl,RD).call(this,t,r),{style:a}=u(this,Nc)||A(this,Nc,N(this,Wl,TD).call(this));e.append(u(this,Nc)),a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,Nc).remove()}}Mm=new WeakMap,Nc=new WeakMap,Pc=new WeakMap,Wl=new WeakSet,TD=function(){const e=A(this,Nc,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ei,{signal:u(this,Pc)._signal});const t=A(this,Mm,document.createElement("div"));return t.className="buttons",e.append(t),N(this,Wl,ND).call(this),e},RD=function(e,t){let r=0,s=0;for(const i of e){const a=i.y+i.height;if(a<r)continue;const o=i.x+(t?i.width:0);if(a>r){s=o,r=a;continue}t?o>s&&(s=o):o<s&&(s=o)}return[t?1-s:s,r]},ND=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=u(this,Pc)._signal;e.addEventListener("contextmenu",ei,{signal:r}),e.addEventListener("click",()=>{u(this,Pc).highlightSelection("floating_button")},{signal:r}),u(this,Mm).append(e)};function PD(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}var u0;class FW{constructor(){T(this,u0,0)}get id(){return`${vD}${nn(this,u0)._++}`}}u0=new WeakMap;var dh,Om,_n,hh,ky;const ZC=class ZC{constructor(){T(this,hh);T(this,dh,bD());T(this,Om,0);T(this,_n,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const i=s.decode().then(()=>(r.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return ze(this,"_isSVGFittingCanvas",i)}async getFromFile(e){const{lastModified:t,name:r,size:s,type:i}=e;return N(this,hh,ky).call(this,`${t}_${r}_${s}_${i}`,e)}async getFromUrl(e){return N(this,hh,ky).call(this,e,e)}async getFromBlob(e,t){const r=await t;return N(this,hh,ky).call(this,e,r)}async getFromId(e){u(this,_n)||A(this,_n,new Map);const t=u(this,_n).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){u(this,_n)||A(this,_n,new Map);let r=u(this,_n).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),r={bitmap:s.transferToImageBitmap(),id:`image_${u(this,dh)}_${nn(this,Om)._++}`,refCounter:1,isSvg:!1},u(this,_n).set(e,r),u(this,_n).set(r.id,r),r}getSvgUrl(e){const t=u(this,_n).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var s;u(this,_n)||A(this,_n,new Map);const t=u(this,_n).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=i.convertToBlob()}(s=r.close)==null||s.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${u(this,dh)}_`)}};dh=new WeakMap,Om=new WeakMap,_n=new WeakMap,hh=new WeakSet,ky=async function(e,t){u(this,_n)||A(this,_n,new Map);let r=u(this,_n).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${u(this,dh)}_${nn(this,Om)._++}`,refCounter:0,isSvg:!1});let s;if(typeof t=="string"?(r.url=t,s=await wv(t,"blob")):t instanceof File?s=r.file=t:t instanceof Blob&&(s=t),s.type==="image/svg+xml"){const i=ZC._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((c,d)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,c()},a.onload=async()=>{const h=r.svgUrl=a.result;o.src=await i?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=a.onerror=d});a.readAsDataURL(s),await l}else r.bitmap=await createImageBitmap(s);r.refCounter=1}catch(s){Re(s),r=null}return u(this,_n).set(e,r),r&&u(this,_n).set(r.id,r),r};let wS=ZC;var Mt,$o,jm,Et;class $W{constructor(e=128){T(this,Mt,[]);T(this,$o,!1);T(this,jm);T(this,Et,-1);A(this,jm,e)}add({cmd:e,undo:t,post:r,mustExec:s,type:i=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(s&&e(),u(this,$o))return;const l={cmd:e,undo:t,post:r,type:i};if(u(this,Et)===-1){u(this,Mt).length>0&&(u(this,Mt).length=0),A(this,Et,0),u(this,Mt).push(l);return}if(a&&u(this,Mt)[u(this,Et)].type===i){o&&(l.undo=u(this,Mt)[u(this,Et)].undo),u(this,Mt)[u(this,Et)]=l;return}const c=u(this,Et)+1;c===u(this,jm)?u(this,Mt).splice(0,1):(A(this,Et,c),c<u(this,Mt).length&&u(this,Mt).splice(c)),u(this,Mt).push(l)}undo(){if(u(this,Et)===-1)return;A(this,$o,!0);const{undo:e,post:t}=u(this,Mt)[u(this,Et)];e(),t==null||t(),A(this,$o,!1),A(this,Et,u(this,Et)-1)}redo(){if(u(this,Et)<u(this,Mt).length-1){A(this,Et,u(this,Et)+1),A(this,$o,!0);const{cmd:e,post:t}=u(this,Mt)[u(this,Et)];e(),t==null||t(),A(this,$o,!1)}}hasSomethingToUndo(){return u(this,Et)!==-1}hasSomethingToRedo(){return u(this,Et)<u(this,Mt).length-1}cleanType(e){if(u(this,Et)!==-1){for(let t=u(this,Et);t>=0;t--)if(u(this,Mt)[t].type!==e){u(this,Mt).splice(t+1,u(this,Et)-t),A(this,Et,t);return}u(this,Mt).length=0,A(this,Et,-1)}}destroy(){A(this,Mt,null)}}Mt=new WeakMap,$o=new WeakMap,jm=new WeakMap,Et=new WeakMap;var d0,kD;class Sv{constructor(e){T(this,d0);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=An.platform;for(const[r,s,i={}]of e)for(const a of r){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:s,options:i}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:s,options:i}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(N(this,d0,kD).call(this,t));if(!r)return;const{callback:s,options:{bubbles:i=!1,args:a=[],checker:o=null}}=r;o&&!o(e,t)||(s.bind(e,...a,t)(),i||Vt(t))}}d0=new WeakSet,kD=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const h0=class h0{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return DW(e),ze(this,"_colors",e)}convert(e){const t=UC(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,s]of this._colors)if(s.every((i,a)=>i===t[a]))return h0._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?Ee.makeHexColor(...t):e}};ee(h0,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let bS=h0;var fh,Ar,Qt,mn,ph,ca,mh,ns,Bo,zo,gh,kc,pi,Is,Ic,Dm,Lm,vh,Fm,mi,Uo,yh,Vo,gi,f0,Ho,$m,Wo,_c,Mc,Go,Bm,rn,rt,ua,Ko,Oc,zm,Um,Yo,vi,da,Vm,Hm,rs,le,Iy,SS,ID,_D,_y,MD,OD,jD,ES,DD,AS,CS,LD,$n,ta,FD,$D,TS,BD,wp,RS;const Fd=class Fd{constructor(e,t,r,s,i,a,o,l,c,d,h,p,m,v,g){T(this,le);T(this,fh,new AbortController);T(this,Ar,null);T(this,Qt,new Map);T(this,mn,new Map);T(this,ph,null);T(this,ca,null);T(this,mh,null);T(this,ns,new $W);T(this,Bo,null);T(this,zo,null);T(this,gh,0);T(this,kc,new Set);T(this,pi,null);T(this,Is,null);T(this,Ic,new Set);ee(this,"_editorUndoBar",null);T(this,Dm,!1);T(this,Lm,!1);T(this,vh,!1);T(this,Fm,null);T(this,mi,null);T(this,Uo,null);T(this,yh,null);T(this,Vo,!1);T(this,gi,null);T(this,f0,new FW);T(this,Ho,!1);T(this,$m,!1);T(this,Wo,null);T(this,_c,null);T(this,Mc,null);T(this,Go,null);T(this,Bm,null);T(this,rn,Pe.NONE);T(this,rt,new Set);T(this,ua,null);T(this,Ko,null);T(this,Oc,null);T(this,zm,null);T(this,Um,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});T(this,Yo,[0,0]);T(this,vi,null);T(this,da,null);T(this,Vm,null);T(this,Hm,null);T(this,rs,null);const y=this._signal=u(this,fh).signal;A(this,da,e),A(this,Vm,t),A(this,Hm,r),A(this,ph,s),A(this,Ko,i),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:y}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:y}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:y}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:y}),a._on("setpreference",this.onSetPreference.bind(this),{signal:y}),a._on("switchannotationeditorparams",x=>this.updateParams(x.type,x.value),{signal:y}),N(this,le,MD).call(this),N(this,le,LD).call(this),N(this,le,ES).call(this),A(this,ca,o.annotationStorage),A(this,Fm,o.filterFactory),A(this,Oc,l),A(this,yh,c||null),A(this,Dm,d),A(this,Lm,h),A(this,vh,p),A(this,Bm,m||null),this.viewParameters={realScale:Hl.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=g!==!1}static get _keyboardManager(){const e=Fd.prototype,t=a=>u(a,da).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},s=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return ze(this,"_keyboardManager",new Sv([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&u(a,da).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&u(a,da).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}destroy(){var e,t,r,s,i,a,o,l;(e=u(this,rs))==null||e.resolve(),A(this,rs,null),(t=u(this,fh))==null||t.abort(),A(this,fh,null),this._signal=null;for(const c of u(this,mn).values())c.destroy();u(this,mn).clear(),u(this,Qt).clear(),u(this,Ic).clear(),(r=u(this,Go))==null||r.clear(),A(this,Ar,null),u(this,rt).clear(),u(this,ns).destroy(),(s=u(this,ph))==null||s.destroy(),(i=u(this,Ko))==null||i.destroy(),(a=u(this,gi))==null||a.hide(),A(this,gi,null),(o=u(this,Mc))==null||o.destroy(),A(this,Mc,null),u(this,mi)&&(clearTimeout(u(this,mi)),A(this,mi,null)),u(this,vi)&&(clearTimeout(u(this,vi)),A(this,vi,null)),(l=this._editorUndoBar)==null||l.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return u(this,Bm)}get useNewAltTextFlow(){return u(this,Lm)}get useNewAltTextWhenAddingImage(){return u(this,vh)}get hcmFilter(){return ze(this,"hcmFilter",u(this,Oc)?u(this,Fm).addHCMFilter(u(this,Oc).foreground,u(this,Oc).background):"none")}get direction(){return ze(this,"direction",getComputedStyle(u(this,da)).direction)}get highlightColors(){return ze(this,"highlightColors",u(this,yh)?new Map(u(this,yh).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColorNames(){return ze(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),A(this,zo,e)}setMainHighlightColorPicker(e){A(this,Mc,e)}editAltText(e,t=!1){var r;(r=u(this,ph))==null||r.editAltText(this,e,t)}getSignature(e){var t;(t=u(this,Ko))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return u(this,Ko)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":A(this,vh,t);break}}onPageChanging({pageNumber:e}){A(this,gh,e-1)}focusMainContainer(){u(this,da).focus()}findParent(e,t){for(const r of u(this,mn).values()){const{x:s,y:i,width:a,height:o}=r.div.getBoundingClientRect();if(e>=s&&e<=s+a&&t>=i&&t<=i+o)return r}return null}disableUserSelect(e=!1){u(this,Vm).classList.toggle("noUserSelect",e)}addShouldRescale(e){u(this,Ic).add(e)}removeShouldRescale(e){u(this,Ic).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Hl.PDF_TO_CSS_UNITS;for(const r of u(this,Ic))r.onScaleChanging();(t=u(this,zo))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:i,focusOffset:a}=t,o=t.toString(),c=N(this,le,Iy).call(this,t).closest(".textLayer"),d=this.getSelectionBoxes(c);if(!d)return;t.empty();const h=N(this,le,SS).call(this,c),p=u(this,rn)===Pe.NONE,m=()=>{h==null||h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:r,anchorOffset:s,focusNode:i,focusOffset:a,text:o}),p&&this.showAllEditors("highlight",!0,!0)};if(p){this.switchToMode(Pe.HIGHLIGHT,m);return}m()}addToAnnotationStorage(e){!e.isEmpty()&&u(this,ca)&&!u(this,ca).has(e.id)&&u(this,ca).setValue(e.id,e)}a11yAlert(e,t=null){const r=u(this,Hm);r&&(r.setAttribute("data-l10n-id",e),t?r.setAttribute("data-l10n-args",JSON.stringify(t)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,u(this,Vo)&&(A(this,Vo,!1),N(this,le,_y).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of u(this,rt))if(t.div.contains(e)){A(this,_c,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!u(this,_c))return;const[e,t]=u(this,_c);A(this,_c,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){N(this,le,ES).call(this),N(this,le,AS).call(this)}removeEditListeners(){N(this,le,DD).call(this),N(this,le,CS).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of u(this,Is))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of u(this,Is))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=u(this,Ar))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of u(this,rt)){const i=s.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const i of t.items)for(const a of u(this,Is))if(a.isHandlingMimeForPasting(i.type)){a.paste(i,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(i){Re(`paste: "${i.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const s=this.currentLayer;try{const i=[];for(const l of r){const c=await s.deserialize(l);if(!c)return;i.push(c)}const a=()=>{for(const l of i)N(this,le,TS).call(this,l);N(this,le,RS).call(this,i)},o=()=>{for(const l of i)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(i){Re(`paste: "${i.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,rn)!==Pe.NONE&&!this.isEditorHandlingKeyboard&&Fd._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,Vo)&&(A(this,Vo,!1),N(this,le,_y).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(N(this,le,OD).call(this),N(this,le,AS).call(this),N(this,le,$n).call(this,{isEditing:u(this,rn)!==Pe.NONE,isEmpty:N(this,le,wp).call(this),hasSomethingToUndo:u(this,ns).hasSomethingToUndo(),hasSomethingToRedo:u(this,ns).hasSomethingToRedo(),hasSelectedEditor:!1})):(N(this,le,jD).call(this),N(this,le,CS).call(this),N(this,le,$n).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!u(this,Is)){A(this,Is,e);for(const t of u(this,Is))N(this,le,ta).call(this,t.defaultPropertiesToUpdate)}}getId(){return u(this,f0).id}get currentLayer(){return u(this,mn).get(u(this,gh))}getLayer(e){return u(this,mn).get(e)}get currentPageIndex(){return u(this,gh)}addLayer(e){u(this,mn).set(e.pageIndex,e),u(this,Ho)?e.enable():e.disable()}removeLayer(e){u(this,mn).delete(e.pageIndex)}async updateMode(e,t=null,r=!1,s=!1){var i,a,o;if(u(this,rn)!==e&&!(u(this,rs)&&(await u(this,rs).promise,!u(this,rs)))){if(A(this,rs,Promise.withResolvers()),(i=u(this,zo))==null||i.commitOrRemove(),A(this,rn,e),e===Pe.NONE){this.setEditingState(!1),N(this,le,$D).call(this),(a=this._editorUndoBar)==null||a.hide(),u(this,rs).resolve();return}e===Pe.SIGNATURE&&await((o=u(this,Ko))==null?void 0:o.loadSignatures()),this.setEditingState(!0),await N(this,le,FD).call(this),this.unselectAll();for(const l of u(this,mn).values())l.updateMode(e);if(!t){r&&this.addNewEditorFromKeyboard(),u(this,rs).resolve();return}for(const l of u(this,Qt).values())l.annotationElementId===t||l.id===t?(this.setSelected(l),s&&l.enterInEditMode()):l.unselect();u(this,rs).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==u(this,rn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){var r;if(u(this,Is)){switch(e){case Ve.CREATE:this.currentLayer.addNewEditor(t);return;case Ve.HIGHLIGHT_DEFAULT_COLOR:(r=u(this,Mc))==null||r.updateColor(t);break;case Ve.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,zm)||A(this,zm,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const s of u(this,rt))s.updateParams(e,t);for(const s of u(this,Is))s.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var i;for(const a of u(this,Qt).values())a.editorType===e&&a.show(t);(((i=u(this,zm))==null?void 0:i.get(Ve.HIGHLIGHT_SHOW_ALL))??!0)!==t&&N(this,le,ta).call(this,[[Ve.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(u(this,$m)!==e){A(this,$m,e);for(const t of u(this,mn).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of u(this,Qt).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return u(this,Qt).get(e)}addEditor(e){u(this,Qt).set(e.id,e)}removeEditor(e){var t,r;e.div.contains(document.activeElement)&&(u(this,mi)&&clearTimeout(u(this,mi)),A(this,mi,setTimeout(()=>{this.focusMainContainer(),A(this,mi,null)},0))),u(this,Qt).delete(e.id),e.annotationElementId&&((t=u(this,Go))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!u(this,kc).has(e.annotationElementId))&&((r=u(this,ca))==null||r.remove(e.id))}addDeletedAnnotationElement(e){u(this,kc).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return u(this,kc).has(e)}removeDeletedAnnotationElement(e){u(this,kc).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){u(this,Ar)!==e&&(A(this,Ar,e),e&&N(this,le,ta).call(this,e.propertiesToUpdate))}updateUI(e){u(this,le,BD)===e&&N(this,le,ta).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){N(this,le,ta).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(u(this,rt).has(e)){u(this,rt).delete(e),e.unselect(),N(this,le,$n).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,rt).add(e),e.select(),N(this,le,ta).call(this,e.propertiesToUpdate),N(this,le,$n).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=u(this,zo))==null||t.commitOrRemove();for(const r of u(this,rt))r!==e&&r.unselect();u(this,rt).clear(),u(this,rt).add(e),e.select(),N(this,le,ta).call(this,e.propertiesToUpdate),N(this,le,$n).call(this,{hasSelectedEditor:!0})}isSelected(e){return u(this,rt).has(e)}get firstSelectedEditor(){return u(this,rt).values().next().value}unselect(e){e.unselect(),u(this,rt).delete(e),N(this,le,$n).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,rt).size!==0}get isEnterHandled(){return u(this,rt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;u(this,ns).undo(),N(this,le,$n).call(this,{hasSomethingToUndo:u(this,ns).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:N(this,le,wp).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){u(this,ns).redo(),N(this,le,$n).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,ns).hasSomethingToRedo(),isEmpty:N(this,le,wp).call(this)})}addCommands(e){u(this,ns).add(e),N(this,le,$n).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:N(this,le,wp).call(this)})}cleanUndoStack(e){u(this,ns).cleanType(e)}delete(){var i;this.commitOrRemove();const e=(i=this.currentLayer)==null?void 0:i.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...u(this,rt)],r=()=>{var a;(a=this._editorUndoBar)==null||a.show(s,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},s=()=>{for(const a of t)N(this,le,TS).call(this,a)};this.addCommands({cmd:r,undo:s,mustExec:!0})}commitOrRemove(){var e;(e=u(this,Ar))==null||e.commitOrRemove()}hasSomethingToControl(){return u(this,Ar)||this.hasSelection}selectAll(){for(const e of u(this,rt))e.commit();N(this,le,RS).call(this,u(this,Qt).values())}unselectAll(){var e;if(!(u(this,Ar)&&(u(this,Ar).commitOrRemove(),u(this,rn)!==Pe.NONE))&&!((e=u(this,zo))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of u(this,rt))t.unselect();u(this,rt).clear(),N(this,le,$n).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;u(this,Yo)[0]+=e,u(this,Yo)[1]+=t;const[s,i]=u(this,Yo),a=[...u(this,rt)],o=1e3;u(this,vi)&&clearTimeout(u(this,vi)),A(this,vi,setTimeout(()=>{A(this,vi,null),u(this,Yo)[0]=u(this,Yo)[1]=0,this.addCommands({cmd:()=>{for(const l of a)u(this,Qt).has(l.id)&&(l.translateInPage(s,i),l.translationDone())},undo:()=>{for(const l of a)u(this,Qt).has(l.id)&&(l.translateInPage(-s,-i),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),A(this,pi,new Map);for(const e of u(this,rt))u(this,pi).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,pi))return!1;this.disableUserSelect(!1);const e=u(this,pi);A(this,pi,null);let t=!1;for(const[{x:s,y:i,pageIndex:a},o]of e)o.newX=s,o.newY=i,o.newPageIndex=a,t||(t=s!==o.savedX||i!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const r=(s,i,a,o)=>{if(u(this,Qt).has(s.id)){const l=u(this,mn).get(o);l?s._setParentAndPosition(l,i,a):(s.pageIndex=o,s.x=i,s.y=a)}};return this.addCommands({cmd:()=>{for(const[s,{newX:i,newY:a,newPageIndex:o}]of e)r(s,i,a,o)},undo:()=>{for(const[s,{savedX:i,savedY:a,savedPageIndex:o}]of e)r(s,i,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(u(this,pi))for(const r of u(this,pi).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||u(this,rt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return u(this,Ar)===e}getActive(){return u(this,Ar)}getMode(){return u(this,rn)}get imageManager(){return ze(this,"imageManager",new wS)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,d=t.rangeCount;c<d;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:s,width:i,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,d,h,p)=>({x:(d-s)/a,y:1-(c+h-r)/i,width:p/a,height:h/i});break;case"180":o=(c,d,h,p)=>({x:1-(c+h-r)/i,y:1-(d+p-s)/a,width:h/i,height:p/a});break;case"270":o=(c,d,h,p)=>({x:1-(d+p-s)/a,y:(c-r)/i,width:p/a,height:h/i});break;default:o=(c,d,h,p)=>({x:(c-r)/i,y:(d-s)/a,width:h/i,height:p/a});break}const l=[];for(let c=0,d=t.rangeCount;c<d;c++){const h=t.getRangeAt(c);if(!h.collapsed)for(const{x:p,y:m,width:v,height:g}of h.getClientRects())v===0||g===0||l.push(o(p,m,v,g))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(u(this,mh)||A(this,mh,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=u(this,mh))==null||t.delete(e)}renderAnnotationElement(e){var s;const t=(s=u(this,mh))==null?void 0:s.get(e.data.id);if(!t)return;const r=u(this,ca).getRawValue(t);r&&(u(this,rn)===Pe.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,t,r){var i;const s=(i=u(this,Go))==null?void 0:i.get(e);s&&(s.setCanvas(t,r),u(this,Go).delete(e))}addMissingCanvas(e,t){(u(this,Go)||A(this,Go,new Map)).set(e,t)}};fh=new WeakMap,Ar=new WeakMap,Qt=new WeakMap,mn=new WeakMap,ph=new WeakMap,ca=new WeakMap,mh=new WeakMap,ns=new WeakMap,Bo=new WeakMap,zo=new WeakMap,gh=new WeakMap,kc=new WeakMap,pi=new WeakMap,Is=new WeakMap,Ic=new WeakMap,Dm=new WeakMap,Lm=new WeakMap,vh=new WeakMap,Fm=new WeakMap,mi=new WeakMap,Uo=new WeakMap,yh=new WeakMap,Vo=new WeakMap,gi=new WeakMap,f0=new WeakMap,Ho=new WeakMap,$m=new WeakMap,Wo=new WeakMap,_c=new WeakMap,Mc=new WeakMap,Go=new WeakMap,Bm=new WeakMap,rn=new WeakMap,rt=new WeakMap,ua=new WeakMap,Ko=new WeakMap,Oc=new WeakMap,zm=new WeakMap,Um=new WeakMap,Yo=new WeakMap,vi=new WeakMap,da=new WeakMap,Vm=new WeakMap,Hm=new WeakMap,rs=new WeakMap,le=new WeakSet,Iy=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},SS=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of u(this,mn).values())if(r.hasTextLayer(e))return r;return null},ID=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=N(this,le,Iy).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(r);s&&(u(this,gi)||A(this,gi,new LW(this)),u(this,gi).show(r,s,this.direction==="ltr"))},_D=function(){var i,a,o;const e=document.getSelection();if(!e||e.isCollapsed){u(this,ua)&&((i=u(this,gi))==null||i.hide(),A(this,ua,null),N(this,le,$n).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===u(this,ua))return;const s=N(this,le,Iy).call(this,e).closest(".textLayer");if(!s){u(this,ua)&&((a=u(this,gi))==null||a.hide(),A(this,ua,null),N(this,le,$n).call(this,{hasSelectedText:!1}));return}if((o=u(this,gi))==null||o.hide(),A(this,ua,t),N(this,le,$n).call(this,{hasSelectedText:!0}),!(u(this,rn)!==Pe.HIGHLIGHT&&u(this,rn)!==Pe.NONE)&&(u(this,rn)===Pe.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),A(this,Vo,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=u(this,rn)===Pe.HIGHLIGHT?N(this,le,SS).call(this,s):null;l==null||l.toggleDrawing();const c=new AbortController,d=this.combinedSignal(c),h=p=>{p.type==="pointerup"&&p.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),p.type==="pointerup"&&N(this,le,_y).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}},_y=function(e=""){u(this,rn)===Pe.HIGHLIGHT?this.highlightSelection(e):u(this,Dm)&&N(this,le,ID).call(this)},MD=function(){document.addEventListener("selectionchange",N(this,le,_D).bind(this),{signal:this._signal})},OD=function(){if(u(this,Uo))return;A(this,Uo,new AbortController);const e=this.combinedSignal(u(this,Uo));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},jD=function(){var e;(e=u(this,Uo))==null||e.abort(),A(this,Uo,null)},ES=function(){if(u(this,Wo))return;A(this,Wo,new AbortController);const e=this.combinedSignal(u(this,Wo));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},DD=function(){var e;(e=u(this,Wo))==null||e.abort(),A(this,Wo,null)},AS=function(){if(u(this,Bo))return;A(this,Bo,new AbortController);const e=this.combinedSignal(u(this,Bo));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},CS=function(){var e;(e=u(this,Bo))==null||e.abort(),A(this,Bo,null)},LD=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},$n=function(e){Object.entries(e).some(([r,s])=>u(this,Um)[r]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,Um),e)}),u(this,rn)===Pe.HIGHLIGHT&&e.hasSelectedEditor===!1&&N(this,le,ta).call(this,[[Ve.HIGHLIGHT_FREE,!0]]))},ta=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},FD=async function(){if(!u(this,Ho)){A(this,Ho,!0);const e=[];for(const t of u(this,mn).values())e.push(t.enable());await Promise.all(e);for(const t of u(this,Qt).values())t.enable()}},$D=function(){if(this.unselectAll(),u(this,Ho)){A(this,Ho,!1);for(const e of u(this,mn).values())e.disable();for(const e of u(this,Qt).values())e.disable()}},TS=function(e){const t=u(this,mn).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},BD=function(){let e=null;for(e of u(this,rt));return e},wp=function(){if(u(this,Qt).size===0)return!0;if(u(this,Qt).size===1)for(const e of u(this,Qt).values())return e.isEmpty();return!1},RS=function(e){for(const t of u(this,rt))t.unselect();u(this,rt).clear();for(const t of e)t.isEmpty()||(u(this,rt).add(t),t.select());N(this,le,$n).call(this,{hasSelectedEditor:this.hasSelection})},ee(Fd,"TRANSLATE_SMALL",1),ee(Fd,"TRANSLATE_BIG",10);let Ju=Fd;var sn,yi,_s,xh,xi,Cr,wh,wi,dr,ha,jc,bi,Xo,Ys,bp,My;const Bn=class Bn{constructor(e){T(this,Ys);T(this,sn,null);T(this,yi,!1);T(this,_s,null);T(this,xh,null);T(this,xi,null);T(this,Cr,null);T(this,wh,!1);T(this,wi,null);T(this,dr,null);T(this,ha,null);T(this,jc,null);T(this,bi,!1);A(this,dr,e),A(this,bi,e._uiManager.useNewAltTextFlow),u(Bn,Xo)||A(Bn,Xo,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Bn._l10n??(Bn._l10n=e)}async render(){const e=A(this,_s,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=A(this,xh,document.createElement("span"));e.append(t),u(this,bi)?(e.classList.add("new"),e.setAttribute("data-l10n-id",u(Bn,Xo).missing),t.setAttribute("data-l10n-id",u(Bn,Xo)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=u(this,dr)._uiManager._signal;e.addEventListener("contextmenu",ei,{signal:r}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:r});const s=i=>{i.preventDefault(),u(this,dr)._uiManager.editAltText(u(this,dr)),u(this,bi)&&u(this,dr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:u(this,Ys,bp)}})};return e.addEventListener("click",s,{capture:!0,signal:r}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(A(this,wh,!0),s(i))},{signal:r}),await N(this,Ys,My).call(this),e}finish(){u(this,_s)&&(u(this,_s).focus({focusVisible:u(this,wh)}),A(this,wh,!1))}isEmpty(){return u(this,bi)?u(this,sn)===null:!u(this,sn)&&!u(this,yi)}hasData(){return u(this,bi)?u(this,sn)!==null||!!u(this,ha):this.isEmpty()}get guessedText(){return u(this,ha)}async setGuessedText(e){u(this,sn)===null&&(A(this,ha,e),A(this,jc,await Bn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),N(this,Ys,My).call(this))}toggleAltTextBadge(e=!1){var t;if(!u(this,bi)||u(this,sn)){(t=u(this,wi))==null||t.remove(),A(this,wi,null);return}if(!u(this,wi)){const r=A(this,wi,document.createElement("div"));r.className="noAltTextBadge",u(this,dr).div.append(r)}u(this,wi).classList.toggle("hidden",!e)}serialize(e){let t=u(this,sn);return!e&&u(this,ha)===t&&(t=u(this,jc)),{altText:t,decorative:u(this,yi),guessedText:u(this,ha),textWithDisclaimer:u(this,jc)}}get data(){return{altText:u(this,sn),decorative:u(this,yi)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:s,cancel:i=!1}){r&&(A(this,ha,r),A(this,jc,s)),!(u(this,sn)===e&&u(this,yi)===t)&&(i||(A(this,sn,e),A(this,yi,t)),N(this,Ys,My).call(this))}toggle(e=!1){u(this,_s)&&(!e&&u(this,Cr)&&(clearTimeout(u(this,Cr)),A(this,Cr,null)),u(this,_s).disabled=!e)}shown(){u(this,dr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:u(this,Ys,bp)}})}destroy(){var e,t;(e=u(this,_s))==null||e.remove(),A(this,_s,null),A(this,xh,null),A(this,xi,null),(t=u(this,wi))==null||t.remove(),A(this,wi,null)}};sn=new WeakMap,yi=new WeakMap,_s=new WeakMap,xh=new WeakMap,xi=new WeakMap,Cr=new WeakMap,wh=new WeakMap,wi=new WeakMap,dr=new WeakMap,ha=new WeakMap,jc=new WeakMap,bi=new WeakMap,Xo=new WeakMap,Ys=new WeakSet,bp=function(){return u(this,sn)&&"added"||u(this,sn)===null&&this.guessedText&&"review"||"missing"},My=async function(){var s,i,a;const e=u(this,_s);if(!e)return;if(u(this,bi)){if(e.classList.toggle("done",!!u(this,sn)),e.setAttribute("data-l10n-id",u(Bn,Xo)[u(this,Ys,bp)]),(s=u(this,xh))==null||s.setAttribute("data-l10n-id",u(Bn,Xo)[`${u(this,Ys,bp)}-label`]),!u(this,sn)){(i=u(this,xi))==null||i.remove();return}}else{if(!u(this,sn)&&!u(this,yi)){e.classList.remove("done"),(a=u(this,xi))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=u(this,xi);if(!t){A(this,xi,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${u(this,dr).id}`;const o=100,l=u(this,dr)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(u(this,Cr)),A(this,Cr,null)},{once:!0}),e.addEventListener("mouseenter",()=>{A(this,Cr,setTimeout(()=>{A(this,Cr,null),u(this,xi).classList.add("show"),u(this,dr)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;u(this,Cr)&&(clearTimeout(u(this,Cr)),A(this,Cr,null)),(c=u(this,xi))==null||c.classList.remove("show")},{signal:l})}u(this,yi)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=u(this,sn)),t.parentNode||e.append(t);const r=u(this,dr).getElementForAltText();r==null||r.setAttribute("aria-describedby",t.id)},T(Bn,Xo,null),ee(Bn,"_l10n",null);let t0=Bn;var bh,Dc,Wm,Gm,Km,Ym,Xm,fa,Lc,pa,Fc,ma,Gl,zD,UD,VD;const JC=class JC{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:s=null,onPinching:i=null,onPinchEnd:a=null,signal:o}){T(this,Gl);T(this,bh);T(this,Dc,!1);T(this,Wm,null);T(this,Gm);T(this,Km);T(this,Ym);T(this,Xm);T(this,fa,null);T(this,Lc);T(this,pa,null);T(this,Fc);T(this,ma,null);A(this,bh,e),A(this,Wm,r),A(this,Gm,t),A(this,Km,s),A(this,Ym,i),A(this,Xm,a),A(this,Fc,new AbortController),A(this,Lc,AbortSignal.any([o,u(this,Fc).signal])),e.addEventListener("touchstart",N(this,Gl,zD).bind(this),{passive:!1,signal:u(this,Lc)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Hi.pixelRatio}destroy(){var e,t;(e=u(this,Fc))==null||e.abort(),A(this,Fc,null),(t=u(this,fa))==null||t.abort(),A(this,fa,null)}};bh=new WeakMap,Dc=new WeakMap,Wm=new WeakMap,Gm=new WeakMap,Km=new WeakMap,Ym=new WeakMap,Xm=new WeakMap,fa=new WeakMap,Lc=new WeakMap,pa=new WeakMap,Fc=new WeakMap,ma=new WeakMap,Gl=new WeakSet,zD=function(e){var s,i,a;if((s=u(this,Gm))!=null&&s.call(this))return;if(e.touches.length===1){if(u(this,fa))return;const o=A(this,fa,new AbortController),l=AbortSignal.any([u(this,Lc),o.signal]),c=u(this,bh),d={capture:!0,signal:l,passive:!1},h=p=>{var m;p.pointerType==="touch"&&((m=u(this,fa))==null||m.abort(),A(this,fa,null))};c.addEventListener("pointerdown",p=>{p.pointerType==="touch"&&(Vt(p),h(p))},d),c.addEventListener("pointerup",h,d),c.addEventListener("pointercancel",h,d);return}if(!u(this,ma)){A(this,ma,new AbortController);const o=AbortSignal.any([u(this,Lc),u(this,ma).signal]),l=u(this,bh),c={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",N(this,Gl,UD).bind(this),c);const d=N(this,Gl,VD).bind(this);l.addEventListener("touchend",d,c),l.addEventListener("touchcancel",d,c),c.capture=!0,l.addEventListener("pointerdown",Vt,c),l.addEventListener("pointermove",Vt,c),l.addEventListener("pointercancel",Vt,c),l.addEventListener("pointerup",Vt,c),(i=u(this,Km))==null||i.call(this)}if(Vt(e),e.touches.length!==2||(a=u(this,Wm))!=null&&a.call(this)){A(this,pa,null);return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),A(this,pa,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY})},UD=function(e){var E;if(!u(this,pa)||e.touches.length!==2)return;Vt(e);let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:s,screenY:i}=t,{screenX:a,screenY:o}=r,l=u(this,pa),{touch0X:c,touch0Y:d,touch1X:h,touch1Y:p}=l,m=h-c,v=p-d,g=a-s,y=o-i,x=Math.hypot(g,y)||1,w=Math.hypot(m,v)||1;if(!u(this,Dc)&&Math.abs(w-x)<=JC.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=s,l.touch0Y=i,l.touch1X=a,l.touch1Y=o,!u(this,Dc)){A(this,Dc,!0);return}const b=[(s+a)/2,(i+o)/2];(E=u(this,Ym))==null||E.call(this,b,w,x)},VD=function(e){var t;e.touches.length>=2||(u(this,ma)&&(u(this,ma).abort(),A(this,ma,null),(t=u(this,Xm))==null||t.call(this)),u(this,pa)&&(Vt(e),A(this,pa,null),A(this,Dc,!1)))};let n0=JC;var $c,Ms,xt,Sh,Qo,Qm,Bc,gn,zc,ga,Zo,Zm,Uc,Tr,Jm,Vc,va,Si,Eh,Ah,ss,Hc,qm,p0,Te,NS,eg,PS,Oy,HD,WD,kS,jy,IS,GD,KD,YD,_S,XD,MS,QD,ZD,JD,OS,Sp;const De=class De{constructor(e){T(this,Te);T(this,$c,null);T(this,Ms,null);T(this,xt,null);T(this,Sh,!1);T(this,Qo,null);T(this,Qm,"");T(this,Bc,!1);T(this,gn,null);T(this,zc,null);T(this,ga,null);T(this,Zo,null);T(this,Zm,"");T(this,Uc,!1);T(this,Tr,null);T(this,Jm,!1);T(this,Vc,!1);T(this,va,!1);T(this,Si,null);T(this,Eh,0);T(this,Ah,0);T(this,ss,null);T(this,Hc,null);ee(this,"isSelected",!1);ee(this,"_isCopy",!1);ee(this,"_editToolbar",null);ee(this,"_initialOptions",Object.create(null));ee(this,"_initialData",null);ee(this,"_isVisible",!0);ee(this,"_uiManager",null);ee(this,"_focusEventsAllowed",!0);T(this,qm,!1);T(this,p0,De._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:s,pageX:i,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,s],this.pageTranslation=[i,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=De.prototype._resizeWithKeyboard,t=Ju.TRANSLATE_SMALL,r=Ju.TRANSLATE_BIG;return ze(this,"_resizerKeyboardManager",new Sv([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],De.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return ze(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new BW({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(De._l10n??(De._l10n=e),De._l10nResizer||(De._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),De._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);De._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){ct("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,qm)}set _isDraggable(e){var t;A(this,qm,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,p0)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):N(this,Te,Sp).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(u(this,Uc)?A(this,Uc,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,s){const[i,a]=this.parentDimensions;[r,s]=this.screenToPageTranslation(r,s),this.x=(e+r)/i,this.y=(t+s)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[r,s]=this.parentDimensions;this.setAt(e*r,t*s,this.width*r,this.height*s),this._onTranslated()}translate(e,t){N(this,Te,NS).call(this,this.parentDimensions,e,t)}translateInPage(e,t){u(this,Tr)||A(this,Tr,[this.x,this.y,this.width,this.height]),N(this,Te,NS).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){u(this,Tr)||A(this,Tr,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[s,i]}=this;if(this.x+=e/s,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:p}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,p)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,c]=this.getBaseTranslation();a+=l,o+=c;const{style:d}=r;d.left=`${(100*a).toFixed(2)}%`,d.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!u(this,Tr)&&(u(this,Tr)[0]!==this.x||u(this,Tr)[1]!==this.y)}get _hasBeenResized(){return!!u(this,Tr)&&(u(this,Tr)[2]!==this.width||u(this,Tr)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=De,s=r/e,i=r/t;switch(this.rotation){case 90:return[-s,i];case 180:return[s,i];case 270:return[s,-i];default:return[-s,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,s]}=this;let{x:i,y:a,width:o,height:l}=this;if(o*=r,l*=s,i*=r,a*=s,this._mustFixPosition)switch(e){case 0:i=Kn(i,0,r-o),a=Kn(a,0,s-l);break;case 90:i=Kn(i,0,r-l),a=Kn(a,o,s);break;case 180:i=Kn(i,o,r),a=Kn(a,l,s);break;case 270:i=Kn(i,l,r),a=Kn(a,0,s-o);break}this.x=i/=r,this.y=a/=s;const[c,d]=this.getBaseTranslation();i+=c,a+=d,t.left=`${(100*i).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return N(r=De,eg,PS).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return N(r=De,eg,PS).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(e,t){const[r,s]=this.parentDimensions,{style:i}=this.div;i.width=`${(100*e/r).toFixed(2)}%`,u(this,Bc)||(i.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,s=r.endsWith("%"),i=!u(this,Bc)&&t.endsWith("%");if(s&&i)return;const[a,o]=this.parentDimensions;s||(e.width=`${(100*parseFloat(r)/a).toFixed(2)}%`),!u(this,Bc)&&!i&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=u(this,xt))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||u(this,Vc))return this._editToolbar;this._editToolbar=new xS(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,r]of e)await this._editToolbar.addButton(t,r);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=u(this,xt))==null||e.destroy())}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return u(this,xt)||(t0.initialize(De._l10n),A(this,xt,new t0(this)),u(this,$c)&&(u(this,xt).data=u(this,$c),A(this,$c,null))),u(this,xt)}get altTextData(){var e;return(e=u(this,xt))==null?void 0:e.data}set altTextData(e){u(this,xt)&&(u(this,xt).data=e)}get guessedAltText(){var e;return(e=u(this,xt))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=u(this,xt))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=u(this,xt))==null?void 0:t.serialize(e)}hasAltText(){return!!u(this,xt)&&!u(this,xt).isEmpty()}hasAltTextData(){var e;return((e=u(this,xt))==null?void 0:e.hasData())??!1}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=u(this,Sh)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),N(this,Te,MS).call(this);const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[s,i]=this.getInitialTranslation();return this.translate(s,i),PD(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(u(this,Hc)||A(this,Hc,new n0({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:N(this,Te,GD).bind(this),onPinching:N(this,Te,KD).bind(this),onPinchEnd:N(this,Te,YD).bind(this),signal:this._uiManager._signal}))),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:t}=An.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(A(this,Uc,!0),this._isDraggable){N(this,Te,XD).call(this,e);return}N(this,Te,_S).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){u(this,Si)&&clearTimeout(u(this,Si)),A(this,Si,setTimeout(()=>{var e;A(this,Si,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const s=this.parentScale,[i,a]=this.pageDimensions,[o,l]=this.pageTranslation,c=e/s,d=t/s,h=this.x*i,p=this.y*a,m=this.width*i,v=this.height*a;switch(r){case 0:return[h+c+o,a-p-d-v+l,h+c+m+o,a-p-d+l];case 90:return[h+d+o,a-p+c+l,h+d+v+o,a-p+c+m+l];case 180:return[h-c-m+o,a-p+d+l,h-c+o,a-p+d+v+l];case 270:return[h-d-v+o,a-p-c-m+l,h-d+o,a-p-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,s,i,a]=e,o=i-r,l=a-s;switch(this.rotation){case 0:return[r,t-a,o,l];case 90:return[r,t-s,l,o];case 180:return[i,t-s,o,l];case 270:return[i,t-a,l,o];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),A(this,Vc,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),A(this,Vc,!1),!0):!1}isInEditMode(){return u(this,Vc)}shouldGetKeyboardEvents(){return u(this,va)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:s}=this.getClientDimensions(),{innerHeight:i,innerWidth:a}=window;return t<a&&s>0&&e<i&&r>0}rebuild(){N(this,Te,MS).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){ct("An editor must be serializable")}static async deserialize(e,t,r){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r,annotationElementId:e.annotationElementId});s.rotation=e.rotation,A(s,$c,e.accessibilityData),s._isCopy=e.isCopy||!1;const[i,a]=s.pageDimensions,[o,l,c,d]=s.getRectInCurrentCoords(e.rect,a);return s.x=o/i,s.y=l/a,s.width=c/i,s.height=d/a,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=u(this,Zo))==null||e.abort(),A(this,Zo,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,Si)&&(clearTimeout(u(this,Si)),A(this,Si,null)),N(this,Te,Sp).call(this),this.removeEditToolbar(),u(this,ss)){for(const r of u(this,ss).values())clearTimeout(r);A(this,ss,null)}this.parent=null,(t=u(this,Hc))==null||t.destroy(),A(this,Hc,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(N(this,Te,HD).call(this),u(this,gn).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),A(this,ga,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=u(this,gn).children;if(!u(this,Ms)){A(this,Ms,Array.from(t));const a=N(this,Te,QD).bind(this),o=N(this,Te,ZD).bind(this),l=this._uiManager._signal;for(const c of u(this,Ms)){const d=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",N(this,Te,JD).bind(this,d),{signal:l}),c.setAttribute("data-l10n-id",De._l10nResizer[d])}}const r=u(this,Ms)[0];let s=0;for(const a of t){if(a===r)break;s++}const i=(360-this.rotation+this.parentRotation)%360/90*(u(this,Ms).length/4);if(i!==s){if(i<s)for(let o=0;o<s-i;o++)u(this,gn).append(u(this,gn).firstChild);else if(i>s)for(let o=0;o<i-s;o++)u(this,gn).firstChild.before(u(this,gn).lastChild);let a=0;for(const o of t){const c=u(this,Ms)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",De._l10nResizer[c])}}N(this,Te,OS).call(this,0),A(this,va,!0),u(this,gn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){u(this,va)&&N(this,Te,IS).call(this,u(this,Zm),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){N(this,Te,Sp).call(this),this.div.focus()}select(){var e,t,r;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,i;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((i=this._editToolbar)==null||i.show())});return}(t=this._editToolbar)==null||t.show(),(r=u(this,xt))==null||r.toggleAltTextBadge(!1)}}unselect(){var e,t,r,s,i;this.isSelected&&(this.isSelected=!1,(e=u(this,gn))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(i=u(this,xt))==null||i.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return u(this,Jm)}set isEditing(e){A(this,Jm,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){A(this,Bc,!0);const r=e/t,{style:s}=this.div;s.aspectRatio=r,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){u(this,ss)||A(this,ss,new Map);const{action:r}=e;let s=u(this,ss).get(r);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),u(this,ss).delete(r),u(this,ss).size===0&&A(this,ss,null)},De._telemetryTimeout),u(this,ss).set(r,s);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),A(this,Sh,!1)}disable(){this.div&&(this.div.tabIndex=-1),A(this,Sh,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};$c=new WeakMap,Ms=new WeakMap,xt=new WeakMap,Sh=new WeakMap,Qo=new WeakMap,Qm=new WeakMap,Bc=new WeakMap,gn=new WeakMap,zc=new WeakMap,ga=new WeakMap,Zo=new WeakMap,Zm=new WeakMap,Uc=new WeakMap,Tr=new WeakMap,Jm=new WeakMap,Vc=new WeakMap,va=new WeakMap,Si=new WeakMap,Eh=new WeakMap,Ah=new WeakMap,ss=new WeakMap,Hc=new WeakMap,qm=new WeakMap,p0=new WeakMap,Te=new WeakSet,NS=function([e,t],r,s){[r,s]=this.screenToPageTranslation(r,s),this.x+=r/e,this.y+=s/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},eg=new WeakSet,PS=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Oy=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},HD=function(){if(u(this,gn))return;A(this,gn,document.createElement("div")),u(this,gn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const s=document.createElement("div");u(this,gn).append(s),s.classList.add("resizer",r),s.setAttribute("data-resizer-name",r),s.addEventListener("pointerdown",N(this,Te,WD).bind(this,r),{signal:t}),s.addEventListener("contextmenu",ei,{signal:t}),s.tabIndex=-1}this.div.prepend(u(this,gn))},WD=function(e,t){var d;t.preventDefault();const{isMac:r}=An.platform;if(t.button!==0||t.ctrlKey&&r)return;(d=u(this,xt))==null||d.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,A(this,zc,[t.screenX,t.screenY]);const i=new AbortController,a=this._uiManager.combinedSignal(i);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",N(this,Te,IS).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Vt,{passive:!1,signal:a}),window.addEventListener("contextmenu",ei,{signal:a}),A(this,ga,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const c=()=>{var h;i.abort(),this.parent.togglePointerEvents(!0),(h=u(this,xt))==null||h.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=o,this.div.style.cursor=l,N(this,Te,jy).call(this)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})},kS=function(e,t,r,s){this.width=r,this.height=s,this.x=e,this.y=t;const[i,a]=this.parentDimensions;this.setDims(i*r,a*s),this.fixAndSetPosition(),this._onResized()},jy=function(){if(!u(this,ga))return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:s}=u(this,ga);A(this,ga,null);const i=this.x,a=this.y,o=this.width,l=this.height;i===e&&a===t&&o===r&&l===s||this.addCommands({cmd:N(this,Te,kS).bind(this,i,a,o,l),undo:N(this,Te,kS).bind(this,e,t,r,s),mustExec:!0})},IS=function(e,t){const[r,s]=this.parentDimensions,i=this.x,a=this.y,o=this.width,l=this.height,c=De.MIN_SIZE/r,d=De.MIN_SIZE/s,h=N(this,Te,Oy).call(this,this.rotation),p=(B,U)=>[h[0]*B+h[2]*U,h[1]*B+h[3]*U],m=N(this,Te,Oy).call(this,360-this.rotation),v=(B,U)=>[m[0]*B+m[2]*U,m[1]*B+m[3]*U];let g,y,x=!1,w=!1;switch(e){case"topLeft":x=!0,g=(B,U)=>[0,0],y=(B,U)=>[B,U];break;case"topMiddle":g=(B,U)=>[B/2,0],y=(B,U)=>[B/2,U];break;case"topRight":x=!0,g=(B,U)=>[B,0],y=(B,U)=>[0,U];break;case"middleRight":w=!0,g=(B,U)=>[B,U/2],y=(B,U)=>[0,U/2];break;case"bottomRight":x=!0,g=(B,U)=>[B,U],y=(B,U)=>[0,0];break;case"bottomMiddle":g=(B,U)=>[B/2,U],y=(B,U)=>[B/2,0];break;case"bottomLeft":x=!0,g=(B,U)=>[0,U],y=(B,U)=>[B,0];break;case"middleLeft":w=!0,g=(B,U)=>[0,U/2],y=(B,U)=>[B,U/2];break}const b=g(o,l),E=y(o,l);let C=p(...E);const R=De._round(i+C[0]),P=De._round(a+C[1]);let k=1,I=1,_,O;if(t.fromKeyboard)({deltaX:_,deltaY:O}=t);else{const{screenX:B,screenY:U}=t,[$,F]=u(this,zc);[_,O]=this.screenToPageTranslation(B-$,U-F),u(this,zc)[0]=B,u(this,zc)[1]=U}if([_,O]=v(_/r,O/s),x){const B=Math.hypot(o,l);k=I=Math.max(Math.min(Math.hypot(E[0]-b[0]-_,E[1]-b[1]-O)/B,1/o,1/l),c/o,d/l)}else w?k=Kn(Math.abs(E[0]-b[0]-_),c,1)/o:I=Kn(Math.abs(E[1]-b[1]-O),d,1)/l;const M=De._round(o*k),z=De._round(l*I);C=p(...y(M,z));const D=R-C[0],K=P-C[1];u(this,Tr)||A(this,Tr,[this.x,this.y,this.width,this.height]),this.width=M,this.height=z,this.x=D,this.y=K,this.setDims(r*M,s*z),this.fixAndSetPosition(),this._onResizing()},GD=function(){var e;A(this,ga,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=u(this,xt))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},KD=function(e,t,r){let i=.7*(r/t)+1-.7;if(i===1)return;const a=N(this,Te,Oy).call(this,this.rotation),o=(R,P)=>[a[0]*R+a[2]*P,a[1]*R+a[3]*P],[l,c]=this.parentDimensions,d=this.x,h=this.y,p=this.width,m=this.height,v=De.MIN_SIZE/l,g=De.MIN_SIZE/c;i=Math.max(Math.min(i,1/p,1/m),v/p,g/m);const y=De._round(p*i),x=De._round(m*i);if(y===p&&x===m)return;u(this,Tr)||A(this,Tr,[d,h,p,m]);const w=o(p/2,m/2),b=De._round(d+w[0]),E=De._round(h+w[1]),C=o(y/2,x/2);this.x=b-C[0],this.y=E-C[1],this.width=y,this.height=x,this.setDims(l*y,c*x),this.fixAndSetPosition(),this._onResizing()},YD=function(){var e;(e=u(this,xt))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),N(this,Te,jy).call(this)},_S=function(e){const{isMac:t}=An.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},XD=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const s=new AbortController,i=this._uiManager.combinedSignal(s),a={capture:!0,passive:!1,signal:i},o=c=>{s.abort(),A(this,Qo,null),A(this,Uc,!1),this._uiManager.endDragSession()||N(this,Te,_S).call(this,c),r&&this._onStopDragging()};t&&(A(this,Eh,e.clientX),A(this,Ah,e.clientY),A(this,Qo,e.pointerId),A(this,Qm,e.pointerType),window.addEventListener("pointermove",c=>{r||(r=!0,this._onStartDragging());const{clientX:d,clientY:h,pointerId:p}=c;if(p!==u(this,Qo)){Vt(c);return}const[m,v]=this.screenToPageTranslation(d-u(this,Eh),h-u(this,Ah));A(this,Eh,d),A(this,Ah,h),this._uiManager.dragSelectedEditors(m,v)},a),window.addEventListener("touchmove",Vt,a),window.addEventListener("pointerdown",c=>{c.pointerType===u(this,Qm)&&(u(this,Hc)||c.isPrimary)&&o(c),Vt(c)},a));const l=c=>{if(!u(this,Qo)||u(this,Qo)===c.pointerId){o(c);return}Vt(c)};window.addEventListener("pointerup",l,{signal:i}),window.addEventListener("blur",l,{signal:i})},MS=function(){if(u(this,Zo)||!this.div)return;A(this,Zo,new AbortController);const e=this._uiManager.combinedSignal(u(this,Zo));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},QD=function(e){De._resizerKeyboardManager.exec(this,e)},ZD=function(e){var t;u(this,va)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==u(this,gn)&&N(this,Te,Sp).call(this)},JD=function(e){A(this,Zm,u(this,va)?e:"")},OS=function(e){if(u(this,Ms))for(const t of u(this,Ms))t.tabIndex=e},Sp=function(){A(this,va,!1),N(this,Te,OS).call(this,-1),N(this,Te,jy).call(this)},T(De,eg),ee(De,"_l10n",null),ee(De,"_l10nResizer",null),ee(De,"_borderLineWidth",-1),ee(De,"_colorManager",new bS),ee(De,"_zIndex",1),ee(De,"_telemetryTimeout",1e3);let ft=De;class BW extends ft{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const XN=3285377520,qr=4294901760,li=65535;class qD{constructor(e){this.h1=e?e&4294967295:XN,this.h2=e?e&4294967295:XN}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let g=0,y=e.length;g<y;g++){const x=e.charCodeAt(g);x<=255?t[r++]=x:(t[r++]=x>>>8,t[r++]=x&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=r>>2,i=r-s*4,a=new Uint32Array(t.buffer,0,s);let o=0,l=0,c=this.h1,d=this.h2;const h=3432918353,p=461845907,m=h&li,v=p&li;for(let g=0;g<s;g++)g&1?(o=a[g],o=o*h&qr|o*m&li,o=o<<15|o>>>17,o=o*p&qr|o*v&li,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[g],l=l*h&qr|l*m&li,l=l<<15|l>>>17,l=l*p&qr|l*v&li,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,i){case 3:o^=t[s*4+2]<<16;case 2:o^=t[s*4+1]<<8;case 1:o^=t[s*4],o=o*h&qr|o*m&li,o=o<<15|o>>>17,o=o*p&qr|o*v&li,s&1?c^=o:d^=o}this.h1=c,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&qr|e*36045&li,t=t*4283543511&qr|((t<<16|e>>>16)*2950163797&qr)>>>16,e^=t>>>1,e=e*444984403&qr|e*60499&li,t=t*3301882366&qr|((t<<16|e>>>16)*3120437893&qr)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const jS=Object.freeze({map:null,hash:"",transfer:void 0});var Wc,Gc,vn,m0,eL;class VC{constructor(){T(this,m0);T(this,Wc,!1);T(this,Gc,null);T(this,vn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=u(this,vn).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return u(this,vn).get(e)}remove(e){if(u(this,vn).delete(e),u(this,vn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of u(this,vn).values())if(t instanceof ft)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=u(this,vn).get(e);let s=!1;if(r!==void 0)for(const[i,a]of Object.entries(t))r[i]!==a&&(s=!0,r[i]=a);else s=!0,u(this,vn).set(e,t);s&&N(this,m0,eL).call(this),t instanceof ft&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return u(this,vn).has(e)}get size(){return u(this,vn).size}resetModified(){u(this,Wc)&&(A(this,Wc,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new tL(this)}get serializable(){if(u(this,vn).size===0)return jS;const e=new Map,t=new qD,r=[],s=Object.create(null);let i=!1;for(const[a,o]of u(this,vn)){const l=o instanceof ft?o.serialize(!1,s):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),i||(i=!!l.bitmap))}if(i)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:jS}get editorStats(){let e=null;const t=new Map;for(const r of u(this,vn).values()){if(!(r instanceof ft))continue;const s=r.telemetryFinalData;if(!s)continue;const{type:i}=s;t.has(i)||t.set(i,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const a=e[i]||(e[i]=new Map);for(const[o,l]of Object.entries(s)){if(o==="type")continue;let c=a.get(o);c||(c=new Map,a.set(o,c));const d=c.get(l)??0;c.set(l,d+1)}}for(const[r,s]of t)e[r]=s.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){A(this,Gc,null)}get modifiedIds(){if(u(this,Gc))return u(this,Gc);const e=[];for(const t of u(this,vn).values())!(t instanceof ft)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return A(this,Gc,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return u(this,vn).entries()}}Wc=new WeakMap,Gc=new WeakMap,vn=new WeakMap,m0=new WeakSet,eL=function(){u(this,Wc)||(A(this,Wc,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var tg;class tL extends VC{constructor(t){super();T(this,tg);const{map:r,hash:s,transfer:i}=t.serializable,a=structuredClone(r,i?{transfer:i}:null);A(this,tg,{map:a,hash:s,transfer:i})}get print(){ct("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,tg)}get modifiedIds(){return ze(this,"modifiedIds",{ids:new Set,hash:""})}}tg=new WeakMap;var Ch;class zW{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){T(this,Ch,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),u(this,Ch).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:r}){if(!(!e||u(this,Ch).has(e.loadedName))){if(Wt(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:i,style:a}=e,o=new FontFace(s,i,a);this.addNativeFontFace(o);try{await o.load(),u(this,Ch).add(s),r==null||r(e)}catch{Re(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}ct("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(s){throw Re(`Failed to load font '${r.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const s=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return ze(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return ze(this,"isSyncFontLoadingSupported",Gn||An.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Wt(!s.done,"completeRequest() cannot be called twice."),s.done=!0;r.length>0&&r[0].done;){const i=r.shift();setTimeout(i.callback,0)}}const{loadingRequests:r}=this,s={done:!1,complete:t,callback:e};return r.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ze(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(E,C){return E.charCodeAt(C)<<24|E.charCodeAt(C+1)<<16|E.charCodeAt(C+2)<<8|E.charCodeAt(C+3)&255}function s(E,C,R,P){const k=E.substring(0,C),I=E.substring(C+R);return k+P+I}let i,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function d(E,C){if(++c>30){Re("Load test font never loaded."),C();return}if(l.font="30px "+E,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){C();return}setTimeout(d.bind(null,E,C))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=s(p,976,h.length,h);const v=16,g=1482184792;let y=r(p,v);for(i=0,a=h.length-3;i<a;i+=4)y=y-g+r(h,i)|0;i<h.length&&(y=y-g+r(h+"XXX",i)|0),p=s(p,v,4,CW(y));const x=`url(data:font/opentype;base64,${btoa(p)});`,w=`@font-face {font-family:"${h}";src:${x}}`;this.insertRule(w);const b=this._document.createElement("div");b.style.visibility="hidden",b.style.width=b.style.height="10px",b.style.position="absolute",b.style.top=b.style.left="0px";for(const E of[e.loadedName,h]){const C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=E,b.append(C)}this._document.body.append(b),d(h,()=>{b.remove(),t.complete()})}}Ch=new WeakMap;class UW{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this._inspectFont=t}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${SD(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let s;try{s=e.get(r)}catch(a){Re(`getPathGenerator - ignoring character: "${a}".`)}const i=new Path2D(s||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=i}}function VW(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Gn)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function HW(n){if(Gn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return xv(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function ny(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const DS=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,WW=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",GW=kW.bind(null,DS,WW);var ya,g0;class KW{constructor(){T(this,ya,new Map);T(this,g0,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};u(this,g0).then(()=>{for(const[s]of u(this,ya))s.call(this,r)})}addEventListener(e,t,r=null){let s=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:i}=r;if(i.aborted){Re("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);s=()=>i.removeEventListener("abort",a),i.addEventListener("abort",a)}u(this,ya).set(t,s)}removeEventListener(e,t){const r=u(this,ya).get(t);r==null||r(),u(this,ya).delete(t)}terminate(){for(const[,e]of u(this,ya))e==null||e();u(this,ya).clear()}}ya=new WeakMap,g0=new WeakMap;const ry={DATA:1,ERROR:2},Bt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function QN(){}function or(n){if(n instanceof Vl||n instanceof gS||n instanceof GN||n instanceof e0||n instanceof Sb)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||ct('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Vl(n.message);case"InvalidPDFException":return new gS(n.message);case"PasswordException":return new GN(n.message,n.code);case"ResponseException":return new e0(n.message,n.status,n.missing);case"UnknownErrorException":return new Sb(n.message,n.details)}return new Sb(n.message,n.toString())}var Th,ms,nL,rL,sL,Dy;class Ep{constructor(e,t,r){T(this,ms);T(this,Th,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",N(this,ms,nL).bind(this),{signal:u(this,Th).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const s=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[s]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},r)}catch(a){i.reject(a)}return i.promise}sendWithStream(e,t,r,s){const i=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const d=Promise.withResolvers();return this.streamControllers[i]={controller:c,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:i,data:t,desiredSize:c.desiredSize},s),d.promise},pull:c=>{const d=Promise.withResolvers();return this.streamControllers[i].pullCall=d,l.postMessage({sourceName:a,targetName:o,stream:Bt.PULL,streamId:i,desiredSize:c.desiredSize}),d.promise},cancel:c=>{Wt(c instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[i].cancelCall=d,this.streamControllers[i].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:Bt.CANCEL,streamId:i,reason:or(c)}),d.promise}},r)}destroy(){var e;(e=u(this,Th))==null||e.abort(),A(this,Th,null)}}Th=new WeakMap,ms=new WeakSet,nL=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){N(this,ms,sL).call(this,e);return}if(e.callback){const r=e.callbackId,s=this.callbackCapabilities[r];if(!s)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===ry.DATA)s.resolve(e.data);else if(e.callback===ry.ERROR)s.reject(or(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,s=e.sourceName,i=this.comObj;Promise.try(t,e.data).then(function(a){i.postMessage({sourceName:r,targetName:s,callback:ry.DATA,callbackId:e.callbackId,data:a})},function(a){i.postMessage({sourceName:r,targetName:s,callback:ry.ERROR,callbackId:e.callbackId,reason:or(a)})});return}if(e.streamId){N(this,ms,rL).call(this,e);return}t(e.data)},rL=function(e){const t=e.streamId,r=this.sourceName,s=e.sourceName,i=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(c,d=1,h){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=d,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:r,targetName:s,stream:Bt.ENQUEUE,streamId:t,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:r,targetName:s,stream:Bt.CLOSE,streamId:t}),delete a.streamSinks[t])},error(c){Wt(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,i.postMessage({sourceName:r,targetName:s,stream:Bt.ERROR,streamId:t,reason:or(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){i.postMessage({sourceName:r,targetName:s,stream:Bt.START_COMPLETE,streamId:t,success:!0})},function(c){i.postMessage({sourceName:r,targetName:s,stream:Bt.START_COMPLETE,streamId:t,reason:or(c)})})},sL=function(e){const t=e.streamId,r=this.sourceName,s=e.sourceName,i=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case Bt.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(or(e.reason));break;case Bt.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(or(e.reason));break;case Bt.PULL:if(!o){i.postMessage({sourceName:r,targetName:s,stream:Bt.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||QN).then(function(){i.postMessage({sourceName:r,targetName:s,stream:Bt.PULL_COMPLETE,streamId:t,success:!0})},function(c){i.postMessage({sourceName:r,targetName:s,stream:Bt.PULL_COMPLETE,streamId:t,reason:or(c)})});break;case Bt.ENQUEUE:if(Wt(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Bt.CLOSE:if(Wt(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),N(this,ms,Dy).call(this,a,t);break;case Bt.ERROR:Wt(a,"error should have stream controller"),a.controller.error(or(e.reason)),N(this,ms,Dy).call(this,a,t);break;case Bt.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(or(e.reason)),N(this,ms,Dy).call(this,a,t);break;case Bt.CANCEL:if(!o)break;const l=or(e.reason);Promise.try(o.onCancel||QN,l).then(function(){i.postMessage({sourceName:r,targetName:s,stream:Bt.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){i.postMessage({sourceName:r,targetName:s,stream:Bt.CANCEL_COMPLETE,streamId:t,reason:or(c)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Dy=async function(e,t){var r,s,i;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(s=e.pullCall)==null?void 0:s.promise,(i=e.cancelCall)==null?void 0:i.promise]),delete this.streamControllers[t]};var ng;class iL{constructor({enableHWA:e=!1}){T(this,ng,!1);A(this,ng,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!u(this,ng)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){ct("Abstract method `_createCanvas` called.")}}ng=new WeakMap;class YW extends iL{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class aL{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){ct("Abstract method `_fetch` called.")}}class ZN extends aL{async _fetch(e){const t=await wv(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):xv(t)}}Xe(2489);class oL{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,s,i){return"none"}destroy(e=!1){}}var Kc,Rh,xa,wa,Mn,Yc,Xc,he,kn,Ap,vd,Ly,yd,lL,LS,xd,Cp,Tp,FS,Rp;class XW extends oL{constructor({docId:t,ownerDocument:r=globalThis.document}){super();T(this,he);T(this,Kc);T(this,Rh);T(this,xa);T(this,wa);T(this,Mn);T(this,Yc);T(this,Xc,0);A(this,wa,t),A(this,Mn,r)}addFilter(t){if(!t)return"none";let r=u(this,he,kn).get(t);if(r)return r;const[s,i,a]=N(this,he,Ly).call(this,t),o=t.length===1?s:`${s}${i}${a}`;if(r=u(this,he,kn).get(o),r)return u(this,he,kn).set(t,r),r;const l=`g_${u(this,wa)}_transfer_map_${nn(this,Xc)._++}`,c=N(this,he,yd).call(this,l);u(this,he,kn).set(t,c),u(this,he,kn).set(o,c);const d=N(this,he,xd).call(this,l);return N(this,he,Tp).call(this,s,i,a,d),c}addHCMFilter(t,r){var v;const s=`${t}-${r}`,i="base";let a=u(this,he,Ap).get(i);if((a==null?void 0:a.key)===s||(a?((v=a.filter)==null||v.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},u(this,he,Ap).set(i,a)),!t||!r))return a.url;const o=N(this,he,Rp).call(this,t);t=Ee.makeHexColor(...o);const l=N(this,he,Rp).call(this,r);if(r=Ee.makeHexColor(...l),u(this,he,vd).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return a.url;const c=new Array(256);for(let g=0;g<=255;g++){const y=g/255;c[g]=y<=.03928?y/12.92:((y+.055)/1.055)**2.4}const d=c.join(","),h=`g_${u(this,wa)}_hcm_filter`,p=a.filter=N(this,he,xd).call(this,h);N(this,he,Tp).call(this,d,d,d,p),N(this,he,LS).call(this,p);const m=(g,y)=>{const x=o[g]/255,w=l[g]/255,b=new Array(y+1);for(let E=0;E<=y;E++)b[E]=x+E/y*(w-x);return b.join(",")};return N(this,he,Tp).call(this,m(0,5),m(1,5),m(2,5),p),a.url=N(this,he,yd).call(this,h),a.url}addAlphaFilter(t){let r=u(this,he,kn).get(t);if(r)return r;const[s]=N(this,he,Ly).call(this,[t]),i=`alpha_${s}`;if(r=u(this,he,kn).get(i),r)return u(this,he,kn).set(t,r),r;const a=`g_${u(this,wa)}_alpha_map_${nn(this,Xc)._++}`,o=N(this,he,yd).call(this,a);u(this,he,kn).set(t,o),u(this,he,kn).set(i,o);const l=N(this,he,xd).call(this,a);return N(this,he,FS).call(this,s,l),o}addLuminosityFilter(t){let r=u(this,he,kn).get(t||"luminosity");if(r)return r;let s,i;if(t?([s]=N(this,he,Ly).call(this,[t]),i=`luminosity_${s}`):i="luminosity",r=u(this,he,kn).get(i),r)return u(this,he,kn).set(t,r),r;const a=`g_${u(this,wa)}_luminosity_map_${nn(this,Xc)._++}`,o=N(this,he,yd).call(this,a);u(this,he,kn).set(t,o),u(this,he,kn).set(i,o);const l=N(this,he,xd).call(this,a);return N(this,he,lL).call(this,l),t&&N(this,he,FS).call(this,s,l),o}addHighlightHCMFilter(t,r,s,i,a){var w;const o=`${r}-${s}-${i}-${a}`;let l=u(this,he,Ap).get(t);if((l==null?void 0:l.key)===o||(l?((w=l.filter)==null||w.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},u(this,he,Ap).set(t,l)),!r||!s))return l.url;const[c,d]=[r,s].map(N(this,he,Rp).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[m,v]=[i,a].map(N(this,he,Rp).bind(this));p<h&&([h,p,m,v]=[p,h,v,m]),u(this,he,vd).style.color="";const g=(b,E,C)=>{const R=new Array(256),P=(p-h)/C,k=b/255,I=(E-b)/(255*C);let _=0;for(let O=0;O<=C;O++){const M=Math.round(h+O*P),z=k+O*I;for(let D=_;D<=M;D++)R[D]=z;_=M+1}for(let O=_;O<256;O++)R[O]=R[_-1];return R.join(",")},y=`g_${u(this,wa)}_hcm_${t}_filter`,x=l.filter=N(this,he,xd).call(this,y);return N(this,he,LS).call(this,x),N(this,he,Tp).call(this,g(m[0],v[0],5),g(m[1],v[1],5),g(m[2],v[2],5),x),l.url=N(this,he,yd).call(this,y),l.url}destroy(t=!1){var r,s,i,a;t&&((r=u(this,Yc))!=null&&r.size)||((s=u(this,xa))==null||s.parentNode.parentNode.remove(),A(this,xa,null),(i=u(this,Rh))==null||i.clear(),A(this,Rh,null),(a=u(this,Yc))==null||a.clear(),A(this,Yc,null),A(this,Xc,0))}}Kc=new WeakMap,Rh=new WeakMap,xa=new WeakMap,wa=new WeakMap,Mn=new WeakMap,Yc=new WeakMap,Xc=new WeakMap,he=new WeakSet,kn=function(){return u(this,Rh)||A(this,Rh,new Map)},Ap=function(){return u(this,Yc)||A(this,Yc,new Map)},vd=function(){if(!u(this,xa)){const t=u(this,Mn).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const s=u(this,Mn).createElementNS(ea,"svg");s.setAttribute("width",0),s.setAttribute("height",0),A(this,xa,u(this,Mn).createElementNS(ea,"defs")),t.append(s),s.append(u(this,xa)),u(this,Mn).body.append(t)}return u(this,xa)},Ly=function(t){if(t.length===1){const c=t[0],d=new Array(256);for(let p=0;p<256;p++)d[p]=c[p]/255;const h=d.join(",");return[h,h,h]}const[r,s,i]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)a[c]=r[c]/255,o[c]=s[c]/255,l[c]=i[c]/255;return[a.join(","),o.join(","),l.join(",")]},yd=function(t){if(u(this,Kc)===void 0){A(this,Kc,"");const r=u(this,Mn).URL;r!==u(this,Mn).baseURI&&(Sw(r)?Re('#createUrl: ignore "data:"-URL for performance reasons.'):A(this,Kc,xD(r,"")))}return`url(${u(this,Kc)}#${t})`},lL=function(t){const r=u(this,Mn).createElementNS(ea,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},LS=function(t){const r=u(this,Mn).createElementNS(ea,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},xd=function(t){const r=u(this,Mn).createElementNS(ea,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),u(this,he,vd).append(r),r},Cp=function(t,r,s){const i=u(this,Mn).createElementNS(ea,r);i.setAttribute("type","discrete"),i.setAttribute("tableValues",s),t.append(i)},Tp=function(t,r,s,i){const a=u(this,Mn).createElementNS(ea,"feComponentTransfer");i.append(a),N(this,he,Cp).call(this,a,"feFuncR",t),N(this,he,Cp).call(this,a,"feFuncG",r),N(this,he,Cp).call(this,a,"feFuncB",s)},FS=function(t,r){const s=u(this,Mn).createElementNS(ea,"feComponentTransfer");r.append(s),N(this,he,Cp).call(this,s,"feFuncA",t)},Rp=function(t){return u(this,he,vd).style.color=t,UC(getComputedStyle(u(this,he,vd)).getPropertyValue("color"))};class cL{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){ct("Abstract method `_fetch` called.")}}class JN extends cL{async _fetch(e){const t=await wv(e,"arraybuffer");return new Uint8Array(t)}}class uL{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){ct("Abstract method `_fetch` called.")}}class qN extends uL{async _fetch(e){const t=await wv(e,"arraybuffer");return new Uint8Array(t)}}var C2;if(Gn){let n;try{const e=process.getBuiltinModule("module").createRequire(import.meta.url);try{n=e("@napi-rs/canvas")}catch(t){Re(`Cannot load "@napi-rs/canvas" package: "${t}".`)}}catch(e){Re(`Cannot access the \`require\` function: "${e}".`)}globalThis.DOMMatrix||(n!=null&&n.DOMMatrix?globalThis.DOMMatrix=n.DOMMatrix:Re("Cannot polyfill `DOMMatrix`, rendering may be broken.")),globalThis.ImageData||(n!=null&&n.ImageData?globalThis.ImageData=n.ImageData:Re("Cannot polyfill `ImageData`, rendering may be broken.")),globalThis.Path2D||(n!=null&&n.Path2D?globalThis.Path2D=n.Path2D:Re("Cannot polyfill `Path2D`, rendering may be broken.")),(C2=globalThis.navigator)!=null&&C2.language||(globalThis.navigator={language:"en-US",platform:"",userAgent:""})}async function HC(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class QW extends oL{}class ZW extends iL{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class JW extends aL{async _fetch(e){return HC(e)}}class qW extends cL{async _fetch(e){return HC(e)}}class eG extends uL{async _fetch(e){return HC(e)}}const bn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function $S(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,r),n.clip(s)}class WC{isModifyingCurrentTransform(){return!1}getPattern(){ct("Abstract method `getPattern` called.")}}class tG extends WC{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,s){let i;if(s===bn.STROKE||s===bn.FILL){const a=t.current.getClippedPathBoundingBox(s,At(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=t.cachedCanvases.getCanvas("pattern",o,l),d=c.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),r=Ee.transform(r,[1,0,0,1,a[0],a[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),$S(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),i=e.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(r);i.setTransform(h)}else $S(e,this._bbox),i=this._createGradient(e);return i}}function Cb(n,e,t,r,s,i,a,o){const l=e.coords,c=e.colors,d=n.data,h=n.width*4;let p;l[t+1]>l[r+1]&&(p=t,t=r,r=p,p=i,i=a,a=p),l[r+1]>l[s+1]&&(p=r,r=s,s=p,p=a,a=o,o=p),l[t+1]>l[r+1]&&(p=t,t=r,r=p,p=i,i=a,a=p);const m=(l[t]+e.offsetX)*e.scaleX,v=(l[t+1]+e.offsetY)*e.scaleY,g=(l[r]+e.offsetX)*e.scaleX,y=(l[r+1]+e.offsetY)*e.scaleY,x=(l[s]+e.offsetX)*e.scaleX,w=(l[s+1]+e.offsetY)*e.scaleY;if(v>=w)return;const b=c[i],E=c[i+1],C=c[i+2],R=c[a],P=c[a+1],k=c[a+2],I=c[o],_=c[o+1],O=c[o+2],M=Math.round(v),z=Math.round(w);let D,K,B,U,$,F,H,J;for(let Z=M;Z<=z;Z++){if(Z<y){const L=Z<v?0:(v-Z)/(v-y);D=m-(m-g)*L,K=b-(b-R)*L,B=E-(E-P)*L,U=C-(C-k)*L}else{let L;Z>w?L=1:y===w?L=0:L=(y-Z)/(y-w),D=g-(g-x)*L,K=R-(R-I)*L,B=P-(P-_)*L,U=k-(k-O)*L}let te;Z<v?te=0:Z>w?te=1:te=(v-Z)/(v-w),$=m-(m-x)*te,F=b-(b-I)*te,H=E-(E-_)*te,J=C-(C-O)*te;const ye=Math.round(Math.min(D,$)),Ne=Math.round(Math.max(D,$));let Q=h*Z+ye*4;for(let L=ye;L<=Ne;L++)te=(D-L)/(D-$),te<0?te=0:te>1&&(te=1),d[Q++]=K-(K-F)*te|0,d[Q++]=B-(B-H)*te|0,d[Q++]=U-(U-J)*te|0,d[Q++]=255}}function nG(n,e,t){const r=e.coords,s=e.colors;let i,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,c=o-1;for(i=0;i<l;i++){let d=i*o;for(let h=0;h<c;h++,d++)Cb(n,t,r[d],r[d+1],r[d+o],s[d],s[d+1],s[d+o]),Cb(n,t,r[d+o+1],r[d+1],r[d+o],s[d+o+1],s[d+1],s[d+o])}break;case"triangles":for(i=0,a=r.length;i<a;i+=3)Cb(n,t,r[i],r[i+1],r[i+2],s[i],s[i+1],s[i+2]);break;default:throw new Error("illegal figure")}}class rG extends WC{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),m=c/h,v=d/p,g={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/m,scaleY:1/v},y=h+2*2,x=p+2*2,w=r.getCanvas("mesh",y,x),b=w.context,E=b.createImageData(h,p);if(t){const R=E.data;for(let P=0,k=R.length;P<k;P+=4)R[P]=t[0],R[P+1]=t[1],R[P+2]=t[2],R[P+3]=255}for(const R of this._figures)nG(E,R,g);return b.putImageData(E,2,2),{canvas:w.canvas,offsetX:o-2*m,offsetY:l-2*v,scaleX:m,scaleY:v}}isModifyingCurrentTransform(){return!0}getPattern(e,t,r,s){$S(e,this._bbox);const i=new Float32Array(2);if(s===bn.SHADING)Ee.singularValueDecompose2dScale(At(e),i);else if(this.matrix){Ee.singularValueDecompose2dScale(this.matrix,i);const[o,l]=i;Ee.singularValueDecompose2dScale(t.baseTransform,i),i[0]*=o,i[1]*=l}else Ee.singularValueDecompose2dScale(t.baseTransform,i);const a=this._createMeshCanvas(i,s===bn.SHADING?null:this._background,t.cachedCanvases);return s!==bn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class sG extends WC{getPattern(){return"hotpink"}}function iG(n){switch(n[0]){case"RadialAxial":return new tG(n);case"Mesh":return new rG(n);case"Dummy":return new sG}throw new Error(`Unknown IR type: ${n[0]}`)}const e2={COLORED:1,UNCOLORED:2},v0=class v0{constructor(e,t,r,s){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=r,this.baseTransform=s}createPatternCanvas(e){const{bbox:t,operatorList:r,paintType:s,tilingType:i,color:a,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),bw("TilingType: "+i);const d=t[0],h=t[1],p=t[2],m=t[3],v=p-d,g=m-h,y=new Float32Array(2);Ee.singularValueDecompose2dScale(this.matrix,y);const[x,w]=y;Ee.singularValueDecompose2dScale(this.baseTransform,y);const b=x*y[0],E=w*y[1];let C=v,R=g,P=!1,k=!1;const I=Math.ceil(l*b),_=Math.ceil(c*E),O=Math.ceil(v*b),M=Math.ceil(g*E);I>=O?C=l:P=!0,_>=M?R=c:k=!0;const z=this.getSizeAndScale(C,this.ctx.canvas.width,b),D=this.getSizeAndScale(R,this.ctx.canvas.height,E),K=e.cachedCanvases.getCanvas("pattern",z.size,D.size),B=K.context,U=o.createCanvasGraphics(B);if(U.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(U,s,a),B.translate(-z.scale*d,-D.scale*h),U.transform(z.scale,0,0,D.scale,0,0),B.save(),this.clipBbox(U,d,h,p,m),U.baseTransform=At(U.ctx),U.executeOperatorList(r),U.endDrawing(),B.restore(),P||k){const $=K.canvas;P&&(C=l),k&&(R=c);const F=this.getSizeAndScale(C,this.ctx.canvas.width,b),H=this.getSizeAndScale(R,this.ctx.canvas.height,E),J=F.size,Z=H.size,te=e.cachedCanvases.getCanvas("pattern-workaround",J,Z),ye=te.context,Ne=P?Math.floor(v/l):0,Q=k?Math.floor(g/c):0;for(let L=0;L<=Ne;L++)for(let W=0;W<=Q;W++)ye.drawImage($,J*L,Z*W,J,Z,0,0,J,Z);return{canvas:te.canvas,scaleX:F.scale,scaleY:H.scale,offsetX:d,offsetY:h}}return{canvas:K.canvas,scaleX:z.scale,scaleY:D.scale,offsetX:d,offsetY:h}}getSizeAndScale(e,t,r){const s=Math.max(v0.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*r);return i>=s?i=s:r=i/e,{scale:r,size:i}}clipBbox(e,t,r,s,i){const a=s-t,o=i-r;e.ctx.rect(t,r,a,o),Ee.axialAlignedBoundingBox([t,r,s,i],At(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const s=e.ctx,i=e.current;switch(t){case e2.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;s.fillStyle=i.fillColor=a,s.strokeStyle=i.strokeColor=o;break;case e2.UNCOLORED:s.fillStyle=s.strokeStyle=r,i.fillColor=i.strokeColor=r;break;default:throw new AW(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,r,s){let i=r;s!==bn.SHADING&&(i=Ee.transform(i,t.baseTransform),this.matrix&&(i=Ee.transform(i,this.matrix)));const a=this.createPatternCanvas(t);let o=new DOMMatrix(i);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=e.createPattern(a.canvas,"repeat");return l.setTransform(o),l}};ee(v0,"MAX_PATTERN_SIZE",3e3);let BS=v0;function aG({src:n,srcPos:e=0,dest:t,width:r,height:s,nonBlackColor:i=4294967295,inverseDecode:a=!1}){const o=An.isLittleEndian?4278190080:255,[l,c]=a?[i,o]:[o,i],d=r>>3,h=r&7,p=n.length;t=new Uint32Array(t.buffer);let m=0;for(let v=0;v<s;v++){for(const y=e+d;e<y;e++){const x=e<p?n[e]:255;t[m++]=x&128?c:l,t[m++]=x&64?c:l,t[m++]=x&32?c:l,t[m++]=x&16?c:l,t[m++]=x&8?c:l,t[m++]=x&4?c:l,t[m++]=x&2?c:l,t[m++]=x&1?c:l}if(h===0)continue;const g=e<p?n[e++]:255;for(let y=0;y<h;y++)t[m++]=g&1<<7-y?c:l}return{srcPos:e,destPos:m}}const t2=16,n2=100,oG=15,r2=10,gr=16,Tb=new DOMMatrix,zr=new Float32Array(2),Ld=new Float32Array([1/0,1/0,-1/0,-1/0]);function lG(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,r){e.translate(t,r),this.__originalTranslate(t,r)},n.scale=function(t,r){e.scale(t,r),this.__originalScale(t,r)},n.transform=function(t,r,s,i,a,o){e.transform(t,r,s,i,a,o),this.__originalTransform(t,r,s,i,a,o)},n.setTransform=function(t,r,s,i,a,o){e.setTransform(t,r,s,i,a,o),this.__originalSetTransform(t,r,s,i,a,o)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,s,i,a,o){e.bezierCurveTo(t,r,s,i,a,o),this.__originalBezierCurveTo(t,r,s,i,a,o)},n.rect=function(t,r,s,i){e.rect(t,r,s,i),this.__originalRect(t,r,s,i)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class cG{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,r)):(s=this.canvasFactory.create(t,r),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function sy(n,e,t,r,s,i,a,o,l,c){const[d,h,p,m,v,g]=At(n);if(h===0&&p===0){const w=a*d+v,b=Math.round(w),E=o*m+g,C=Math.round(E),R=(a+l)*d+v,P=Math.abs(Math.round(R)-b)||1,k=(o+c)*m+g,I=Math.abs(Math.round(k)-C)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(m),b,C),n.drawImage(e,t,r,s,i,0,0,P,I),n.setTransform(d,h,p,m,v,g),[P,I]}if(d===0&&m===0){const w=o*p+v,b=Math.round(w),E=a*h+g,C=Math.round(E),R=(o+c)*p+v,P=Math.abs(Math.round(R)-b)||1,k=(a+l)*h+g,I=Math.abs(Math.round(k)-C)||1;return n.setTransform(0,Math.sign(h),Math.sign(p),0,b,C),n.drawImage(e,t,r,s,i,0,0,I,P),n.setTransform(d,h,p,m,v,g),[I,P]}n.drawImage(e,t,r,s,i,a,o,l,c);const y=Math.hypot(d,h),x=Math.hypot(p,m);return[y*l,x*c]}class s2{constructor(e,t){ee(this,"alphaIsShape",!1);ee(this,"fontSize",0);ee(this,"fontSizeScale",1);ee(this,"textMatrix",null);ee(this,"textMatrixScale",1);ee(this,"fontMatrix",mS);ee(this,"leading",0);ee(this,"x",0);ee(this,"y",0);ee(this,"lineX",0);ee(this,"lineY",0);ee(this,"charSpacing",0);ee(this,"wordSpacing",0);ee(this,"textHScale",1);ee(this,"textRenderingMode",Pn.FILL);ee(this,"textRise",0);ee(this,"fillColor","#000000");ee(this,"strokeColor","#000000");ee(this,"patternFill",!1);ee(this,"patternStroke",!1);ee(this,"fillAlpha",1);ee(this,"strokeAlpha",1);ee(this,"lineWidth",1);ee(this,"activeSMask",null);ee(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Ld.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=bn.FILL,t=null){const r=this.minMax.slice();if(e===bn.STROKE){t||ct("Stroke bounding box must include transform."),Ee.singularValueDecompose2dScale(t,zr);const s=zr[0]*this.lineWidth/2,i=zr[1]*this.lineWidth/2;r[0]-=s,r[1]-=i,r[2]+=s,r[3]+=i}return r}updateClipFromPath(){const e=Ee.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Ld,0)}getClippedPathBoundingBox(e=bn.FILL,t=null){return Ee.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function i2(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,s=t%gr,i=(t-s)/gr,a=s===0?i:i+1,o=n.createImageData(r,gr);let l=0,c;const d=e.data,h=o.data;let p,m,v,g;if(e.kind===Ry.GRAYSCALE_1BPP){const y=d.byteLength,x=new Uint32Array(h.buffer,0,h.byteLength>>2),w=x.length,b=r+7>>3,E=4294967295,C=An.isLittleEndian?4278190080:255;for(p=0;p<a;p++){for(v=p<i?gr:s,c=0,m=0;m<v;m++){const R=y-l;let P=0;const k=R>b?r:R*8-7,I=k&-8;let _=0,O=0;for(;P<I;P+=8)O=d[l++],x[c++]=O&128?E:C,x[c++]=O&64?E:C,x[c++]=O&32?E:C,x[c++]=O&16?E:C,x[c++]=O&8?E:C,x[c++]=O&4?E:C,x[c++]=O&2?E:C,x[c++]=O&1?E:C;for(;P<k;P++)_===0&&(O=d[l++],_=128),x[c++]=O&_?E:C,_>>=1}for(;c<w;)x[c++]=0;n.putImageData(o,0,p*gr)}}else if(e.kind===Ry.RGBA_32BPP){for(m=0,g=r*gr*4,p=0;p<i;p++)h.set(d.subarray(l,l+g)),l+=g,n.putImageData(o,0,m),m+=gr;p<a&&(g=r*s*4,h.set(d.subarray(l,l+g)),n.putImageData(o,0,m))}else if(e.kind===Ry.RGB_24BPP)for(v=gr,g=r*v,p=0;p<a;p++){for(p>=i&&(v=s,g=r*v),c=0,m=g;m--;)h[c++]=d[l++],h[c++]=d[l++],h[c++]=d[l++],h[c++]=255;n.putImageData(o,0,p*gr)}else throw new Error(`bad image kind: ${e.kind}`)}function a2(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,s=t%gr,i=(t-s)/gr,a=s===0?i:i+1,o=n.createImageData(r,gr);let l=0;const c=e.data,d=o.data;for(let h=0;h<a;h++){const p=h<i?gr:s;({srcPos:l}=aG({src:c,srcPos:l,dest:d,width:r,height:p,nonBlackColor:0})),n.putImageData(o,0,h*gr)}}function ip(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function iy(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function o2(n,e){if(e)return!0;Ee.singularValueDecompose2dScale(n,zr);const t=Math.fround(Hi.pixelRatio*Hl.PDF_TO_CSS_UNITS);return zr[0]<=t&&zr[1]<=t}const uG=["butt","round","square"],dG=["miter","round","bevel"],hG={},l2={};var ti,zS,US,VS;const qC=class qC{constructor(e,t,r,s,i,{optionalContentConfig:a,markedContentStack:o=null},l,c){T(this,ti);this.ctx=e,this.current=new s2(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=s,this.filterFactory=i,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new cG(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:s=null}){const i=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,i,a),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",i,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...At(this.compositeCtx))}this.ctx.save(),iy(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=At(this.ctx)}executeOperatorList(e,t,r,s){const i=e.argsArray,a=e.fnArray;let o=t||0;const l=i.length;if(l===o)return o;const c=l-o>r2&&typeof r=="function",d=c?Date.now()+oG:0;let h=0;const p=this.commonObjs,m=this.objs;let v;for(;;){if(s!==void 0&&o===s.nextBreakPoint)return s.breakIt(o,r),o;if(v=a[o],v!==qx.dependency)this[v].apply(this,i[o]);else for(const g of i[o]){const y=g.startsWith("g_")?p:m;if(!y.has(g))return y.get(g,r),o}if(o++,o===l)return o;if(c&&++h>r2){if(Date.now()>d)return r(),o;h=0}}}endDrawing(){N(this,ti,zS).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),N(this,ti,US).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,s=e.height??e.displayHeight;let i=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=r,l=s,c="prescale1",d,h;for(;i>2&&o>1||a>2&&l>1;){let p=o,m=l;i>2&&o>1&&(p=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),i/=o/p),a>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/m),d=this.cachedCanvases.getCanvas(c,p,m),h=d.context,h.clearRect(0,0,p,m),h.drawImage(e,0,0,o,l,0,0,p,m),e=d.canvas,o=p,l=m,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:s}=e,i=this.current.fillColor,a=this.current.patternFill,o=At(t);let l,c,d,h;if((e.bitmap||e.data)&&e.count>1){const I=e.bitmap||e.data.buffer;c=JSON.stringify(a?o:[o.slice(0,4),i]),l=this._cachedBitmapsMap.get(I),l||(l=new Map,this._cachedBitmapsMap.set(I,l));const _=l.get(c);if(_&&!a){const O=Math.round(Math.min(o[0],o[2])+o[4]),M=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:_,offsetX:O,offsetY:M}}d=_}d||(h=this.cachedCanvases.getCanvas("maskCanvas",r,s),a2(h.context,e));let p=Ee.transform(o,[1/r,0,0,-1/s,0,0]);p=Ee.transform(p,[1,0,0,1,0,-s]);const m=Ld.slice();Ee.axialAlignedBoundingBox([0,0,r,s],p,m);const[v,g,y,x]=m,w=Math.round(y-v)||1,b=Math.round(x-g)||1,E=this.cachedCanvases.getCanvas("fillCanvas",w,b),C=E.context,R=v,P=g;C.translate(-R,-P),C.transform(...p),d||(d=this._scaleImage(h.canvas,oi(C)),d=d.img,l&&a&&l.set(c,d)),C.imageSmoothingEnabled=o2(At(C),e.interpolate),sy(C,d,0,0,d.width,d.height,0,0,r,s),C.globalCompositeOperation="source-in";const k=Ee.transform(oi(C),[1,0,0,1,-R,-P]);return C.fillStyle=a?i.getPattern(t,this,k,bn.FILL):i,C.fillRect(0,0,r,s),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,E.canvas)),{canvas:E.canvas,offsetX:Math.round(R),offsetY:Math.round(P)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=uG[e]}setLineJoin(e){this.ctx.lineJoin=dG[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx;const i=this.ctx=s.context;i.setTransform(this.suspendedCtx.getTransform()),ip(this.suspendedCtx,i),lG(i,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ip(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,s){const i=s[0],a=s[1],o=s[2]-i,l=s[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,r,o,l,t.subtype,t.backdrop,t.transferMap,i,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,s,i,a,o,l,c,d,h){let p=e.canvas,m=l-d,v=c-h;if(a)if(m<0||v<0||m+r>p.width||v+s>p.height){const y=this.cachedCanvases.getCanvas("maskExtension",r,s),x=y.context;x.drawImage(p,-m,-v),x.globalCompositeOperation="destination-atop",x.fillStyle=a,x.fillRect(0,0,r,s),x.globalCompositeOperation="source-over",p=y.canvas,m=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const y=new Path2D;y.rect(m,v,r,s),e.clip(y),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(m,v,r,s),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),i==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):i==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const g=new Path2D;g.rect(l,c,r,s),t.clip(g),t.globalCompositeOperation="destination-in",t.drawImage(p,m,v,r,s,l,c,r,s),t.restore()}save(){this.inSMaskMode&&ip(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&ip(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,r,s,i,a){this.ctx.transform(e,t,r,s,i,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){let[s]=t;if(!r){s||(s=t[0]=new Path2D),this[e](s);return}if(!(s instanceof Path2D)){const i=t[0]=new Path2D;for(let a=0,o=s.length;a<o;)switch(s[a++]){case ty.moveTo:i.moveTo(s[a++],s[a++]);break;case ty.lineTo:i.lineTo(s[a++],s[a++]);break;case ty.curveTo:i.bezierCurveTo(s[a++],s[a++],s[a++],s[a++],s[a++],s[a++]);break;case ty.closePath:i.closePath();break;default:Re(`Unrecognized drawing path operator: ${s[a-1]}`);break}s=i}Ee.axialAlignedBoundingBox(r,At(this.ctx),this.current.minMax),this[e](s)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const r=this.ctx,s=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const i=s.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=s.getPattern(r,this,oi(r),bn.STROKE),i){const a=new Path2D;a.addPath(e,r.getTransform().invertSelf().multiplySelf(i)),e=a}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(bn.STROKE,At(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const r=this.ctx,s=this.current.fillColor,i=this.current.patternFill;let a=!1;if(i){const l=s.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.fillStyle=s.getPattern(r,this,oi(r),bn.FILL),l){const c=new Path2D;c.addPath(e,r.getTransform().invertSelf().multiplySelf(l)),e=c}a=!0}const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),a&&r.restore(),t&&this.consumePath(e,o)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=hG}eoClip(){this.pendingClip=l2}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0)return;const r=new Path2D,s=t.getTransform().invertSelf();for(const{transform:i,x:a,y:o,fontSize:l,path:c}of e)r.addPath(c,new DOMMatrix(i).preMultiplySelf(s).translate(a,o).scale(l,-l));t.clip(r),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var d;const r=this.commonObjs.get(e),s=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=r.fontMatrix||mS,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Re("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const i=r.loadedName||"sans-serif",a=((d=r.systemFontInfo)==null?void 0:d.css)||`"${i}", ${r.fallbackName}`;let o="normal";r.black?o="900":r.bold&&(o="bold");const l=r.italic?"italic":"normal";let c=t;t<t2?c=t2:t>n2&&(c=n2),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${o} ${c}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,s,i){const a=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,d=o.fontSize/o.fontSizeScale,h=c&Pn.FILL_STROKE_MASK,p=!!(c&Pn.ADD_TO_PATH_FLAG),m=o.patternFill&&!l.missingFile,v=o.patternStroke&&!l.missingFile;let g;if((l.disableFontFace||p||m||v)&&(g=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||m||v){a.save(),a.translate(t,r),a.scale(d,-d);let y;if((h===Pn.FILL||h===Pn.FILL_STROKE)&&(s?(y=a.getTransform(),a.setTransform(...s),a.fill(N(this,ti,VS).call(this,g,y,s))):a.fill(g)),h===Pn.STROKE||h===Pn.FILL_STROKE)if(i){y||(y=a.getTransform()),a.setTransform(...i);const{a:x,b:w,c:b,d:E}=y,C=Ee.inverseTransform(i),R=Ee.transform([x,w,b,E,0,0],C);Ee.singularValueDecompose2dScale(R,zr),a.lineWidth*=Math.max(zr[0],zr[1])/d,a.stroke(N(this,ti,VS).call(this,g,y,i))}else a.lineWidth/=d,a.stroke(g);a.restore()}else(h===Pn.FILL||h===Pn.FILL_STROKE)&&a.fillText(e,t,r),(h===Pn.STROKE||h===Pn.FILL_STROKE)&&a.strokeText(e,t,r);p&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:At(a),x:t,y:r,fontSize:d,path:g})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){r=!0;break}return ze(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(s===0)return;const i=this.ctx,a=t.fontSizeScale,o=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,d=t.textHScale*c,h=e.length,p=r.vertical,m=p?1:-1,v=r.defaultVMetrics,g=s*t.fontMatrix[0],y=t.textRenderingMode===Pn.FILL&&!r.disableFontFace&&!t.patternFill;i.save(),t.textMatrix&&i.transform(...t.textMatrix),i.translate(t.x,t.y+t.textRise),c>0?i.scale(d,-1):i.scale(d,1);let x,w;if(t.patternFill){i.save();const P=t.fillColor.getPattern(i,this,oi(i),bn.FILL);x=At(i),i.restore(),i.fillStyle=P}if(t.patternStroke){i.save();const P=t.strokeColor.getPattern(i,this,oi(i),bn.STROKE);w=At(i),i.restore(),i.strokeStyle=P}let b=t.lineWidth;const E=t.textMatrixScale;if(E===0||b===0){const P=t.textRenderingMode&Pn.FILL_STROKE_MASK;(P===Pn.STROKE||P===Pn.FILL_STROKE)&&(b=this.getSinglePixelWidth())}else b/=E;if(a!==1&&(i.scale(a,a),b/=a),i.lineWidth=b,r.isInvalidPDFjsFont){const P=[];let k=0;for(const I of e)P.push(I.unicode),k+=I.width;i.fillText(P.join(""),0,0),t.x+=k*g*d,i.restore(),this.compose();return}let C=0,R;for(R=0;R<h;++R){const P=e[R];if(typeof P=="number"){C+=m*P*s/1e3;continue}let k=!1;const I=(P.isSpace?l:0)+o,_=P.fontChar,O=P.accent;let M,z,D=P.width;if(p){const B=P.vmetric||v,U=-(P.vmetric?B[1]:D*.5)*g,$=B[2]*g;D=B?-B[0]:D,M=U/a,z=(C+$)/a}else M=C/a,z=0;if(r.remeasure&&D>0){const B=i.measureText(_).width*1e3/s*a;if(D<B&&this.isFontSubpixelAAEnabled){const U=D/B;k=!0,i.save(),i.scale(U,1),M/=U}else D!==B&&(M+=(D-B)/2e3*s/a)}if(this.contentVisible&&(P.isInFont||r.missingFile)){if(y&&!O)i.fillText(_,M,z);else if(this.paintChar(_,M,z,x,w),O){const B=M+s*O.offset.x/a,U=z-s*O.offset.y/a;this.paintChar(O.fontChar,B,U,x,w)}}const K=p?D*g-I*c:D*g+I*c;C+=K,k&&i.restore()}p?t.y-=C:t.x+=C*d,i.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,s=r.font,i=r.fontSize,a=r.fontDirection,o=s.vertical?1:-1,l=r.charSpacing,c=r.wordSpacing,d=r.textHScale*a,h=r.fontMatrix||mS,p=e.length,m=r.textRenderingMode===Pn.INVISIBLE;let v,g,y,x;if(!(m||i===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),r.textMatrix&&t.transform(...r.textMatrix),t.translate(r.x,r.y+r.textRise),t.scale(d,a),v=0;v<p;++v){if(g=e[v],typeof g=="number"){x=o*g*i/1e3,this.ctx.translate(x,0),r.x+=x*d;continue}const w=(g.isSpace?c:0)+l,b=s.charProcOperatorList[g.operatorListId];b?this.contentVisible&&(this.save(),t.scale(i,i),t.transform(...h),this.executeOperatorList(b),this.restore()):Re(`Type3 character "${g.operatorListId}" is not available.`);const E=[g.width,0];Ee.applyTransform(E,h),y=E[0]*i+w,t.translate(y,0),r.x+=y*d}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,s,i,a){const o=new Path2D;o.rect(r,s,i-r,a-s),this.ctx.clip(o),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=this.baseTransform||At(this.ctx),s={createCanvasGraphics:i=>new qC(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new BS(e,this.ctx,s,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=iG(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,oi(t),bn.SHADING);const s=oi(t);if(s){const{width:i,height:a}=t.canvas,o=Ld.slice();Ee.axialAlignedBoundingBox([0,0,i,a],s,o);const[l,c,d,h]=o;this.ctx.fillRect(l,c,d-l,h-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ct("Should not call beginInlineImage")}beginImageData(){ct("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=At(this.ctx),t)){Ee.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[r,s,i,a]=t,o=new Path2D;o.rect(r,s,i-r,a-s),this.ctx.clip(o),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||bw("TODO: Support non-isolated groups."),e.knockout&&Re("Knockout groups not supported.");const r=At(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=Ld.slice();Ee.axialAlignedBoundingBox(e.bbox,At(t),s);const i=[0,0,t.canvas.width,t.canvas.height];s=Ee.intersect(s,i)||[0,0,0,0];const a=Math.floor(s[0]),o=Math.floor(s[1]),l=Math.max(Math.ceil(s[2])-a,1),c=Math.max(Math.ceil(s[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,c]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,l,c),p=h.context;p.translate(-a,-o),p.transform(...r);let m=new Path2D;const[v,g,y,x]=e.bbox;if(m.rect(v,g,y-v,x-g),e.matrix){const w=new Path2D;w.addPath(m,new DOMMatrix(e.matrix)),m=w}p.clip(m),e.smask?this.smaskStack.push({canvas:h.canvas,context:p,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.save()),ip(t,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=At(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const i=Ld.slice();Ee.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],s,i),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(i)}}beginAnnotation(e,t,r,s,i){if(N(this,ti,zS).call(this),iy(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],o=t[3]-t[1];if(i&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=o,Ee.singularValueDecompose2dScale(At(this.ctx),zr);const{viewportScale:l}=this,c=Math.ceil(a*this.outputScaleX*l),d=Math.ceil(o*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(c,d);const{canvas:h,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(e,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(zr[0],0,0,-zr[1],0,o*zr[1]),iy(this.ctx)}else{iy(this.ctx),this.endPath();const l=new Path2D;l.rect(t[0],t[1],a,o),this.ctx.clip(l)}}this.current=new s2(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),N(this,ti,US).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,s=this._createMaskCanvas(e),i=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(i,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,s=0,i,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=At(o);o.transform(t,r,s,i,0,0);const c=this._createMaskCanvas(e);o.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let d=0,h=a.length;d<h;d+=2){const p=Ee.transform(l,[t,r,s,i,a[d],a[d+1]]);o.drawImage(c.canvas,p[4],p[5])}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,s=this.current.patternFill;for(const i of e){const{data:a,width:o,height:l,transform:c}=i,d=this.cachedCanvases.getCanvas("maskCanvas",o,l),h=d.context;h.save();const p=this.getObject(a,i);a2(h,p),h.globalCompositeOperation="source-in",h.fillStyle=s?r.getPattern(h,this,oi(t),bn.FILL):r,h.fillRect(0,0,o,l),h.restore(),t.save(),t.transform(...c),t.scale(1,-1),sy(t,d.canvas,0,0,o,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Re("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,s){if(!this.contentVisible)return;const i=this.getObject(e);if(!i){Re("Dependent image isn't ready yet");return}const a=i.width,o=i.height,l=[];for(let c=0,d=s.length;c<d;c+=2)l.push({transform:[t,0,0,r,s[c],s[c+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(i,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:s}=e,i=this.cachedCanvases.getCanvas("inlineImage",r,s),a=i.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",i.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,s=this.ctx;this.save();const{filter:i}=s;i!=="none"&&i!==""&&(s.filter="none"),s.scale(1/t,-1/r);let a;if(e.bitmap)a=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)a=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",t,r).context;i2(c,e),a=this.applyTransferMapsToCanvas(c)}const o=this._scaleImage(a,oi(s));s.imageSmoothingEnabled=o2(At(s),e.interpolate),sy(s,o.img,0,0,o.paintWidth,o.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const i=e.width,a=e.height,l=this.cachedCanvases.getCanvas("inlineImage",i,a).context;i2(l,e),s=this.applyTransferMapsToCanvas(l)}for(const i of t)r.save(),r.transform(...i.transform),r.scale(1,-1),sy(r,s,i.x,i.y,i.w,i.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const s=this.ctx;this.pendingClip&&(r||(this.pendingClip===l2?s.clip(e,"evenodd"):s.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=At(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:s,d:i}=this.ctx.getTransform();let a,o;if(r===0&&s===0){const l=Math.abs(t),c=Math.abs(i);if(l===c)if(e===0)a=o=1/l;else{const d=l*e;a=o=d<1?1/d:1}else if(e===0)a=1/l,o=1/c;else{const d=l*e,h=c*e;a=d<1?1/d:1,o=h<1?1/h:1}}else{const l=Math.abs(t*i-r*s),c=Math.hypot(t,r),d=Math.hypot(s,i);if(e===0)a=d/l,o=c/l;else{const h=e*l;a=d>h?d/h:1,o=c>h?c/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:r,current:{lineWidth:s}}=this,[i,a]=this.getScaleForStroking();if(i===a){r.lineWidth=(s||1)*i,r.stroke(e);return}const o=r.getLineDash();t&&r.save(),r.scale(i,a),Tb.a=1/i,Tb.d=1/a;const l=new Path2D;if(l.addPath(e,Tb),o.length>0){const c=Math.max(i,a);r.setLineDash(o.map(d=>d/c)),r.lineDashOffset/=c}r.lineWidth=s||1,r.stroke(l),t&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};ti=new WeakSet,zS=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},US=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},VS=function(e,t,r){const s=new Path2D;return s.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),s};let Zd=qC;for(const n in qx)Zd.prototype[n]!==void 0&&(Zd.prototype[qx[n]]=Zd.prototype[n]);var rg,sg;class Oi{static get workerPort(){return u(this,rg)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");A(this,rg,e)}static get workerSrc(){return u(this,sg)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");A(this,sg,e)}}rg=new WeakMap,sg=new WeakMap,T(Oi,rg,null),T(Oi,sg,"");var Nh,ig;class fG{constructor({parsedData:e,rawData:t}){T(this,Nh);T(this,ig);A(this,Nh,e),A(this,ig,t)}getRaw(){return u(this,ig)}get(e){return u(this,Nh).get(e)??null}[Symbol.iterator](){return u(this,Nh).entries()}}Nh=new WeakMap,ig=new WeakMap;const wd=Symbol("INTERNAL");var ag,og,lg,Ph;class pG{constructor(e,{name:t,intent:r,usage:s,rbGroups:i}){T(this,ag,!1);T(this,og,!1);T(this,lg,!1);T(this,Ph,!0);A(this,ag,!!(e&Fr.DISPLAY)),A(this,og,!!(e&Fr.PRINT)),this.name=t,this.intent=r,this.usage=s,this.rbGroups=i}get visible(){if(u(this,lg))return u(this,Ph);if(!u(this,Ph))return!1;const{print:e,view:t}=this.usage;return u(this,ag)?(t==null?void 0:t.viewState)!=="OFF":u(this,og)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==wd&&ct("Internal method `_setVisible` called."),A(this,lg,r),A(this,Ph,t)}}ag=new WeakMap,og=new WeakMap,lg=new WeakMap,Ph=new WeakMap;var Jo,ot,kh,Ih,cg,HS;class mG{constructor(e,t=Fr.DISPLAY){T(this,cg);T(this,Jo,null);T(this,ot,new Map);T(this,kh,null);T(this,Ih,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,A(this,Ih,e.order);for(const r of e.groups)u(this,ot).set(r.id,new pG(t,r));if(e.baseState==="OFF")for(const r of u(this,ot).values())r._setVisible(wd,!1);for(const r of e.on)u(this,ot).get(r)._setVisible(wd,!0);for(const r of e.off)u(this,ot).get(r)._setVisible(wd,!1);A(this,kh,this.getHash())}}isVisible(e){if(u(this,ot).size===0)return!0;if(!e)return bw("Optional content group not defined."),!0;if(e.type==="OCG")return u(this,ot).has(e.id)?u(this,ot).get(e.id).visible:(Re(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return N(this,cg,HS).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!u(this,ot).has(t))return Re(`Optional content group not found: ${t}`),!0;if(u(this,ot).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!u(this,ot).has(t))return Re(`Optional content group not found: ${t}`),!0;if(!u(this,ot).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!u(this,ot).has(t))return Re(`Optional content group not found: ${t}`),!0;if(!u(this,ot).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!u(this,ot).has(t))return Re(`Optional content group not found: ${t}`),!0;if(u(this,ot).get(t).visible)return!1}return!0}return Re(`Unknown optional content policy ${e.policy}.`),!0}return Re(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var i;const s=u(this,ot).get(e);if(!s){Re(`Optional content group not found: ${e}`);return}if(r&&t&&s.rbGroups.length)for(const a of s.rbGroups)for(const o of a)o!==e&&((i=u(this,ot).get(o))==null||i._setVisible(wd,!1,!0));s._setVisible(wd,!!t,!0),A(this,Jo,null)}setOCGState({state:e,preserveRB:t}){let r;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":r=s;continue}const i=u(this,ot).get(s);if(i)switch(r){case"ON":this.setVisibility(s,!0,t);break;case"OFF":this.setVisibility(s,!1,t);break;case"Toggle":this.setVisibility(s,!i.visible,t);break}}A(this,Jo,null)}get hasInitialVisibility(){return u(this,kh)===null||this.getHash()===u(this,kh)}getOrder(){return u(this,ot).size?u(this,Ih)?u(this,Ih).slice():[...u(this,ot).keys()]:null}getGroup(e){return u(this,ot).get(e)||null}getHash(){if(u(this,Jo)!==null)return u(this,Jo);const e=new qD;for(const[t,r]of u(this,ot))e.update(`${t}:${r.visible}`);return A(this,Jo,e.hexdigest())}[Symbol.iterator](){return u(this,ot).entries()}}Jo=new WeakMap,ot=new WeakMap,kh=new WeakMap,Ih=new WeakMap,cg=new WeakSet,HS=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let s=1;s<t;s++){const i=e[s];let a;if(Array.isArray(i))a=N(this,cg,HS).call(this,i);else if(u(this,ot).has(i))a=u(this,ot).get(i).visible;else return Re(`Optional content group not found: ${i}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"};class gG{constructor(e,{disableRange:t=!1,disableStream:r=!1}){Wt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:i,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(i==null?void 0:i.length)>0){const l=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const s=this._rangeReaders.some(function(i){return i._begin!==e?!1:(i._enqueue(r),!0)});Wt(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,s,i;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(i=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||i.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Wt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new vG(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new yG(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class vG{constructor(e,t,r=!1,s=null){this._stream=e,this._done=r||!1,this._filename=BC(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class yG{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function xG(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let d=o(t);return d=unescape(d),d=l(d),d=c(d),i(d)}if(t=a(n),t){const d=c(t);return i(d)}if(t=r("filename","i").exec(n),t){t=t[1];let d=o(t);return d=c(d),i(d)}function r(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function s(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const p=new TextDecoder(d,{fatal:!0}),m=xv(h);h=p.decode(m),e=!1}catch{}}return h}function i(d){return e&&/[\x80-\xff]/.test(d)&&(d=s("utf-8",d),e&&(d=s("iso-8859-1",d))),d}function a(d){const h=[];let p;const m=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=m.exec(d))!==null;){let[,g,y,x]=p;if(g=parseInt(g,10),g in h){if(g===0)break;continue}h[g]=[y,x]}const v=[];for(let g=0;g<h.length&&g in h;++g){let[y,x]=h[g];x=o(x),y&&(x=unescape(x),g===0&&(x=l(x))),v.push(x)}return v.join("")}function o(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let p=0;p<h.length;++p){const m=h[p].indexOf('"');m!==-1&&(h[p]=h[p].slice(0,m),h.length=p+1),h[p]=h[p].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const p=d.slice(0,h),v=d.slice(h+1).replace(/^[^']*'/,"");return s(p,v)}function c(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,p,m,v){if(m==="q"||m==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,y){return String.fromCharCode(parseInt(y,16))}),s(p,v);try{v=atob(v)}catch{}return s(p,v)})}return""}function dL(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const s=e[r];s!==void 0&&t.append(r,s)}return t}function Ew(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function hL({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const s={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(n.get("Content-Length"),10);return!Number.isInteger(i)||(s.suggestedLength=i,i<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function fL(n){const e=n.get("Content-Disposition");if(e){let t=xG(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(BC(t))return t}return null}function Ev(n,e){return new e0(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function pL(n){return n===200||n===206}function mL(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function gL(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Re(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class wG{constructor(e){ee(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=dL(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Wt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new bG(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new SG(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class bG{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),s=t.url;fetch(s,mL(r,this._withCredentials,this._abortController)).then(i=>{if(e._responseOrigin=Ew(i.url),!pL(i.status))throw Ev(i.status,s);this._reader=i.body.getReader(),this._headersCapability.resolve();const a=i.headers,{allowRangeRequests:o,suggestedLength:l}=hL({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=fL(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Vl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:gL(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class SG{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range",`bytes=${t}-${r-1}`);const a=s.url;fetch(a,mL(i,this._withCredentials,this._abortController)).then(o=>{const l=Ew(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!pL(o.status))throw Ev(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:gL(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Rb=200,Nb=206;function EG(n){const e=n.response;return typeof e!="string"?e:xv(e).buffer}class AG{constructor({url:e,httpHeaders:t,withCredentials:r}){ee(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=dL(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,s=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[i,a]of this.headers)t.setRequestHeader(i,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=Nb):s.expectedStatus=Rb,t.responseType="arraybuffer",Wt(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var s;const r=this.pendingRequests[e];r&&((s=r.onProgress)==null||s.call(r,t))}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const s=r.xhr;if(s.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){r.onError(s.status);return}const i=s.status||Rb;if(!(i===Rb&&r.expectedStatus===Nb)&&i!==r.expectedStatus){r.onError(s.status);return}const o=EG(s);if(i===Nb){const l=s.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?r.onDone({begin:parseInt(c[1],10),chunk:o}):(Re('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class CG{constructor(e){this._source=e,this._manager=new AG(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Wt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new TG(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new RG(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class TG{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Ew(t.responseURL);const r=t.getAllResponseHeaders(),s=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...c]=o.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:i,suggestedLength:a}=hL({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=fL(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Ev(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class RG{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=Ew((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Ev(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const NG=/^[a-z][a-z0-9\-+.]+:/i;function PG(n){if(NG.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class kG{constructor(e){this.source=e,this.url=PG(e.url),Wt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Wt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new IG(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new _G(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class IG{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=Ev(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Vl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class _G{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=e.source;this._isStreamingSupported=!s.disableStream;const i=process.getBuiltinModule("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const ap=Symbol("INITIAL_DATA");var Rr,ug,WS;class vL{constructor(){T(this,ug);T(this,Rr,Object.create(null))}get(e,t=null){if(t){const s=N(this,ug,WS).call(this,e);return s.promise.then(()=>t(s.data)),null}const r=u(this,Rr)[e];if(!r||r.data===ap)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=u(this,Rr)[e];return!!t&&t.data!==ap}delete(e){const t=u(this,Rr)[e];return!t||t.data===ap?!1:(delete u(this,Rr)[e],!0)}resolve(e,t=null){const r=N(this,ug,WS).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in u(this,Rr)){const{data:r}=u(this,Rr)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}A(this,Rr,Object.create(null))}*[Symbol.iterator](){for(const e in u(this,Rr)){const{data:t}=u(this,Rr)[e];t!==ap&&(yield[e,t])}}}Rr=new WeakMap,ug=new WeakSet,WS=function(e){var t;return(t=u(this,Rr))[e]||(t[e]={...Promise.withResolvers(),data:ap})};const MG=1e5,c2=30;var T2,qo,hr,dg,hg,Qc,ba,fg,pg,Zc,_h,Mh,el,Oh,mg,jh,Jc,gg,vg,Dh,qc,yg,tl,Lh,ao,yL,xL,GS,Kr,Fy,KS,wL,bL;const Yt=class Yt{constructor({textContentSource:e,container:t,viewport:r}){T(this,ao);T(this,qo,Promise.withResolvers());T(this,hr,null);T(this,dg,!1);T(this,hg,!!((T2=globalThis.FontInspector)!=null&&T2.enabled));T(this,Qc,null);T(this,ba,null);T(this,fg,0);T(this,pg,0);T(this,Zc,null);T(this,_h,null);T(this,Mh,0);T(this,el,0);T(this,Oh,Object.create(null));T(this,mg,[]);T(this,jh,null);T(this,Jc,[]);T(this,gg,new WeakMap);T(this,vg,null);var l;if(e instanceof ReadableStream)A(this,jh,e);else if(typeof e=="object")A(this,jh,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');A(this,hr,A(this,_h,t)),A(this,el,r.scale*Hi.pixelRatio),A(this,Mh,r.rotation),A(this,ba,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:i,pageX:a,pageY:o}=r.rawDims;A(this,vg,[1,0,0,-1,-a,o+i]),A(this,pg,s),A(this,fg,i),N(l=Yt,Kr,wL).call(l),Zu(t,r),u(this,qo).promise.finally(()=>{u(Yt,Lh).delete(this),A(this,ba,null),A(this,Oh,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=An.platform;return ze(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{u(this,Zc).read().then(({value:t,done:r})=>{if(r){u(this,qo).resolve();return}u(this,Qc)??A(this,Qc,t.lang),Object.assign(u(this,Oh),t.styles),N(this,ao,yL).call(this,t.items),e()},u(this,qo).reject)};return A(this,Zc,u(this,jh).getReader()),u(Yt,Lh).add(this),e(),u(this,qo).promise}update({viewport:e,onBefore:t=null}){var i;const r=e.scale*Hi.pixelRatio,s=e.rotation;if(s!==u(this,Mh)&&(t==null||t(),A(this,Mh,s),Zu(u(this,_h),{rotation:s})),r!==u(this,el)){t==null||t(),A(this,el,r);const a={div:null,properties:null,ctx:N(i=Yt,Kr,Fy).call(i,u(this,Qc))};for(const o of u(this,Jc))a.properties=u(this,gg).get(o),a.div=o,N(this,ao,GS).call(this,a)}}cancel(){var t;const e=new Vl("TextLayer task cancelled.");(t=u(this,Zc))==null||t.cancel(e).catch(()=>{}),A(this,Zc,null),u(this,qo).reject(e)}get textDivs(){return u(this,Jc)}get textContentItemsStr(){return u(this,mg)}static cleanup(){if(!(u(this,Lh).size>0)){u(this,Dh).clear();for(const{canvas:e}of u(this,qc).values())e.remove();u(this,qc).clear()}}};qo=new WeakMap,hr=new WeakMap,dg=new WeakMap,hg=new WeakMap,Qc=new WeakMap,ba=new WeakMap,fg=new WeakMap,pg=new WeakMap,Zc=new WeakMap,_h=new WeakMap,Mh=new WeakMap,el=new WeakMap,Oh=new WeakMap,mg=new WeakMap,jh=new WeakMap,Jc=new WeakMap,gg=new WeakMap,vg=new WeakMap,Dh=new WeakMap,qc=new WeakMap,yg=new WeakMap,tl=new WeakMap,Lh=new WeakMap,ao=new WeakSet,yL=function(e){var s,i;if(u(this,dg))return;(i=u(this,ba)).ctx??(i.ctx=N(s=Yt,Kr,Fy).call(s,u(this,Qc)));const t=u(this,Jc),r=u(this,mg);for(const a of e){if(t.length>MG){Re("Ignoring additional textDivs for performance reasons."),A(this,dg,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=u(this,hr);A(this,hr,document.createElement("span")),u(this,hr).classList.add("markedContent"),a.id!==null&&u(this,hr).setAttribute("id",`${a.id}`),o.append(u(this,hr))}else a.type==="endMarkedContent"&&A(this,hr,u(this,hr).parentNode);continue}r.push(a.str),N(this,ao,xL).call(this,a)}},xL=function(e){var g;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};u(this,Jc).push(t);const s=Ee.transform(u(this,vg),e.transform);let i=Math.atan2(s[1],s[0]);const a=u(this,Oh)[e.fontName];a.vertical&&(i+=Math.PI/2);let o=u(this,hg)&&a.fontSubstitution||a.fontFamily;o=Yt.fontFamilyMap.get(o)||o;const l=Math.hypot(s[2],s[3]),c=l*N(g=Yt,Kr,bL).call(g,o,a,u(this,Qc));let d,h;i===0?(d=s[4],h=s[5]-c):(d=s[4]+c*Math.sin(i),h=s[5]-c*Math.cos(i));const p="calc(var(--total-scale-factor) *",m=t.style;u(this,hr)===u(this,_h)?(m.left=`${(100*d/u(this,pg)).toFixed(2)}%`,m.top=`${(100*h/u(this,fg)).toFixed(2)}%`):(m.left=`${p}${d.toFixed(2)}px)`,m.top=`${p}${h.toFixed(2)}px)`),m.fontSize=`${p}${(u(Yt,tl)*l).toFixed(2)}px)`,m.fontFamily=o,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,u(this,hg)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),i!==0&&(r.angle=i*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const y=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);y!==x&&Math.max(y,x)/Math.min(y,x)>1.5&&(v=!0)}if(v&&(r.canvasWidth=a.vertical?e.height:e.width),u(this,gg).set(t,r),u(this,ba).div=t,u(this,ba).properties=r,N(this,ao,GS).call(this,u(this,ba)),r.hasText&&u(this,hr).append(t),r.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),u(this,hr).append(y)}},GS=function(e){var o;const{div:t,properties:r,ctx:s}=e,{style:i}=t;let a="";if(u(Yt,tl)>1&&(a=`scale(${1/u(Yt,tl)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=i,{canvasWidth:c,fontSize:d}=r;N(o=Yt,Kr,KS).call(o,s,d*u(this,el),l);const{width:h}=s.measureText(t.textContent);h>0&&(a=`scaleX(${c*u(this,el)/h}) ${a}`)}r.angle!==0&&(a=`rotate(${r.angle}deg) ${a}`),a.length>0&&(i.transform=a)},Kr=new WeakSet,Fy=function(e=null){let t=u(this,qc).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,qc).set(e,t),u(this,yg).set(t,{size:0,family:""})}return t},KS=function(e,t,r){const s=u(this,yg).get(e);t===s.size&&r===s.family||(e.font=`${t}px ${r}`,s.size=t,s.family=r)},wL=function(){if(u(this,tl)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),A(this,tl,e.getBoundingClientRect().height),e.remove()},bL=function(e,t,r){const s=u(this,Dh).get(e);if(s)return s;const i=N(this,Kr,Fy).call(this,r);i.canvas.width=i.canvas.height=c2,N(this,Kr,KS).call(this,i,c2,e);const a=i.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);i.canvas.width=i.canvas.height=0;let c=.8;return o?c=o/(o+l):(An.platform.isFirefox&&Re("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?c=t.ascent:t.descent&&(c=1+t.descent)),u(this,Dh).set(e,c),c},T(Yt,Kr),T(Yt,Dh,new Map),T(Yt,qc,new Map),T(Yt,yg,new WeakMap),T(Yt,tl,null),T(Yt,Lh,new Set);let Em=Yt;class Am{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function s(i){var l;if(!i)return;let a=null;const o=i.name;if(o==="#text")a=i.value;else if(Am.shouldBuildText(o))(l=i==null?void 0:i.attributes)!=null&&l.textContent?a=i.attributes.textContent:i.value&&(a=i.value);else return;if(a!==null&&t.push({str:a}),!!i.children)for(const c of i.children)s(c)}return s(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const OG=100;function SL(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new YS,{docId:t}=e,r=n.url?VW(n.url):null,s=n.data?HW(n.data):null,i=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof EL?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let d=n.worker instanceof Cm?n.worker:null;const h=n.verbosity,p=typeof n.docBaseUrl=="string"&&!Sw(n.docBaseUrl)?n.docBaseUrl:null,m=ny(n.cMapUrl),v=n.cMapPacked!==!1,g=n.CMapReaderFactory||(Gn?JW:ZN),y=ny(n.iccUrl),x=ny(n.standardFontDataUrl),w=n.StandardFontDataFactory||(Gn?qW:JN),b=ny(n.wasmUrl),E=n.WasmFactory||(Gn?eG:qN),C=n.stopAtErrors!==!0,R=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,P=n.isEvalSupported!==!1,k=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Gn,I=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Gn&&(An.platform.isFirefox||!globalThis.chrome),_=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,O=typeof n.disableFontFace=="boolean"?n.disableFontFace:Gn,M=n.fontExtraProperties===!0,z=n.enableXfa===!0,D=n.ownerDocument||globalThis.document,K=n.disableRange===!0,B=n.disableStream===!0,U=n.disableAutoFetch===!0,$=n.pdfBug===!0,F=n.CanvasFactory||(Gn?ZW:YW),H=n.FilterFactory||(Gn?QW:XW),J=n.enableHWA===!0,Z=n.useWasm!==!1,te=l?l.length:n.length??NaN,ye=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Gn&&!O,Ne=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(g===ZN&&w===JN&&E===qN&&m&&x&&b&&yp(m,document.baseURI)&&yp(x,document.baseURI)&&yp(b,document.baseURI)),Q=null;bW(h);const L={canvasFactory:new F({ownerDocument:D,enableHWA:J}),filterFactory:new H({docId:t,ownerDocument:D}),cMapReaderFactory:Ne?null:new g({baseUrl:m,isCompressed:v}),standardFontDataFactory:Ne?null:new w({baseUrl:x}),wasmFactory:Ne?null:new E({baseUrl:b})};d||(d=Cm.create({verbosity:h,port:Oi.workerPort}),e._worker=d);const W={docId:t,apiVersion:"5.3.93",data:s,password:o,disableAutoFetch:U,rangeChunkSize:c,length:te,docBaseUrl:p,enableXfa:z,evaluatorOptions:{maxImageSize:R,disableFontFace:O,ignoreErrors:C,isEvalSupported:P,isOffscreenCanvasSupported:k,isImageDecoderSupported:I,canvasMaxAreaInBytes:_,fontExtraProperties:M,useSystemFonts:ye,useWasm:Z,useWorkerFetch:Ne,cMapUrl:m,iccUrl:y,standardFontDataUrl:x,wasmUrl:b}},Y={ownerDocument:D,pdfBug:$,styleElement:Q,loadingParams:{disableAutoFetch:U,enableXfa:z}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const ie=d.messageHandler.sendWithPromise("GetDocRequest",W,s?[s.buffer]:null);let de;if(l)de=new gG(l,{disableRange:K,disableStream:B});else if(!s){if(!r)throw new Error("getDocument - no `url` parameter provided.");const Ae=yp(r)?wG:Gn?kG:CG;de=new Ae({url:r,length:te,httpHeaders:i,withCredentials:a,rangeChunkSize:c,disableRange:K,disableStream:B})}return ie.then(Ae=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const nt=new Ep(t,Ae,d.port),_t=new LG(nt,e,de,Y,L);e._transport=_t,nt.send("Ready",null)})}).catch(e._capability.reject),e}var y0;const x0=class x0{constructor(){ee(this,"_capability",Promise.withResolvers());ee(this,"_transport",null);ee(this,"_worker",null);ee(this,"docId",`d${nn(x0,y0)._++}`);ee(this,"destroyed",!1);ee(this,"onPassword",null);ee(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,r,s;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,(s=this._worker)==null||s.destroy(),this._worker=null}async getData(){return this._transport.getData()}};y0=new WeakMap,T(x0,y0,0);let YS=x0;var eu,xg,wg,bg,Sg;class EL{constructor(e,t,r=!1,s=null){T(this,eu,Promise.withResolvers());T(this,xg,[]);T(this,wg,[]);T(this,bg,[]);T(this,Sg,[]);this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=s}addRangeListener(e){u(this,Sg).push(e)}addProgressListener(e){u(this,bg).push(e)}addProgressiveReadListener(e){u(this,wg).push(e)}addProgressiveDoneListener(e){u(this,xg).push(e)}onDataRange(e,t){for(const r of u(this,Sg))r(e,t)}onDataProgress(e,t){u(this,eu).promise.then(()=>{for(const r of u(this,bg))r(e,t)})}onDataProgressiveRead(e){u(this,eu).promise.then(()=>{for(const t of u(this,wg))t(e)})}onDataProgressiveDone(){u(this,eu).promise.then(()=>{for(const e of u(this,xg))e()})}transportReady(){u(this,eu).resolve()}requestDataRange(e,t){ct("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}eu=new WeakMap,xg=new WeakMap,wg=new WeakMap,bg=new WeakMap,Sg=new WeakMap;class jG{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ze(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Sa,tu,Np;class DG{constructor(e,t,r,s=!1){T(this,tu);T(this,Sa,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=s?new YN:null,this._pdfBug=s,this.commonObjs=r.commonObjs,this.objs=new vL,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:s=0,dontFlip:i=!1}={}){return new bv({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:s,dontFlip:i})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ze(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:s=To.ENABLE,transform:i=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:d=null,isEditing:h=!1}){var E,C;(E=this._stats)==null||E.time("Overall");const p=this._transport.getRenderingIntent(r,s,d,h),{renderingIntent:m,cacheKey:v}=p;A(this,Sa,!1),o||(o=this._transport.getOptionalContentConfig(m));let g=this._intentStates.get(v);g||(g=Object.create(null),this._intentStates.set(v,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const y=!!(m&Fr.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(C=this._stats)==null||C.time("Page Request"),this._pumpOperatorList(p));const x=R=>{var P;g.renderTasks.delete(w),y&&A(this,Sa,!0),N(this,tu,Np).call(this),R?(w.capability.reject(R),this._abortOperatorList({intentState:g,reason:R instanceof Error?R:new Error(R)})):w.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(P=globalThis.Stats)!=null&&P.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},w=new XS({callback:x,params:{canvasContext:e,viewport:t,transform:i,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:c});(g.renderTasks||(g.renderTasks=new Set)).add(w);const b=w.task;return Promise.all([g.displayReadyCapability.promise,o]).then(([R,P])=>{var k;if(this.destroyed){x();return}if((k=this._stats)==null||k.time("Rendering"),!(P.renderingIntent&m))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");w.initializeGraphics({transparency:R,optionalContentConfig:P}),w.operatorListChanged()}).catch(x),b}getOperatorList({intent:e="display",annotationMode:t=To.ENABLE,printAnnotationStorage:r=null,isEditing:s=!1}={}){var c;function i(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,r,s,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=i,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Am.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,s){function i(){a.read().then(function({value:l,done:c}){if(c){r(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),i()},s)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};i()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),A(this,Sa,!1),Promise.all(e)}cleanup(e=!1){A(this,Sa,!0);const t=N(this,tu,Np).call(this);return e&&t&&this._stats&&(this._stats=new YN),t}_startRenderPage(e,t){var s,i;const r=this._intentStates.get(t);r&&((s=this._stats)==null||s.timeEnd("Page Request"),(i=r.displayReadyCapability)==null||i.resolve(e))}_renderPageChunk(e,t){for(let r=0,s=e.length;r<s;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&N(this,tu,Np).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:s}){const{map:i,transfer:a}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i,modifiedIds:s},a).getReader(),c=this._intentStates.get(t);c.streamReader=l;const d=()=>{l.read().then(({value:h,done:p})=>{if(p){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),d())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const p of c.renderTasks)p.operatorListChanged();N(this,tu,Np).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof $C){let s=OG;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new Vl(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,i]of this._intentStates)if(i===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}Sa=new WeakMap,tu=new WeakSet,Np=function(){if(!u(this,Sa)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),A(this,Sa,!1),!0};var nl,Os,Ea,nu,w0,ru,su,Jn,$y,AL,CL,Pp,Fh,By;const yt=class yt{constructor({name:e=null,port:t=null,verbosity:r=SW()}={}){T(this,Jn);T(this,nl,Promise.withResolvers());T(this,Os,null);T(this,Ea,null);T(this,nu,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,t){if(u(yt,su).has(t))throw new Error("Cannot use more than one PDFWorker per port.");u(yt,su).set(t,this),N(this,Jn,AL).call(this,t)}else N(this,Jn,CL).call(this)}get promise(){return u(this,nl).promise}get port(){return u(this,Ea)}get messageHandler(){return u(this,Os)}destroy(){var e,t;this.destroyed=!0,(e=u(this,nu))==null||e.terminate(),A(this,nu,null),u(yt,su).delete(u(this,Ea)),A(this,Ea,null),(t=u(this,Os))==null||t.destroy(),A(this,Os,null)}static create(e){const t=u(this,su).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new yt(e)}static get workerSrc(){if(Oi.workerSrc)return Oi.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ze(this,"_setupFakeWorkerGlobal",(async()=>u(this,Fh,By)?u(this,Fh,By):(await import(this.workerSrc)).WorkerMessageHandler)())}};nl=new WeakMap,Os=new WeakMap,Ea=new WeakMap,nu=new WeakMap,w0=new WeakMap,ru=new WeakMap,su=new WeakMap,Jn=new WeakSet,$y=function(){u(this,nl).resolve(),u(this,Os).send("configure",{verbosity:this.verbosity})},AL=function(e){A(this,Ea,e),A(this,Os,new Ep("main","worker",e)),u(this,Os).on("ready",()=>{}),N(this,Jn,$y).call(this)},CL=function(){if(u(yt,ru)||u(yt,Fh,By)){N(this,Jn,Pp).call(this);return}let{workerSrc:e}=yt;try{yt._isSameOrigin(window.location,e)||(e=yt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new Ep("main","worker",t),s=()=>{i.abort(),r.destroy(),t.terminate(),this.destroyed?u(this,nl).reject(new Error("Worker was destroyed")):N(this,Jn,Pp).call(this)},i=new AbortController;t.addEventListener("error",()=>{u(this,nu)||s()},{signal:i.signal}),r.on("test",o=>{if(i.abort(),this.destroyed||!o){s();return}A(this,Os,r),A(this,Ea,t),A(this,nu,t),N(this,Jn,$y).call(this)}),r.on("ready",o=>{if(i.abort(),this.destroyed){s();return}try{a()}catch{N(this,Jn,Pp).call(this)}});const a=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};a();return}catch{bw("The worker has been disabled.")}N(this,Jn,Pp).call(this)},Pp=function(){u(yt,ru)||(Re("Setting up fake worker."),A(yt,ru,!0)),yt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){u(this,nl).reject(new Error("Worker was destroyed"));return}const t=new KW;A(this,Ea,t);const r=`fake${nn(yt,w0)._++}`,s=new Ep(r+"_worker",r,t);e.setup(s,t),A(this,Os,new Ep(r,r+"_worker",t)),N(this,Jn,$y).call(this)}).catch(e=>{u(this,nl).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Fh=new WeakSet,By=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},T(yt,Fh),T(yt,w0,0),T(yt,ru,!1),T(yt,su,new WeakMap),Gn&&(A(yt,ru,!0),Oi.workerSrc||(Oi.workerSrc="./pdf.worker.mjs")),yt._isSameOrigin=(e,t)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const s=new URL(t,r);return r.origin===s.origin},yt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},yt.fromPort=e=>{if(OW("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return yt.create(e)};let Cm=yt;var Aa,Ei,$h,Bh,Ca,iu,kp;class LG{constructor(e,t,r,s,i){T(this,iu);T(this,Aa,new Map);T(this,Ei,new Map);T(this,$h,new Map);T(this,Bh,new Map);T(this,Ca,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new vL,this.fontLoader=new zW({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.wasmFactory=i.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return ze(this,"annotationStorage",new VC)}getRenderingIntent(e,t=To.ENABLE,r=null,s=!1,i=!1){let a=Fr.DISPLAY,o=jS;switch(e){case"any":a=Fr.ANY;break;case"display":break;case"print":a=Fr.PRINT;break;default:Re(`getRenderingIntent - invalid intent: ${e}`)}const l=a&Fr.PRINT&&r instanceof tL?r:this.annotationStorage;switch(t){case To.DISABLE:a+=Fr.ANNOTATIONS_DISABLE;break;case To.ENABLE:break;case To.ENABLE_FORMS:a+=Fr.ANNOTATIONS_FORMS;break;case To.ENABLE_STORAGE:a+=Fr.ANNOTATIONS_STORAGE,o=l.serializable;break;default:Re(`getRenderingIntent - invalid annotationMode: ${t}`)}s&&(a+=Fr.IS_EDITING),i&&(a+=Fr.OPLIST);const{ids:c,hash:d}=l.modifiedIds,h=[a,o.hash,d];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=u(this,Ca))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of u(this,Ei).values())e.push(s._destroy());u(this,Ei).clear(),u(this,$h).clear(),u(this,Bh).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var s,i;this.commonObjs.clear(),this.fontLoader.clear(),u(this,Aa).clear(),this.filterFactory.destroy(),Em.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new Vl("Worker was terminated.")),(i=this.messageHandler)==null||i.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,s)=>{Wt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=i=>{this._lastProgress={loaded:i.loaded,total:i.total}},s.onPull=()=>{this._fullReader.read().then(function({value:i,done:a}){if(a){s.close();return}Wt(i instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{s.error(i)})},s.onCancel=i=>{this._fullReader.cancel(i),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:i,contentLength:a}=this._fullReader;return(!s||!i)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=t.onProgress)==null||c.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:s,isRangeSupported:i,contentLength:a}}),e.on("GetRangeReader",(r,s)=>{Wt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const i=this._networkStream.getRangeReader(r.begin,r.end);if(!i){s.close();return}s.onPull=()=>{i.read().then(function({value:a,done:o}){if(o){s.close();return}Wt(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{i.cancel(a),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new jG(r,this))}),e.on("DocException",r=>{t._capability.reject(or(r))}),e.on("PasswordRequest",r=>{A(this,Ca,Promise.withResolvers());try{if(!t.onPassword)throw or(r);const s=i=>{i instanceof Error?u(this,Ca).reject(i):u(this,Ca).resolve({password:i})};t.onPassword(s,r.code)}catch(s){u(this,Ca).reject(s)}return u(this,Ca).promise}),e.on("DataLoaded",r=>{var s;(s=t.onProgress)==null||s.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;u(this,Ei).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,s,i])=>{var a;if(this.destroyed||this.commonObjs.has(r))return null;switch(s){case"Font":if("error"in i){const d=i.error;Re(`Error during font loading: ${d}`),this.commonObjs.resolve(r,d);break}const o=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(d,h)=>globalThis.FontInspector.fontAdded(d,h):null,l=new UW(i,o);this.fontLoader.bind(l).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l.fontExtraProperties&&l.data&&(l.data=null),this.commonObjs.resolve(r,l)});break;case"CopyLocalImage":const{imageRef:c}=i;Wt(c,"The imageRef must be defined.");for(const d of u(this,Ei).values())for(const[,h]of d.objs)if((h==null?void 0:h.ref)===c)return h.dataLen?(this.commonObjs.resolve(r,structuredClone(h)),h.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,i);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([r,s,i,a])=>{var l;if(this.destroyed)return;const o=u(this,Ei).get(s);if(!o.objs.has(r)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(i){case"Image":case"Pattern":o.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${i}`)}}}),e.on("DocProgress",r=>{var s;this.destroyed||(s=t.onProgress)==null||s.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[r.type];if(!s)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&Re("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=u(this,$h).get(t);if(r)return r;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(i=>{if(this.destroyed)throw new Error("Transport destroyed");i.refStr&&u(this,Bh).set(i.refStr,e);const a=new DG(t,i,this,this._params.pdfBug);return u(this,Ei).set(t,a),a});return u(this,$h).set(t,s),s}getPageIndex(e){return DS(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return N(this,iu,kp).call(this,"GetFieldObjects")}hasJSActions(){return N(this,iu,kp).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return N(this,iu,kp).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return N(this,iu,kp).call(this,"GetOptionalContentConfig").then(t=>new mG(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=u(this,Aa).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(s=>{var i,a;return{info:s[0],metadata:s[1]?new fG(s[1]):null,contentDispositionFilename:((i=this._fullReader)==null?void 0:i.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return u(this,Aa).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of u(this,Ei).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),u(this,Aa).clear(),this.filterFactory.destroy(!0),Em.cleanup()}}cachedPageNumber(e){if(!DS(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return u(this,Bh).get(t)??null}}Aa=new WeakMap,Ei=new WeakMap,$h=new WeakMap,Bh=new WeakMap,Ca=new WeakMap,iu=new WeakSet,kp=function(e,t=null){const r=u(this,Aa).get(e);if(r)return r;const s=this.messageHandler.sendWithPromise(e,t);return u(this,Aa).set(e,s),s};var rl;class FG{constructor(e){T(this,rl,null);ee(this,"onContinue",null);ee(this,"onError",null);A(this,rl,e)}get promise(){return u(this,rl).capability.promise}cancel(e=0){u(this,rl).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=u(this,rl).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=u(this,rl);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}rl=new WeakMap;var sl,au;const lc=class lc{constructor({callback:e,params:t,objs:r,commonObjs:s,annotationCanvasMap:i,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:p=null}){T(this,sl,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=s,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new FG(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var o,l;if(this.cancelled)return;if(this._canvas){if(u(lc,au).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(lc,au).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:s,transform:i,background:a}=this.params;this.gfx=new Zd(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:s,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var r,s,i;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),u(this,sl)&&(window.cancelAnimationFrame(u(this,sl)),A(this,sl,null)),u(lc,au).delete(this._canvas),e||(e=new $C(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(i=(s=this.task).onError)==null||i.call(s,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?A(this,sl,window.requestAnimationFrame(()=>{A(this,sl,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(lc,au).delete(this._canvas),this.callback())))}};sl=new WeakMap,au=new WeakMap,T(lc,au,new WeakSet);let XS=lc;const $G="5.3.93",BG="cbeef3233";Xe(531);function u2(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function op(n){return Math.max(0,Math.min(255,255*n))}class d2{static CMYK_G([e,t,r,s]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=op(e),[e,e,e]}static G_HTML([e]){const t=u2(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(op)}static RGB_HTML(e){return`#${e.map(u2).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,r+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,r,s]){return[op(1-Math.min(1,e+s)),op(1-Math.min(1,r+s)),op(1-Math.min(1,t+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const s=1-e,i=1-t,a=1-r,o=Math.min(s,i,a);return["CMYK",s,i,a,o]}}class zG{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),r||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){ct("Abstract method `_createSVG` called.")}}class r0 extends zG{_createSVG(e){return document.createElementNS(ea,e)}}class TL{static setupStorage(e,t,r,s,i){const a=s.getValue(t,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),i==="print")break;e.addEventListener("input",o=>{s.setValue(t,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),i==="print")break;e.addEventListener("change",o=>{s.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),i==="print")break;e.addEventListener("input",o=>{s.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of r.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;s.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:s,linkService:i}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${s}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}o&&i.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,t,r)}static render(e){var h,p;const t=e.annotationStorage,r=e.linkService,s=e.xfaHtml,i=e.intent||"display",a=document.createElement(s.name);s.attributes&&this.setAttributes({html:a,element:s,intent:i,linkService:r});const o=i!=="richText",l=e.div;if(l.append(a),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=m}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(s.children.length===0){if(s.value){const m=document.createTextNode(s.value);a.append(m),o&&Am.shouldBuildText(s.name)&&c.push(m)}return{textDivs:c}}const d=[[s,-1,a]];for(;d.length>0;){const[m,v,g]=d.at(-1);if(v+1===m.children.length){d.pop();continue}const y=m.children[++d.at(-1)[1]];if(y===null)continue;const{name:x}=y;if(x==="#text"){const b=document.createTextNode(y.value);c.push(b),g.append(b);continue}const w=(h=y==null?void 0:y.attributes)!=null&&h.xmlns?document.createElementNS(y.attributes.xmlns,x):document.createElement(x);if(g.append(w),y.attributes&&this.setAttributes({html:w,element:y,storage:t,intent:i,linkService:r}),((p=y.children)==null?void 0:p.length)>0)d.push([y,-1,w]);else if(y.value){const b=document.createTextNode(y.value);o&&Am.shouldBuildText(x)&&c.push(b),w.append(b)}}for(const m of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const UG=9,qu=new WeakSet;class h2{static create(e){switch(e.data.annotationType){case zt.LINK:return new RL(e);case zt.TEXT:return new VG(e);case zt.WIDGET:switch(e.data.fieldType){case"Tx":return new HG(e);case"Btn":return e.data.radioButton?new kL(e):e.data.checkBox?new GG(e):new KG(e);case"Ch":return new YG(e);case"Sig":return new WG(e)}return new od(e);case zt.POPUP:return new ZS(e);case zt.FREETEXT:return new jL(e);case zt.LINE:return new QG(e);case zt.SQUARE:return new ZG(e);case zt.CIRCLE:return new JG(e);case zt.POLYLINE:return new DL(e);case zt.CARET:return new eK(e);case zt.INK:return new GC(e);case zt.POLYGON:return new qG(e);case zt.HIGHLIGHT:return new LL(e);case zt.UNDERLINE:return new tK(e);case zt.SQUIGGLY:return new nK(e);case zt.STRIKEOUT:return new rK(e);case zt.STAMP:return new FL(e);case zt.FILEATTACHMENT:return new sK(e);default:return new $t(e)}}}var ou,zh,Uh,Eg,QS;const eT=class eT{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:s=!1}={}){T(this,Eg);T(this,ou,null);T(this,zh,!1);T(this,Uh,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),s&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return eT._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;u(this,ou)||A(this,ou,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&N(this,Eg,QS).call(this,t),(r=u(this,Uh))==null||r.popup.updateEdited(e)}resetEdited(){var e;u(this,ou)&&(N(this,Eg,QS).call(this,u(this,ou).rect),(e=u(this,Uh))==null||e.popup.resetEdited(),A(this,ou,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:s}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),this instanceof od||(i.tabIndex=0);const{style:a}=i;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof ZS){const{rotation:g}=t;return!t.hasOwnCanvas&&g!==0&&this.setRotation(g,i),i}const{width:o,height:l}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const g=t.borderStyle.horizontalCornerRadius,y=t.borderStyle.verticalCornerRadius;if(g>0||y>0){const w=`calc(${g}px * var(--total-scale-factor)) / calc(${y}px * var(--total-scale-factor))`;a.borderRadius=w}else if(this instanceof kL){const w=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=w}switch(t.borderStyle.style){case gd.SOLID:a.borderStyle="solid";break;case gd.DASHED:a.borderStyle="dashed";break;case gd.BEVELED:Re("Unimplemented border style: beveled");break;case gd.INSET:Re("Unimplemented border style: inset");break;case gd.UNDERLINE:a.borderBottomStyle="solid";break}const x=t.borderColor||null;x?(A(this,zh,!0),a.borderColor=Ee.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):a.borderWidth=0}const c=Ee.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:d,pageHeight:h,pageX:p,pageY:m}=s.rawDims;a.left=`${100*(c[0]-p)/d}%`,a.top=`${100*(c[1]-m)/h}%`;const{rotation:v}=t;return t.hasOwnCanvas||v===0?(a.width=`${100*o/d}%`,a.height=`${100*l/h}%`):this.setRotation(v,i),i}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:s}=this.parent.viewport.rawDims;let{width:i,height:a}=this;e%180!==0&&([i,a]=[a,i]),t.style.width=`${100*i/r}%`,t.style.height=`${100*a/s}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,s)=>{const i=s.detail[t],a=i[0],o=i.slice(1);s.target.style[r]=d2[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:d2[`${a}_rgb`](o)})};return ze(this,"_commonActions",{display:t=>{const{display:r}=t.detail,s=r%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const s of Object.keys(t.detail)){const i=e[s]||r[s];i==null||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[s,i]of Object.entries(t)){const a=r[s];if(a){const o={detail:{[s]:i},target:e};a(o),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,s,i]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){const[g,y,x,w]=e.subarray(2,6);if(s===g&&i===y&&t===x&&r===w)return}const{style:a}=this.container;let o;if(u(this,zh)){const{borderColor:g,borderWidth:y}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${y}">`],this.container.classList.add("hasBorder")}const l=s-t,c=i-r,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const p=d.createElement("defs");h.append(p);const m=d.createElement("clipPath"),v=`clippath_${this.data.id}`;m.setAttribute("id",v),m.setAttribute("clipPathUnits","objectBoundingBox"),p.append(m);for(let g=2,y=e.length;g<y;g+=8){const x=e[g],w=e[g+1],b=e[g+2],E=e[g+3],C=d.createElement("rect"),R=(b-t)/l,P=(i-w)/c,k=(x-b)/l,I=(w-E)/c;C.setAttribute("x",R),C.setAttribute("y",P),C.setAttribute("width",k),C.setAttribute("height",I),m.append(C),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${R}" y="${P}" width="${k}" height="${I}"/>`)}u(this,zh)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${v})`}_createPopup(){const{data:e}=this,t=A(this,Uh,new ZS({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){ct("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:i,id:a,exportValues:o}of s){if(i===-1||a===t)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!qu.has(c)){Re(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:l,domElement:c})}return r}for(const s of document.getElementsByName(e)){const{exportValue:i}=s,a=s.getAttribute("data-element-id");a!==t&&qu.has(s)&&r.push({id:a,exportValue:i,domElement:s})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};ou=new WeakMap,zh=new WeakMap,Uh=new WeakMap,Eg=new WeakSet,QS=function(e){const{container:{style:t},data:{rect:r,rotation:s},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:a,pageX:o,pageY:l}}}}=this;r==null||r.splice(0,4,...e),t.left=`${100*(e[0]-o)/i}%`,t.top=`${100*(a-e[3]+l)/a}%`,s===0?(t.width=`${100*(e[2]-e[0])/i}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(s)};let $t=eT;var Vr,sc,NL,PL;class RL extends $t{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});T(this,Vr);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let i=!1;return t.url?(r.addLinkAttributes(s,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(s,t.action),i=!0):t.attachment?(N(this,Vr,NL).call(this,s,t.attachment,t.attachmentDest),i=!0):t.setOCGState?(N(this,Vr,PL).call(this,s,t.setOCGState),i=!0):t.dest?(this._bindLink(s,t.dest),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),i=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(s,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(s),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&N(this,Vr,sc).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),N(this,Vr,sc).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(r.actions)){const a=s.get(i);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:i}}),!1})}t.onclick||(t.onclick=()=>!1),N(this,Vr,sc).call(this)}_bindResetFormAction(t,r){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),N(this,Vr,sc).call(this),!this._fieldObjects){Re('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{var h;s==null||s();const{fields:i,refs:a,include:o}=r,l=[];if(i.length!==0||a.length!==0){const p=new Set(a);for(const m of i){const v=this._fieldObjects[m]||[];for(const{id:g}of v)p.add(g)}for(const m of Object.values(this._fieldObjects))for(const v of m)p.has(v.id)===o&&l.push(v)}else for(const p of Object.values(this._fieldObjects))l.push(...p);const c=this.annotationStorage,d=[];for(const p of l){const{id:m}=p;switch(d.push(m),p.type){case"text":{const g=p.defaultValue||"";c.setValue(m,{value:g});break}case"checkbox":case"radiobutton":{const g=p.defaultValue===p.exportValues;c.setValue(m,{value:g});break}case"combobox":case"listbox":{const g=p.defaultValue||"";c.setValue(m,{value:g});break}default:continue}const v=document.querySelector(`[data-element-id="${m}"]`);if(v){if(!qu.has(v)){Re(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}Vr=new WeakSet,sc=function(){this.container.setAttribute("data-internal-link","")},NL=function(t,r,s=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var i;return(i=this.downloadManager)==null||i.openOrDownloadData(r.content,r.filename,s),!1},N(this,Vr,sc).call(this)},PL=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),N(this,Vr,sc).call(this)};class VG extends $t{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class od extends $t{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return An.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,s,i){r.includes("mouse")?e.addEventListener(r,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{var o;if(r==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}i&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(a)}}))})}_setEventListeners(e,t,r,s){var i,a,o;for(const[l,c]of r)(c==="Action"||(i=this.data.actions)!=null&&i[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,s),c==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ee.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||UG,i=e.style;let a;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(c/(bb*s))||1,h=c/d;a=Math.min(s,l(h/bb))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(s,l(c/bb))}i.fontSize=`calc(${a}px * var(--total-scale-factor))`,i.color=Ee.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class HG extends od{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,s){const i=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=r),i.setValue(a.id,{[s]:r})}render(){var s,i;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=a.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",c??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),qu.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const h=this.data.dateFormat||this.data.timeFormat;h&&(r.title=h),this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",m=>{e.setValue(t,{value:m.target.value}),this.setPropertyOnSiblings(r,"value",m.target.value,"value"),d.formattedValue=null}),r.addEventListener("resetform",m=>{const v=this.data.defaultFieldValue??"";r.value=d.userValue=v,d.formattedValue=null});let p=m=>{const{formattedValue:v}=d;v!=null&&(m.target.value=v),m.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",v=>{var y;if(d.focused)return;const{target:g}=v;d.userValue&&(g.value=d.userValue),d.lastCommittedValue=g.value,d.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(d.focused=!0)}),r.addEventListener("updatefromsandbox",v=>{this.showElementAndHideCanvas(v.target);const g={value(y){d.userValue=y.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),y.target.value=d.userValue},formattedValue(y){const{formattedValue:x}=y.detail;d.formattedValue=x,x!=null&&y.target!==document.activeElement&&(y.target.value=x),e.setValue(t,{formattedValue:x})},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{var E;const{charLimit:x}=y.detail,{target:w}=y;if(x===0){w.removeAttribute("maxLength");return}w.setAttribute("maxLength",x);let b=d.userValue;!b||b.length<=x||(b=b.slice(0,x),w.value=d.userValue=b,e.setValue(t,{value:b}),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:1,selStart:w.selectionStart,selEnd:w.selectionEnd}}))}};this._dispatchEventFromSandbox(g,v)}),r.addEventListener("keydown",v=>{var x;d.commitKey=1;let g=-1;if(v.key==="Escape"?g=0:v.key==="Enter"&&!this.data.multiLine?g=2:v.key==="Tab"&&(d.commitKey=3),g===-1)return;const{value:y}=v.target;d.lastCommittedValue!==y&&(d.lastCommittedValue=y,d.userValue=y,(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:g,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}))});const m=p;p=null,r.addEventListener("blur",v=>{var y,x;if(!d.focused||!v.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(d.focused=!1);const{value:g}=v.target;d.userValue=g,d.lastCommittedValue!==g&&((x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:d.commitKey,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}})),m(v)}),(i=this.data.actions)!=null&&i.Keystroke&&r.addEventListener("beforeinput",v=>{var R;d.lastCommittedValue=null;const{data:g,target:y}=v,{value:x,selectionStart:w,selectionEnd:b}=y;let E=w,C=b;switch(v.inputType){case"deleteWordBackward":{const P=x.substring(0,w).match(/\w*[^\w]*$/);P&&(E-=P[0].length);break}case"deleteWordForward":{const P=x.substring(w).match(/^[^\w]*\w*/);P&&(C+=P[0].length);break}case"deleteContentBackward":w===b&&(E-=1);break;case"deleteContentForward":w===b&&(C+=1);break}v.preventDefault(),(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,change:g||"",willCommit:!1,selStart:E,selEnd:C}})}),this._setEventListeners(r,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],v=>v.target.value)}if(p&&r.addEventListener("blur",p),this.data.comb){const v=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${v}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class WG extends od{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class GG extends od{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let s=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(r,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return qu.add(i),i.setAttribute("data-element-id",r),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,s&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=0,i.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,r)){const d=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=d),e.setValue(c.id,{value:d})}e.setValue(r,{value:l})}),i.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class kL extends od{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let s=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(r,{value:s})),s)for(const a of this._getElementsByName(t.fieldName,r))e.setValue(a.id,{value:!1});const i=document.createElement("input");if(qu.add(i),i.setAttribute("data-element-id",r),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,s&&i.setAttribute("checked",!0),i.tabIndex=0,i.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),i.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;i.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const d=a===c.detail.value;for(const h of this._getElementsByName(c.target.name)){const p=d&&h.id===r;h.domElement&&(h.domElement.checked=p),e.setValue(h.id,{value:p})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class KG extends RL{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class YG extends od{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");qu.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=0;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const p of s.options)p.selected=p.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,r.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),i=!1),s.append(h)}let a=null;if(i){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),s.prepend(d),a=()=>{d.remove(),s.removeEventListener("input",a),a=null},s.addEventListener("input",a)}const o=d=>{const h=d?"value":"textContent",{options:p,multiple:m}=s;return m?Array.prototype.filter.call(p,v=>v.selected).map(v=>v[h]):p.selectedIndex===-1?null:p[p.selectedIndex][h]};let l=o(!1);const c=d=>{const h=d.target.options;return Array.prototype.map.call(h,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",d=>{const h={value(p){a==null||a();const m=p.detail.value,v=new Set(Array.isArray(m)?m:[m]);for(const g of s.options)g.selected=v.has(g.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(p){s.multiple=!0},remove(p){const m=s.options,v=p.detail.remove;m[v].selected=!1,s.remove(v),m.length>0&&Array.prototype.findIndex.call(m,y=>y.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:o(!0),items:c(p)}),l=o(!1)},clear(p){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(p){const{index:m,displayValue:v,exportValue:g}=p.detail.insert,y=s.children[m],x=document.createElement("option");x.textContent=v,x.value=g,y?y.before(x):s.append(x),e.setValue(t,{value:o(!0),items:c(p)}),l=o(!1)},items(p){const{items:m}=p.detail;for(;s.length!==0;)s.remove(0);for(const v of m){const{displayValue:g,exportValue:y}=v,x=document.createElement("option");x.textContent=g,x.value=y,s.append(x)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:o(!0),items:c(p)}),l=o(!1)},indices(p){const m=new Set(p.detail.indices);for(const v of p.target.options)v.selected=m.has(v.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(h,d)}),s.addEventListener("input",d=>{var m;const h=o(!0),p=o(!1);e.setValue(t,{value:h}),d.preventDefault(),(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:p,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):s.addEventListener("input",function(d){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class ZS extends $t{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:$t._hasPopupData(t)}),this.elements=r,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new XG({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),r=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",r.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(s=>`${FC}${s}`).join(",")),this.container}}var Vh,b0,S0,Hh,Wh,kt,Ta,lu,Ag,Cg,Gh,Ra,js,Na,Tg,Pa,Rg,cu,uu,ut,zy,JS,IL,_L,ML,OL,Uy,Vy,qS;class XG{constructor({container:e,color:t,elements:r,titleObj:s,modificationDate:i,contentsObj:a,richText:o,parent:l,rect:c,parentRect:d,open:h}){T(this,ut);T(this,Vh,N(this,ut,ML).bind(this));T(this,b0,N(this,ut,qS).bind(this));T(this,S0,N(this,ut,Vy).bind(this));T(this,Hh,N(this,ut,Uy).bind(this));T(this,Wh,null);T(this,kt,null);T(this,Ta,null);T(this,lu,null);T(this,Ag,null);T(this,Cg,null);T(this,Gh,null);T(this,Ra,!1);T(this,js,null);T(this,Na,null);T(this,Tg,null);T(this,Pa,null);T(this,Rg,null);T(this,cu,null);T(this,uu,!1);var p;A(this,kt,e),A(this,Rg,s),A(this,Ta,a),A(this,Pa,o),A(this,Cg,l),A(this,Wh,t),A(this,Tg,c),A(this,Gh,d),A(this,Ag,r),A(this,lu,zC.toDateObject(i)),this.trigger=r.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",u(this,Hh)),m.addEventListener("mouseenter",u(this,S0)),m.addEventListener("mouseleave",u(this,b0)),m.classList.add("popupTriggerArea");for(const m of r)(p=m.container)==null||p.addEventListener("keydown",u(this,Vh));u(this,kt).hidden=!0,h&&N(this,ut,Uy).call(this)}render(){if(u(this,js))return;const e=A(this,js,document.createElement("div"));if(e.className="popup",u(this,Wh)){const i=e.style.outlineColor=Ee.makeHexColor(...u(this,Wh));e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=u(this,Rg),e.append(t),u(this,lu)){const i=document.createElement("time");i.classList.add("popupDate"),i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:u(this,lu).valueOf()})),i.dateTime=u(this,lu).toISOString(),t.append(i)}const s=u(this,ut,zy);if(s)TL.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const i=this._formatContents(u(this,Ta));e.append(i)}u(this,kt).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const s=e.split(/(?:\r\n?|\n)/);for(let i=0,a=s.length;i<a;++i){const o=s[i];r.append(document.createTextNode(o)),i<a-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;u(this,cu)||A(this,cu,{contentsObj:u(this,Ta),richText:u(this,Pa)}),e&&A(this,Na,null),t&&(A(this,Pa,N(this,ut,_L).call(this,t)),A(this,Ta,null)),(r=u(this,js))==null||r.remove(),A(this,js,null)}resetEdited(){var e;u(this,cu)&&({contentsObj:nn(this,Ta)._,richText:nn(this,Pa)._}=u(this,cu),A(this,cu,null),(e=u(this,js))==null||e.remove(),A(this,js,null),A(this,Na,null))}forceHide(){A(this,uu,this.isVisible),u(this,uu)&&(u(this,kt).hidden=!0)}maybeShow(){u(this,uu)&&(u(this,js)||N(this,ut,Vy).call(this),A(this,uu,!1),u(this,kt).hidden=!1)}get isVisible(){return u(this,kt).hidden===!1}}Vh=new WeakMap,b0=new WeakMap,S0=new WeakMap,Hh=new WeakMap,Wh=new WeakMap,kt=new WeakMap,Ta=new WeakMap,lu=new WeakMap,Ag=new WeakMap,Cg=new WeakMap,Gh=new WeakMap,Ra=new WeakMap,js=new WeakMap,Na=new WeakMap,Tg=new WeakMap,Pa=new WeakMap,Rg=new WeakMap,cu=new WeakMap,uu=new WeakMap,ut=new WeakSet,zy=function(){const e=u(this,Pa),t=u(this,Ta);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&u(this,Pa).html||null},JS=function(){var e,t,r;return((r=(t=(e=u(this,ut,zy))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},IL=function(){var e,t,r;return((r=(t=(e=u(this,ut,zy))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},_L=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:u(this,ut,IL),fontSize:u(this,ut,JS)?`calc(${u(this,ut,JS)}px * var(--total-scale-factor))`:""}};for(const i of e.split(`
`))t.push({name:"span",value:i,attributes:s});return r},ML=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&u(this,Ra))&&N(this,ut,Uy).call(this)},OL=function(){if(u(this,Na)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:s,pageY:i}}}=u(this,Cg);let a=!!u(this,Gh),o=a?u(this,Gh):u(this,Tg);for(const v of u(this,Ag))if(!o||Ee.intersect(v.data.rect,o)!==null){o=v.data.rect,a=!0;break}const l=Ee.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,h=l[0]+d,p=l[1];A(this,Na,[100*(h-s)/t,100*(p-i)/r]);const{style:m}=u(this,kt);m.left=`${u(this,Na)[0]}%`,m.top=`${u(this,Na)[1]}%`},Uy=function(){A(this,Ra,!u(this,Ra)),u(this,Ra)?(N(this,ut,Vy).call(this),u(this,kt).addEventListener("click",u(this,Hh)),u(this,kt).addEventListener("keydown",u(this,Vh))):(N(this,ut,qS).call(this),u(this,kt).removeEventListener("click",u(this,Hh)),u(this,kt).removeEventListener("keydown",u(this,Vh)))},Vy=function(){u(this,js)||this.render(),this.isVisible?u(this,Ra)&&u(this,kt).classList.add("focused"):(N(this,ut,OL).call(this),u(this,kt).hidden=!1,u(this,kt).style.zIndex=parseInt(u(this,kt).style.zIndex)+1e3)},qS=function(){u(this,kt).classList.remove("focused"),!(u(this,Ra)||!this.isVisible)&&(u(this,kt).hidden=!0,u(this,kt).style.zIndex=parseInt(u(this,kt).style.zIndex)-1e3)};class jL extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Pe.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Ng;class QG extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,Ng,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:r,height:s}=this,i=this.svgFactory.create(r,s,!0),a=A(this,Ng,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Ng)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ng=new WeakMap;var Pg;class ZG extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,Pg,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:r,height:s}=this,i=this.svgFactory.create(r,s,!0),a=t.borderStyle.width,o=A(this,Pg,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",r-a),o.setAttribute("height",s-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Pg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pg=new WeakMap;var kg;class JG extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,kg,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:r,height:s}=this,i=this.svgFactory.create(r,s,!0),a=t.borderStyle.width,o=A(this,kg,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",s/2),o.setAttribute("rx",r/2-a/2),o.setAttribute("ry",s/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,kg)}addHighlightArea(){this.container.classList.add("highlightArea")}}kg=new WeakMap;var Ig;class DL extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,Ig,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:s,popupRef:i},width:a,height:o}=this;if(!r)return this.container;const l=this.svgFactory.create(a,o,!0);let c=[];for(let h=0,p=r.length;h<p;h+=2){const m=r[h]-t[0],v=t[3]-r[h+1];c.push(`${m},${v}`)}c=c.join(" ");const d=A(this,Ig,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",c),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Ig)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ig=new WeakMap;class qG extends DL{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class eK extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var _g,du,Mg,eE;class GC extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,Mg);T(this,_g,null);T(this,du,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Pe.HIGHLIGHT:Pe.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:r,inkLists:s,borderStyle:i,popupRef:a}}=this,{transform:o,width:l,height:c}=N(this,Mg,eE).call(this,r,t),d=this.svgFactory.create(l,c,!0),h=A(this,_g,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",o);for(let p=0,m=s.length;p<m;p++){const v=this.svgFactory.createElement(this.svgElementName);u(this,du).push(v),v.setAttribute("points",s[p].join(",")),h.append(v)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:r,points:s,rect:i}=t,a=u(this,_g);if(r>=0&&a.setAttribute("stroke-width",r||1),s)for(let o=0,l=u(this,du).length;o<l;o++)u(this,du)[o].setAttribute("points",s[o].join(","));if(i){const{transform:o,width:l,height:c}=N(this,Mg,eE).call(this,this.data.rotation,i);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return u(this,du)}addHighlightArea(){this.container.classList.add("highlightArea")}}_g=new WeakMap,du=new WeakMap,Mg=new WeakSet,eE=function(t,r){switch(t){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class LL extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Pe.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class tK extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class nK extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class rK extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class FL extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Pe.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Og,jg,tE;class sK extends $t{constructor(t){var s;super(t,{isRenderable:!0});T(this,jg);T(this,Og,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let s;r.hasAppearance||r.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),s.addEventListener("dblclick",N(this,jg,tE).bind(this)),A(this,Og,s);const{isMac:i}=An.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(i?a.metaKey:a.ctrlKey)&&N(this,jg,tE).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return u(this,Og)}addHighlightArea(){this.container.classList.add("highlightArea")}}Og=new WeakMap,jg=new WeakSet,tE=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Dg,hu,il,Lg,Kl,rE,sE;const tT=class tT{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:s,page:i,viewport:a,structTreeLayer:o}){T(this,Kl);T(this,Dg,null);T(this,hu,null);T(this,il,new Map);T(this,Lg,null);this.div=e,A(this,Dg,t),A(this,hu,r),A(this,Lg,o||null),this.page=i,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return u(this,il).size>0}async render(e){var a;const{annotations:t}=e,r=this.div;Zu(r,this.viewport);const s=new Map,i={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new r0,annotationStorage:e.annotationStorage||new VC,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const l=o.annotationType===zt.POPUP;if(l){const h=s.get(o.id);if(!h)continue;i.elements=h}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;i.data=o;const c=h2.create(i);if(!c.isRenderable)continue;if(!l&&o.popupRef){const h=s.get(o.popupRef);h?h.push(c):s.set(o.popupRef,[c])}const d=c.render();o.hidden&&(d.style.visibility="hidden"),await N(this,Kl,rE).call(this,d,o.id,i.elements),c._isEditable&&(u(this,il).set(c.data.id,c),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(c))}N(this,Kl,sE).call(this)}async addLinkAnnotations(e,t){const r={data:null,layer:this.div,linkService:t,svgFactory:new r0,parent:this};for(const s of e){s.borderStyle||(s.borderStyle=tT._defaultBorderStyle),r.data=s;const i=h2.create(r);if(!i.isRenderable)continue;const a=i.render();await N(this,Kl,rE).call(this,a,s.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,Zu(t,{rotation:e.rotation}),N(this,Kl,sE).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(u(this,il).values())}getEditableAnnotation(e){return u(this,il).get(e)}static get _defaultBorderStyle(){return ze(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:gd.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};Dg=new WeakMap,hu=new WeakMap,il=new WeakMap,Lg=new WeakMap,Kl=new WeakSet,rE=async function(e,t,r){var o,l;const s=e.firstChild||e,i=s.id=`${FC}${t}`,a=await((o=u(this,Lg))==null?void 0:o.getAriaAttributes(i));if(a)for(const[c,d]of a)s.setAttribute(c,d);r?r.at(-1).container.after(e):(this.div.append(e),(l=u(this,Dg))==null||l.moveElementInDOM(this.div,e,s,!1))},sE=function(){var t;if(!u(this,hu))return;const e=this.div;for(const[r,s]of u(this,hu)){const i=e.querySelector(`[data-annotation-id="${r}"]`);if(!i)continue;s.className="annotationContent";const{firstChild:a}=i;a?a.nodeName==="CANVAS"?a.replaceWith(s):a.classList.contains("annotationContent")?a.after(s):a.before(s):i.append(s);const o=u(this,il).get(r);o&&(o._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(r,i.id,s),o._hasNoCanvas=!1):o.canvas=s)}u(this,hu).clear()};let nE=tT;const ay=/\r\n?|\n/g;var Ds,Nr,Fg,fu,Pr,Gt,$L,BL,zL,Hy,Ja,Wy,Gy,UL,aE,VL;const dt=class dt extends ft{constructor(t){super({...t,name:"freeTextEditor"});T(this,Gt);T(this,Ds);T(this,Nr,"");T(this,Fg,`${this.id}-editor`);T(this,fu,null);T(this,Pr);A(this,Ds,t.color||dt._defaultColor||ft._defaultLineColor),A(this,Pr,t.fontSize||dt._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=dt.prototype,r=a=>a.isEmpty(),s=Ju.TRANSLATE_SMALL,i=Ju.TRANSLATE_BIG;return ze(this,"_keyboardManager",new Sv([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}]]))}static initialize(t,r){ft.initialize(t,r);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case Ve.FREETEXT_SIZE:dt._defaultFontSize=r;break;case Ve.FREETEXT_COLOR:dt._defaultColor=r;break}}updateParams(t,r){switch(t){case Ve.FREETEXT_SIZE:N(this,Gt,$L).call(this,r);break;case Ve.FREETEXT_COLOR:N(this,Gt,BL).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Ve.FREETEXT_SIZE,dt._defaultFontSize],[Ve.FREETEXT_COLOR,dt._defaultColor||ft._defaultLineColor]]}get propertiesToUpdate(){return[[Ve.FREETEXT_SIZE,u(this,Pr)],[Ve.FREETEXT_COLOR,u(this,Ds)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-dt._internalPadding*t,-(dt._internalPadding+u(this,Pr))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),A(this,fu,new AbortController);const t=this._uiManager.combinedSignal(u(this,fu));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,Fg)),this._isDraggable=!0,(t=u(this,fu))==null||t.abort(),A(this,fu,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var r;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=u(this,Nr),r=A(this,Nr,N(this,Gt,zL).call(this).trimEnd());if(t===r)return;const s=i=>{if(A(this,Nr,i),!i){this.remove();return}N(this,Gt,Gy).call(this),this._uiManager.rebuild(this),N(this,Gt,Hy).call(this)};this.addCommands({cmd:()=>{s(r)},undo:()=>{s(t)},mustExec:!1}),N(this,Gt,Hy).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){dt._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,r;(this._isCopy||this.annotationElementId)&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,Fg)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${u(this,Pr)}px * var(--total-scale-factor))`,s.color=u(this,Ds),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[d,h]=this.pageDimensions,[p,m]=this.pageTranslation;let v,g;switch(this.rotation){case 0:v=t+(o[0]-p)/d,g=r+this.height-(o[1]-m)/h;break;case 90:v=t+(o[0]-p)/d,g=r-(o[1]-m)/h,[l,c]=[c,-l];break;case 180:v=t-this.width+(o[0]-p)/d,g=r-(o[1]-m)/h,[l,c]=[-l,-c];break;case 270:v=t+(o[0]-p-this.height*h)/d,g=r+(o[1]-m-this.width*d)/h,[l,c]=[-c,l];break}this.setAt(v*i,g*a,l,c)}else this._moveAfterPaste(t,r);N(this,Gt,Gy).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var v,g,y;const r=t.clipboardData||window.clipboardData,{types:s}=r;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const i=N(v=dt,Ja,aE).call(v,r.getData("text")||"").replaceAll(ay,`
`);if(!i)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!i.includes(`
`)){o.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:c}=o,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const x=l.parentElement;if(h.push(l.nodeValue.slice(c).replaceAll(ay,"")),x!==this.editorDiv){let w=d;for(const b of this.editorDiv.childNodes){if(b===x){w=h;continue}w.push(N(g=dt,Ja,Wy).call(g,b))}}d.push(l.nodeValue.slice(0,c).replaceAll(ay,""))}else if(l===this.editorDiv){let x=d,w=0;for(const b of this.editorDiv.childNodes)w++===c&&(x=h),x.push(N(y=dt,Ja,Wy).call(y,b))}A(this,Nr,`${d.join(`
`)}${i}${h.join(`
`)}`),N(this,Gt,Gy).call(this);const p=new Range;let m=Math.sumPrecise(d.map(x=>x.length));for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const w=x.nodeValue.length;if(m<=w){p.setStart(x,m),p.setEnd(x,m);break}m-=w}a.removeAllRanges(),a.addRange(p)}get contentDiv(){return this.editorDiv}static async deserialize(t,r,s){var o;let i=null;if(t instanceof jL){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:d,rotation:h,id:p,popupRef:m},textContent:v,textPosition:g,parent:{page:{pageNumber:y}}}=t;if(!v||v.length===0)return null;i=t={annotationType:Pe.FREETEXT,color:Array.from(c),fontSize:l,value:v.join(`
`),position:g,pageIndex:y-1,rect:d.slice(0),rotation:h,annotationElementId:p,id:p,deleted:!1,popupRef:m}}const a=await super.deserialize(t,r,s);return A(a,Pr,t.fontSize),A(a,Ds,Ee.makeHexColor(...t.color)),A(a,Nr,N(o=dt,Ja,aE).call(o,t.value)),a._initialData=i,a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=dt._internalPadding*this.parentScale,s=this.getRect(r,r),i=ft._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,Ds)),a={annotationType:Pe.FREETEXT,color:i,fontSize:u(this,Pr),value:N(this,Gt,UL).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(a.isCopy=!0,a):this.annotationElementId&&!N(this,Gt,VL).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:s}=r;s.fontSize=`calc(${u(this,Pr)}px * var(--total-scale-factor))`,s.color=u(this,Ds),r.replaceChildren();for(const a of u(this,Nr).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),r.append(o)}const i=dt._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(i,i),popupContent:u(this,Nr)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Ds=new WeakMap,Nr=new WeakMap,Fg=new WeakMap,fu=new WeakMap,Pr=new WeakMap,Gt=new WeakSet,$L=function(t){const r=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-u(this,Pr))*this.parentScale),A(this,Pr,i),N(this,Gt,Hy).call(this)},s=u(this,Pr);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ve.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},BL=function(t){const r=i=>{A(this,Ds,this.editorDiv.style.color=i)},s=u(this,Ds);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ve.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},zL=function(){var s;const t=[];this.editorDiv.normalize();let r=null;for(const i of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(N(s=dt,Ja,Wy).call(s,i)),r=i);return t.join(`
`)},Hy=function(){const[t,r]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:i,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",i.div.append(this.div),s=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/r):(this.width=s.height/t,this.height=s.width/r),this.fixAndSetPosition()},Ja=new WeakSet,Wy=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(ay,"")},Gy=function(){if(this.editorDiv.replaceChildren(),!!u(this,Nr))for(const t of u(this,Nr).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},UL=function(){return u(this,Nr).replaceAll(""," ")},aE=function(t){return t.replaceAll(" ","")},VL=function(t){const{value:r,fontSize:s,color:i,pageIndex:a}=this._initialData;return this._hasBeenMoved||t.value!==r||t.fontSize!==s||t.color.some((o,l)=>o!==i[l])||t.pageIndex!==a},T(dt,Ja),ee(dt,"_freeTextDefaultContent",""),ee(dt,"_internalPadding",0),ee(dt,"_defaultColor",null),ee(dt,"_defaultFontSize",10),ee(dt,"_type","freetext"),ee(dt,"_editorType",Pe.FREETEXT);let iE=dt;class pe{toSVGPath(){ct("Abstract method `toSVGPath` must be implemented.")}get box(){ct("Abstract getter `box` must be implemented.")}serialize(e,t){ct("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,s,i,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o]*s,a[o+1]=r+e[o+1]*i;return a}static _rescaleAndSwap(e,t,r,s,i,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o+1]*s,a[o+1]=r+e[o]*i;return a}static _translate(e,t,r,s){s||(s=new Float32Array(e.length));for(let i=0,a=e.length;i<a;i+=2)s[i]=t+e[i],s[i+1]=r+e[i+1];return s}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,s,i){switch(i){case 90:return[1-t/r,e/s];case 180:return[1-e/r,1-t/s];case 270:return[t/r,1-e/s];default:return[e/r,t/s]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,s,i,a){return[(e+5*r)/6,(t+5*s)/6,(5*r+i)/6,(5*s+a)/6,(r+i)/2,(s+a)/2]}}ee(pe,"PRECISION",1e-4);var kr,Ls,Kh,Yh,Ai,Le,pu,mu,$g,Bg,Xh,Qh,al,zg,E0,A0,tn,Ip,HL,WL,GL,KL,YL,XL;const ia=class ia{constructor({x:e,y:t},r,s,i,a,o=0){T(this,tn);T(this,kr);T(this,Ls,[]);T(this,Kh);T(this,Yh);T(this,Ai,[]);T(this,Le,new Float32Array(18));T(this,pu);T(this,mu);T(this,$g);T(this,Bg);T(this,Xh);T(this,Qh);T(this,al,[]);A(this,kr,r),A(this,Qh,i*s),A(this,Yh,a),u(this,Le).set([NaN,NaN,NaN,NaN,e,t],6),A(this,Kh,o),A(this,Bg,u(ia,zg)*s),A(this,$g,u(ia,A0)*s),A(this,Xh,s),u(this,al).push(e,t)}isEmpty(){return isNaN(u(this,Le)[8])}add({x:e,y:t}){var I;A(this,pu,e),A(this,mu,t);const[r,s,i,a]=u(this,kr);let[o,l,c,d]=u(this,Le).subarray(8,12);const h=e-c,p=t-d,m=Math.hypot(h,p);if(m<u(this,$g))return!1;const v=m-u(this,Bg),g=v/m,y=g*h,x=g*p;let w=o,b=l;o=c,l=d,c+=y,d+=x,(I=u(this,al))==null||I.push(e,t);const E=-x/v,C=y/v,R=E*u(this,Qh),P=C*u(this,Qh);return u(this,Le).set(u(this,Le).subarray(2,8),0),u(this,Le).set([c+R,d+P],4),u(this,Le).set(u(this,Le).subarray(14,18),12),u(this,Le).set([c-R,d-P],16),isNaN(u(this,Le)[6])?(u(this,Ai).length===0&&(u(this,Le).set([o+R,l+P],2),u(this,Ai).push(NaN,NaN,NaN,NaN,(o+R-r)/i,(l+P-s)/a),u(this,Le).set([o-R,l-P],14),u(this,Ls).push(NaN,NaN,NaN,NaN,(o-R-r)/i,(l-P-s)/a)),u(this,Le).set([w,b,o,l,c,d],6),!this.isEmpty()):(u(this,Le).set([w,b,o,l,c,d],6),Math.abs(Math.atan2(b-l,w-o)-Math.atan2(x,y))<Math.PI/2?([o,l,c,d]=u(this,Le).subarray(2,6),u(this,Ai).push(NaN,NaN,NaN,NaN,((o+c)/2-r)/i,((l+d)/2-s)/a),[o,l,w,b]=u(this,Le).subarray(14,18),u(this,Ls).push(NaN,NaN,NaN,NaN,((w+o)/2-r)/i,((b+l)/2-s)/a),!0):([w,b,o,l,c,d]=u(this,Le).subarray(0,6),u(this,Ai).push(((w+5*o)/6-r)/i,((b+5*l)/6-s)/a,((5*o+c)/6-r)/i,((5*l+d)/6-s)/a,((o+c)/2-r)/i,((l+d)/2-s)/a),[c,d,o,l,w,b]=u(this,Le).subarray(12,18),u(this,Ls).push(((w+5*o)/6-r)/i,((b+5*l)/6-s)/a,((5*o+c)/6-r)/i,((5*l+d)/6-s)/a,((o+c)/2-r)/i,((l+d)/2-s)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=u(this,Ai),t=u(this,Ls);if(isNaN(u(this,Le)[6])&&!this.isEmpty())return N(this,tn,HL).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?r.push(`L${e[s+4]} ${e[s+5]}`):r.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);N(this,tn,GL).call(this,r);for(let s=t.length-6;s>=6;s-=6)isNaN(t[s])?r.push(`L${t[s+4]} ${t[s+5]}`):r.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);return N(this,tn,WL).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,s,i,a){return new QL(e,t,r,s,i,a)}getOutlines(){var h;const e=u(this,Ai),t=u(this,Ls),r=u(this,Le),[s,i,a,o]=u(this,kr),l=new Float32Array((((h=u(this,al))==null?void 0:h.length)??0)+2);for(let p=0,m=l.length-2;p<m;p+=2)l[p]=(u(this,al)[p]-s)/a,l[p+1]=(u(this,al)[p+1]-i)/o;if(l[l.length-2]=(u(this,pu)-s)/a,l[l.length-1]=(u(this,mu)-i)/o,isNaN(r[6])&&!this.isEmpty())return N(this,tn,KL).call(this,l);const c=new Float32Array(u(this,Ai).length+24+u(this,Ls).length);let d=e.length;for(let p=0;p<d;p+=2){if(isNaN(e[p])){c[p]=c[p+1]=NaN;continue}c[p]=e[p],c[p+1]=e[p+1]}d=N(this,tn,XL).call(this,c,d);for(let p=t.length-6;p>=6;p-=6)for(let m=0;m<6;m+=2){if(isNaN(t[p+m])){c[d]=c[d+1]=NaN,d+=2;continue}c[d]=t[p+m],c[d+1]=t[p+m+1],d+=2}return N(this,tn,YL).call(this,c,d),this.newFreeDrawOutline(c,l,u(this,kr),u(this,Xh),u(this,Kh),u(this,Yh))}};kr=new WeakMap,Ls=new WeakMap,Kh=new WeakMap,Yh=new WeakMap,Ai=new WeakMap,Le=new WeakMap,pu=new WeakMap,mu=new WeakMap,$g=new WeakMap,Bg=new WeakMap,Xh=new WeakMap,Qh=new WeakMap,al=new WeakMap,zg=new WeakMap,E0=new WeakMap,A0=new WeakMap,tn=new WeakSet,Ip=function(){const e=u(this,Le).subarray(4,6),t=u(this,Le).subarray(16,18),[r,s,i,a]=u(this,kr);return[(u(this,pu)+(e[0]-t[0])/2-r)/i,(u(this,mu)+(e[1]-t[1])/2-s)/a,(u(this,pu)+(t[0]-e[0])/2-r)/i,(u(this,mu)+(t[1]-e[1])/2-s)/a]},HL=function(){const[e,t,r,s]=u(this,kr),[i,a,o,l]=N(this,tn,Ip).call(this);return`M${(u(this,Le)[2]-e)/r} ${(u(this,Le)[3]-t)/s} L${(u(this,Le)[4]-e)/r} ${(u(this,Le)[5]-t)/s} L${i} ${a} L${o} ${l} L${(u(this,Le)[16]-e)/r} ${(u(this,Le)[17]-t)/s} L${(u(this,Le)[14]-e)/r} ${(u(this,Le)[15]-t)/s} Z`},WL=function(e){const t=u(this,Ls);e.push(`L${t[4]} ${t[5]} Z`)},GL=function(e){const[t,r,s,i]=u(this,kr),a=u(this,Le).subarray(4,6),o=u(this,Le).subarray(16,18),[l,c,d,h]=N(this,tn,Ip).call(this);e.push(`L${(a[0]-t)/s} ${(a[1]-r)/i} L${l} ${c} L${d} ${h} L${(o[0]-t)/s} ${(o[1]-r)/i}`)},KL=function(e){const t=u(this,Le),[r,s,i,a]=u(this,kr),[o,l,c,d]=N(this,tn,Ip).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-r)/i,(t[3]-s)/a,NaN,NaN,NaN,NaN,(t[4]-r)/i,(t[5]-s)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,(t[16]-r)/i,(t[17]-s)/a,NaN,NaN,NaN,NaN,(t[14]-r)/i,(t[15]-s)/a],0),this.newFreeDrawOutline(h,e,u(this,kr),u(this,Xh),u(this,Kh),u(this,Yh))},YL=function(e,t){const r=u(this,Ls);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},XL=function(e,t){const r=u(this,Le).subarray(4,6),s=u(this,Le).subarray(16,18),[i,a,o,l]=u(this,kr),[c,d,h,p]=N(this,tn,Ip).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-i)/o,(r[1]-a)/l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(s[0]-i)/o,(s[1]-a)/l],t),t+=24},T(ia,zg,8),T(ia,E0,2),T(ia,A0,u(ia,zg)+u(ia,E0));let s0=ia;var Zh,gu,ka,Ug,Ir,Vg,Ot,C0,ZL;class QL extends pe{constructor(t,r,s,i,a,o){super();T(this,C0);T(this,Zh);T(this,gu,new Float32Array(4));T(this,ka);T(this,Ug);T(this,Ir);T(this,Vg);T(this,Ot);A(this,Ot,t),A(this,Ir,r),A(this,Zh,s),A(this,Vg,i),A(this,ka,a),A(this,Ug,o),this.lastPoint=[NaN,NaN],N(this,C0,ZL).call(this,o);const[l,c,d,h]=u(this,gu);for(let p=0,m=t.length;p<m;p+=2)t[p]=(t[p]-l)/d,t[p+1]=(t[p+1]-c)/h;for(let p=0,m=r.length;p<m;p+=2)r[p]=(r[p]-l)/d,r[p+1]=(r[p+1]-c)/h}toSVGPath(){const t=[`M${u(this,Ot)[4]} ${u(this,Ot)[5]}`];for(let r=6,s=u(this,Ot).length;r<s;r+=6){if(isNaN(u(this,Ot)[r])){t.push(`L${u(this,Ot)[r+4]} ${u(this,Ot)[r+5]}`);continue}t.push(`C${u(this,Ot)[r]} ${u(this,Ot)[r+1]} ${u(this,Ot)[r+2]} ${u(this,Ot)[r+3]} ${u(this,Ot)[r+4]} ${u(this,Ot)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,s,i],a){const o=s-t,l=i-r;let c,d;switch(a){case 0:c=pe._rescale(u(this,Ot),t,i,o,-l),d=pe._rescale(u(this,Ir),t,i,o,-l);break;case 90:c=pe._rescaleAndSwap(u(this,Ot),t,r,o,l),d=pe._rescaleAndSwap(u(this,Ir),t,r,o,l);break;case 180:c=pe._rescale(u(this,Ot),s,r,-o,l),d=pe._rescale(u(this,Ir),s,r,-o,l);break;case 270:c=pe._rescaleAndSwap(u(this,Ot),s,i,-o,-l),d=pe._rescaleAndSwap(u(this,Ir),s,i,-o,-l);break}return{outline:Array.from(c),points:[Array.from(d)]}}get box(){return u(this,gu)}newOutliner(t,r,s,i,a,o=0){return new s0(t,r,s,i,a,o)}getNewOutline(t,r){const[s,i,a,o]=u(this,gu),[l,c,d,h]=u(this,Zh),p=a*d,m=o*h,v=s*d+l,g=i*h+c,y=this.newOutliner({x:u(this,Ir)[0]*p+v,y:u(this,Ir)[1]*m+g},u(this,Zh),u(this,Vg),t,u(this,Ug),r??u(this,ka));for(let x=2;x<u(this,Ir).length;x+=2)y.add({x:u(this,Ir)[x]*p+v,y:u(this,Ir)[x+1]*m+g});return y.getOutlines()}}Zh=new WeakMap,gu=new WeakMap,ka=new WeakMap,Ug=new WeakMap,Ir=new WeakMap,Vg=new WeakMap,Ot=new WeakMap,C0=new WeakSet,ZL=function(t){const r=u(this,Ot);let s=r[4],i=r[5];const a=[s,i,s,i];let o=s,l=i;const c=t?Math.max:Math.min;for(let h=6,p=r.length;h<p;h+=6){const m=r[h+4],v=r[h+5];if(isNaN(r[h]))Ee.pointBoundingBox(m,v,a),l<v?(o=m,l=v):l===v&&(o=c(o,m));else{const g=[1/0,1/0,-1/0,-1/0];Ee.bezierBoundingBox(s,i,...r.slice(h,h+6),g),Ee.rectBoundingBox(...g,a),l<g[3]?(o=g[2],l=g[3]):l===g[3]&&(o=c(o,g[2]))}s=m,i=v}const d=u(this,gu);d[0]=a[0]-u(this,ka),d[1]=a[1]-u(this,ka),d[2]=a[2]-a[0]+2*u(this,ka),d[3]=a[3]-a[1]+2*u(this,ka),this.lastPoint=[o,l]};var Hg,Wg,ol,Fs,er,JL,Ky,qL,eF,lE;class oE{constructor(e,t=0,r=0,s=!0){T(this,er);T(this,Hg);T(this,Wg);T(this,ol,[]);T(this,Fs,[]);const i=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:m,y:v,width:g,height:y}of e){const x=Math.floor((m-t)/a)*a,w=Math.ceil((m+g+t)/a)*a,b=Math.floor((v-t)/a)*a,E=Math.ceil((v+y+t)/a)*a,C=[x,b,E,!0],R=[w,b,E,!1];u(this,ol).push(C,R),Ee.rectBoundingBox(x,b,w,E,i)}const o=i[2]-i[0]+2*r,l=i[3]-i[1]+2*r,c=i[0]-r,d=i[1]-r,h=u(this,ol).at(s?-1:-2),p=[h[0],h[2]];for(const m of u(this,ol)){const[v,g,y]=m;m[0]=(v-c)/o,m[1]=(g-d)/l,m[2]=(y-d)/l}A(this,Hg,new Float32Array([c,d,o,l])),A(this,Wg,p)}getOutlines(){u(this,ol).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of u(this,ol))t[3]?(e.push(...N(this,er,lE).call(this,t)),N(this,er,qL).call(this,t)):(N(this,er,eF).call(this,t),e.push(...N(this,er,lE).call(this,t)));return N(this,er,JL).call(this,e)}}Hg=new WeakMap,Wg=new WeakMap,ol=new WeakMap,Fs=new WeakMap,er=new WeakSet,JL=function(e){const t=[],r=new Set;for(const a of e){const[o,l,c]=a;t.push([o,l,a],[o,c,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],c=t[a+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const s=[];let i;for(;r.size>0;){const a=r.values().next().value;let[o,l,c,d,h]=a;r.delete(a);let p=o,m=l;for(i=[o,c],s.push(i);;){let v;if(r.has(d))v=d;else if(r.has(h))v=h;else break;r.delete(v),[o,l,c,d,h]=v,p!==o&&(i.push(p,m,o,m===l?l:c),p=o),m=m===l?c:l}i.push(p,m)}return new iK(s,u(this,Hg),u(this,Wg))},Ky=function(e){const t=u(this,Fs);let r=0,s=t.length-1;for(;r<=s;){const i=r+s>>1,a=t[i][0];if(a===e)return i;a<e?r=i+1:s=i-1}return s+1},qL=function([,e,t]){const r=N(this,er,Ky).call(this,e);u(this,Fs).splice(r,0,[e,t])},eF=function([,e,t]){const r=N(this,er,Ky).call(this,e);for(let s=r;s<u(this,Fs).length;s++){const[i,a]=u(this,Fs)[s];if(i!==e)break;if(i===e&&a===t){u(this,Fs).splice(s,1);return}}for(let s=r-1;s>=0;s--){const[i,a]=u(this,Fs)[s];if(i!==e)break;if(i===e&&a===t){u(this,Fs).splice(s,1);return}}},lE=function(e){const[t,r,s]=e,i=[[t,r,s]],a=N(this,er,Ky).call(this,s);for(let o=0;o<a;o++){const[l,c]=u(this,Fs)[o];for(let d=0,h=i.length;d<h;d++){const[,p,m]=i[d];if(!(c<=p||m<=l)){if(p>=l){if(m>c)i[d][1]=c;else{if(h===1)return[];i.splice(d,1),d--,h--}continue}i[d][2]=l,m>c&&i.push([t,c,m])}}}return i};var Gg,Jh;class iK extends pe{constructor(t,r,s){super();T(this,Gg);T(this,Jh);A(this,Jh,t),A(this,Gg,r),this.lastPoint=s}toSVGPath(){const t=[];for(const r of u(this,Jh)){let[s,i]=r;t.push(`M${s} ${i}`);for(let a=2;a<r.length;a+=2){const o=r[a],l=r[a+1];o===s?(t.push(`V${l}`),i=l):l===i&&(t.push(`H${o}`),s=o)}t.push("Z")}return t.join(" ")}serialize([t,r,s,i],a){const o=[],l=s-t,c=i-r;for(const d of u(this,Jh)){const h=new Array(d.length);for(let p=0;p<d.length;p+=2)h[p]=t+d[p]*l,h[p+1]=i-d[p+1]*c;o.push(h)}return o}get box(){return u(this,Gg)}get classNamesForOutlining(){return["highlightOutline"]}}Gg=new WeakMap,Jh=new WeakMap;class cE extends s0{newFreeDrawOutline(e,t,r,s,i,a){return new aK(e,t,r,s,i,a)}}class aK extends QL{newOutliner(e,t,r,s,i,a=0){return new cE(e,t,r,s,i,a)}}var _r,vu,qh,Zt,Kg,ef,Ia,Yg,ll,$s,tf,Xg,lt,uE,dE,hE,ic,tF,yo;const lr=class lr{constructor({editor:e=null,uiManager:t=null}){T(this,lt);T(this,_r,null);T(this,vu,null);T(this,qh);T(this,Zt,null);T(this,Kg,!1);T(this,ef,!1);T(this,Ia,null);T(this,Yg);T(this,ll,null);T(this,$s,null);T(this,tf);var r,s;e?(A(this,ef,!1),A(this,tf,Ve.HIGHLIGHT_COLOR),A(this,Ia,e)):(A(this,ef,!0),A(this,tf,Ve.HIGHLIGHT_DEFAULT_COLOR)),A(this,$s,(e==null?void 0:e._uiManager)||t),A(this,Yg,u(this,$s)._eventBus),A(this,qh,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((s=u(this,$s))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),u(lr,Xg)||A(lr,Xg,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return ze(this,"_keyboardManager",new Sv([[["Escape","mac+Escape"],lr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],lr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],lr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],lr.prototype._moveToPrevious],[["Home","mac+Home"],lr.prototype._moveToBeginning],[["End","mac+End"],lr.prototype._moveToEnd]]))}renderButton(){const e=A(this,_r,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",u(this,Ia)&&(e.ariaControls=`${u(this,Ia).id}_colorpicker_dropdown`);const t=u(this,$s)._signal;e.addEventListener("click",N(this,lt,ic).bind(this),{signal:t}),e.addEventListener("keydown",N(this,lt,hE).bind(this),{signal:t});const r=A(this,vu,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=u(this,qh),e.append(r),e}renderMainDropdown(){const e=A(this,Zt,N(this,lt,uE).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===u(this,_r)){N(this,lt,ic).call(this,e);return}const t=e.target.getAttribute("data-color");t&&N(this,lt,dE).call(this,t,e)}_moveToNext(e){var t,r;if(!u(this,lt,yo)){N(this,lt,ic).call(this,e);return}if(e.target===u(this,_r)){(t=u(this,Zt).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=u(this,Zt))==null?void 0:t.firstChild)||e.target===u(this,_r)){u(this,lt,yo)&&this._hideDropdownFromKeyboard();return}u(this,lt,yo)||N(this,lt,ic).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!u(this,lt,yo)){N(this,lt,ic).call(this,e);return}(t=u(this,Zt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!u(this,lt,yo)){N(this,lt,ic).call(this,e);return}(t=u(this,Zt).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=u(this,Zt))==null||e.classList.add("hidden"),u(this,_r).ariaExpanded="false",(t=u(this,ll))==null||t.abort(),A(this,ll,null)}_hideDropdownFromKeyboard(){var e;if(!u(this,ef)){if(!u(this,lt,yo)){(e=u(this,Ia))==null||e.unselect();return}this.hideDropdown(),u(this,_r).focus({preventScroll:!0,focusVisible:u(this,Kg)})}}updateColor(e){if(u(this,vu)&&(u(this,vu).style.backgroundColor=e),!u(this,Zt))return;const t=u(this,$s).highlightColors.values();for(const r of u(this,Zt).children)r.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=u(this,_r))==null||e.remove(),A(this,_r,null),A(this,vu,null),(t=u(this,Zt))==null||t.remove(),A(this,Zt,null)}};_r=new WeakMap,vu=new WeakMap,qh=new WeakMap,Zt=new WeakMap,Kg=new WeakMap,ef=new WeakMap,Ia=new WeakMap,Yg=new WeakMap,ll=new WeakMap,$s=new WeakMap,tf=new WeakMap,Xg=new WeakMap,lt=new WeakSet,uE=function(){const e=document.createElement("div"),t=u(this,$s)._signal;e.addEventListener("contextmenu",ei,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),u(this,Ia)&&(e.id=`${u(this,Ia).id}_colorpicker_dropdown`);for(const[r,s]of u(this,$s).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",s),i.title=r,i.setAttribute("data-l10n-id",u(lr,Xg)[r]);const a=document.createElement("span");i.append(a),a.className="swatch",a.style.backgroundColor=s,i.ariaSelected=s===u(this,qh),i.addEventListener("click",N(this,lt,dE).bind(this,s),{signal:t}),e.append(i)}return e.addEventListener("keydown",N(this,lt,hE).bind(this),{signal:t}),e},dE=function(e,t){t.stopPropagation(),u(this,Yg).dispatch("switchannotationeditorparams",{source:this,type:u(this,tf),value:e})},hE=function(e){lr._keyboardManager.exec(this,e)},ic=function(e){if(u(this,lt,yo)){this.hideDropdown();return}if(A(this,Kg,e.detail===0),u(this,ll)||(A(this,ll,new AbortController),window.addEventListener("pointerdown",N(this,lt,tF).bind(this),{signal:u(this,$s).combinedSignal(u(this,ll))})),u(this,_r).ariaExpanded="true",u(this,Zt)){u(this,Zt).classList.remove("hidden");return}const t=A(this,Zt,N(this,lt,uE).call(this));u(this,_r).append(t)},tF=function(e){var t;(t=u(this,Zt))!=null&&t.contains(e.target)||this.hideDropdown()},yo=function(){return u(this,Zt)&&!u(this,Zt).classList.contains("hidden")},T(lr,Xg,null);let i0=lr;var nf,Qg,_a,yu,Zg,fr,Jg,qg,xu,is,Mr,yn,rf,Ma,On,sf,as,ev,Me,fE,Yy,nF,rF,sF,pE,ac,us,bd,iF,Xy,_p,aF,oF,lF,cF,uF;const Ze=class Ze extends ft{constructor(t){super({...t,name:"highlightEditor"});T(this,Me);T(this,nf,null);T(this,Qg,0);T(this,_a);T(this,yu,null);T(this,Zg,null);T(this,fr,null);T(this,Jg,null);T(this,qg,0);T(this,xu,null);T(this,is,null);T(this,Mr,null);T(this,yn,!1);T(this,rf,null);T(this,Ma);T(this,On,null);T(this,sf,"");T(this,as);T(this,ev,"");this.color=t.color||Ze._defaultColor,A(this,as,t.thickness||Ze._defaultThickness),A(this,Ma,t.opacity||Ze._defaultOpacity),A(this,_a,t.boxes||null),A(this,ev,t.methodOfCreation||""),A(this,sf,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(A(this,yn,!0),N(this,Me,Yy).call(this,t),N(this,Me,ac).call(this)):u(this,_a)&&(A(this,nf,t.anchorNode),A(this,Qg,t.anchorOffset),A(this,Jg,t.focusNode),A(this,qg,t.focusOffset),N(this,Me,fE).call(this),N(this,Me,ac).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Ze.prototype;return ze(this,"_keyboardManager",new Sv([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,yn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,as),methodOfCreation:u(this,ev)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var s;ft.initialize(t,r),Ze._defaultColor||(Ze._defaultColor=((s=r.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case Ve.HIGHLIGHT_DEFAULT_COLOR:Ze._defaultColor=r;break;case Ve.HIGHLIGHT_THICKNESS:Ze._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return u(this,rf)}updateParams(t,r){switch(t){case Ve.HIGHLIGHT_COLOR:N(this,Me,nF).call(this,r);break;case Ve.HIGHLIGHT_THICKNESS:N(this,Me,rF).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Ve.HIGHLIGHT_DEFAULT_COLOR,Ze._defaultColor],[Ve.HIGHLIGHT_THICKNESS,Ze._defaultThickness]]}get propertiesToUpdate(){return[[Ve.HIGHLIGHT_COLOR,this.color||Ze._defaultColor],[Ve.HIGHLIGHT_THICKNESS,u(this,as)||Ze._defaultThickness],[Ve.HIGHLIGHT_FREE,u(this,yn)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",A(this,Zg,new i0({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(N(this,Me,_p).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,N(this,Me,_p).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){N(this,Me,pE).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(N(this,Me,ac).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let r=!1;this.parent&&!t?N(this,Me,pE).call(this):t&&(N(this,Me,ac).call(this,t),r=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var i,a,o;const{drawLayer:r}=this.parent;let s;u(this,yn)?(t=(t-this.rotation+360)%360,s=N(i=Ze,us,bd).call(i,u(this,is).box,t)):s=N(a=Ze,us,bd).call(a,[this.x,this.y,this.width,this.height],t),r.updateProperties(u(this,Mr),{bbox:s,root:{"data-main-rotation":t}}),r.updateProperties(u(this,On),{bbox:N(o=Ze,us,bd).call(o,u(this,fr).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();u(this,sf)&&(t.setAttribute("aria-label",u(this,sf)),t.setAttribute("role","mark")),u(this,yn)?t.classList.add("free"):this.div.addEventListener("keydown",N(this,Me,iF).bind(this),{signal:this._uiManager._signal});const r=A(this,xu,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=u(this,yu);const[s,i]=this.parentDimensions;return this.setDims(this.width*s,this.height*i),PD(this,u(this,xu),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(u(this,On),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(u(this,On),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:N(this,Me,Xy).call(this,!0);break;case 1:case 3:N(this,Me,Xy).call(this,!1);break}}select(){var t;super.select(),u(this,On)&&((t=this.parent)==null||t.drawLayer.updateProperties(u(this,On),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),u(this,On)&&((t=this.parent)==null||t.drawLayer.updateProperties(u(this,On),{rootClass:{selected:!1}}),u(this,yn)||N(this,Me,Xy).call(this,!1))}get _mustFixPosition(){return!u(this,yn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(u(this,Mr),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(u(this,On),{rootClass:{hidden:!t}}))}static startHighlighting(t,r,{target:s,x:i,y:a}){const{x:o,y:l,width:c,height:d}=s.getBoundingClientRect(),h=new AbortController,p=t.combinedSignal(h),m=v=>{h.abort(),N(this,us,cF).call(this,t,v)};window.addEventListener("blur",m,{signal:p}),window.addEventListener("pointerup",m,{signal:p}),window.addEventListener("pointerdown",Vt,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",ei,{signal:p}),s.addEventListener("pointermove",N(this,us,lF).bind(this,t),{signal:p}),this._freeHighlight=new cE({x:i,y:a},[o,l,c,d],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,r,s){var g,y,x,w;let i=null;if(t instanceof LL){const{data:{quadPoints:b,rect:E,rotation:C,id:R,color:P,opacity:k,popupRef:I},parent:{page:{pageNumber:_}}}=t;i=t={annotationType:Pe.HIGHLIGHT,color:Array.from(P),opacity:k,quadPoints:b,boxes:null,pageIndex:_-1,rect:E.slice(0),rotation:C,annotationElementId:R,id:R,deleted:!1,popupRef:I}}else if(t instanceof GC){const{data:{inkLists:b,rect:E,rotation:C,id:R,color:P,borderStyle:{rawWidth:k},popupRef:I},parent:{page:{pageNumber:_}}}=t;i=t={annotationType:Pe.HIGHLIGHT,color:Array.from(P),thickness:k,inkLists:b,boxes:null,pageIndex:_-1,rect:E.slice(0),rotation:C,annotationElementId:R,id:R,deleted:!1,popupRef:I}}const{color:a,quadPoints:o,inkLists:l,opacity:c}=t,d=await super.deserialize(t,r,s);d.color=Ee.makeHexColor(...a),A(d,Ma,c||1),l&&A(d,as,t.thickness),d._initialData=i;const[h,p]=d.pageDimensions,[m,v]=d.pageTranslation;if(o){const b=A(d,_a,[]);for(let E=0;E<o.length;E+=8)b.push({x:(o[E]-m)/h,y:1-(o[E+1]-v)/p,width:(o[E+2]-o[E])/h,height:(o[E+1]-o[E+5])/p});N(g=d,Me,fE).call(g),N(y=d,Me,ac).call(y),d.rotate(d.rotation)}else if(l){A(d,yn,!0);const b=l[0],E={x:b[0]-m,y:p-(b[1]-v)},C=new cE(E,[0,0,h,p],1,u(d,as)/2,!0,.001);for(let k=0,I=b.length;k<I;k+=2)E.x=b[k]-m,E.y=p-(b[k+1]-v),C.add(E);const{id:R,clipPathId:P}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:C.toSVGPath()}},!0,!0);N(x=d,Me,Yy).call(x,{highlightOutlines:C.getOutlines(),highlightId:R,clipPathId:P}),N(w=d,Me,ac).call(w),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),s=ft._colorManager.convert(this.color),i={annotationType:Pe.HIGHLIGHT,color:s,opacity:u(this,Ma),thickness:u(this,as),quadPoints:N(this,Me,aF).call(this),outlines:N(this,Me,oF).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:N(this,Me,_p).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!N(this,Me,uF).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};nf=new WeakMap,Qg=new WeakMap,_a=new WeakMap,yu=new WeakMap,Zg=new WeakMap,fr=new WeakMap,Jg=new WeakMap,qg=new WeakMap,xu=new WeakMap,is=new WeakMap,Mr=new WeakMap,yn=new WeakMap,rf=new WeakMap,Ma=new WeakMap,On=new WeakMap,sf=new WeakMap,as=new WeakMap,ev=new WeakMap,Me=new WeakSet,fE=function(){const t=new oE(u(this,_a),.001);A(this,is,t.getOutlines()),[this.x,this.y,this.width,this.height]=u(this,is).box;const r=new oE(u(this,_a),.0025,.001,this._uiManager.direction==="ltr");A(this,fr,r.getOutlines());const{lastPoint:s}=u(this,fr);A(this,rf,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},Yy=function({highlightOutlines:t,highlightId:r,clipPathId:s}){var h,p;if(A(this,is,t),A(this,fr,t.getNewOutline(u(this,as)/2+1.5,.0025)),r>=0)A(this,Mr,r),A(this,yu,s),this.parent.drawLayer.finalizeDraw(r,{bbox:t.box,path:{d:t.toSVGPath()}}),A(this,On,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:u(this,fr).box,path:{d:u(this,fr).toSVGPath()}},!0));else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(u(this,Mr),{bbox:N(h=Ze,us,bd).call(h,u(this,is).box,(m-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(u(this,On),{bbox:N(p=Ze,us,bd).call(p,u(this,fr).box,m),path:{d:u(this,fr).toSVGPath()}})}const[a,o,l,c]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=c;break;case 90:{const[m,v]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*v/m,this.height=c*m/v;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[m,v]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*v/m,this.height=c*m/v;break}}const{lastPoint:d}=u(this,fr);A(this,rf,[(d[0]-a)/l,(d[1]-o)/c])},nF=function(t){const r=(a,o)=>{var l,c;this.color=a,A(this,Ma,o),(l=this.parent)==null||l.drawLayer.updateProperties(u(this,Mr),{root:{fill:a,"fill-opacity":o}}),(c=u(this,Zg))==null||c.updateColor(a)},s=this.color,i=u(this,Ma);this.addCommands({cmd:r.bind(this,t,Ze._defaultOpacity),undo:r.bind(this,s,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ve.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},rF=function(t){const r=u(this,as),s=i=>{A(this,as,i),N(this,Me,sF).call(this,i)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ve.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},sF=function(t){if(!u(this,yn))return;N(this,Me,Yy).call(this,{highlightOutlines:u(this,is).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,s]=this.parentDimensions;this.setDims(this.width*r,this.height*s)},pE=function(){u(this,Mr)===null||!this.parent||(this.parent.drawLayer.remove(u(this,Mr)),A(this,Mr,null),this.parent.drawLayer.remove(u(this,On)),A(this,On,null))},ac=function(t=this.parent){u(this,Mr)===null&&({id:nn(this,Mr)._,clipPathId:nn(this,yu)._}=t.drawLayer.draw({bbox:u(this,is).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":u(this,Ma)},rootClass:{highlight:!0,free:u(this,yn)},path:{d:u(this,is).toSVGPath()}},!1,!0),A(this,On,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:u(this,yn)},bbox:u(this,fr).box,path:{d:u(this,fr).toSVGPath()}},u(this,yn))),u(this,xu)&&(u(this,xu).style.clipPath=u(this,yu)))},us=new WeakSet,bd=function([t,r,s,i],a){switch(a){case 90:return[1-r-i,t,i,s];case 180:return[1-t-s,1-r-i,s,i];case 270:return[r,1-t-s,i,s]}return[t,r,s,i]},iF=function(t){Ze._keyboardManager.exec(this,t)},Xy=function(t){if(!u(this,nf))return;const r=window.getSelection();t?r.setPosition(u(this,nf),u(this,Qg)):r.setPosition(u(this,Jg),u(this,qg))},_p=function(){return u(this,yn)?this.rotation:0},aF=function(){if(u(this,yn))return null;const[t,r]=this.pageDimensions,[s,i]=this.pageTranslation,a=u(this,_a),o=new Float32Array(a.length*8);let l=0;for(const{x:c,y:d,width:h,height:p}of a){const m=c*t+s,v=(1-d)*r+i;o[l]=o[l+4]=m,o[l+1]=o[l+3]=v,o[l+2]=o[l+6]=m+h*t,o[l+5]=o[l+7]=v-p*r,l+=8}return o},oF=function(t){return u(this,is).serialize(t,N(this,Me,_p).call(this))},lF=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},cF=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},uF=function(t){const{color:r}=this._initialData;return t.color.some((s,i)=>s!==r[i])},T(Ze,us),ee(Ze,"_defaultColor",null),ee(Ze,"_defaultOpacity",1),ee(Ze,"_defaultThickness",12),ee(Ze,"_type","highlight"),ee(Ze,"_editorType",Pe.HIGHLIGHT),ee(Ze,"_freeHighlightId",-1),ee(Ze,"_freeHighlight",null),ee(Ze,"_freeHighlightClipId","");let a0=Ze;var wu;class dF{constructor(){T(this,wu,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,r)}updateSVGProperty(e,t){u(this,wu)[e]=t}toSVGProperties(){const e=u(this,wu);return A(this,wu,Object.create(null)),{root:e}}reset(){A(this,wu,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){ct("Not implemented")}}wu=new WeakMap;var Or,af,an,bu,Su,cl,ul,dl,Eu,Ge,mE,gE,vE,Mp,hF,Qy,Op,Sd;const ve=class ve extends ft{constructor(t){super(t);T(this,Ge);T(this,Or,null);T(this,af);ee(this,"_drawId",null);A(this,af,t.mustBeCommitted||!1),this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(N(this,Ge,mE).call(this,t),N(this,Ge,Mp).call(this))}static _mergeSVGProperties(t,r){const s=new Set(Object.keys(t));for(const[i,a]of Object.entries(r))s.has(i)?Object.assign(t[i],a):t[i]=a;return t}static getDefaultDrawingOptions(t){ct("Not implemented")}static get typesMap(){ct("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,r){const s=this.typesMap.get(t);s&&this._defaultDrawingOptions.updateProperty(s,r),this._currentParent&&(u(ve,an).updateProperty(s,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,r){const s=this.constructor.typesMap.get(t);s&&this._updateProperty(t,s,r)}static get defaultPropertiesToUpdate(){const t=[],r=this._defaultDrawingOptions;for(const[s,i]of this.typesMap)t.push([s,r[i]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:r}=this;for(const[s,i]of this.constructor.typesMap)t.push([s,r[i]]);return t}_updateProperty(t,r,s){const i=this._drawingOptions,a=i[r],o=l=>{var d;i.updateProperty(r,l);const c=u(this,Or).updateProperty(r,l);c&&N(this,Ge,Op).call(this,c),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,i.toSVGProperties())};this.addCommands({cmd:o.bind(this,s),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,ve._mergeSVGProperties(u(this,Or).getPathResizingSVGProperties(N(this,Ge,Qy).call(this)),{bbox:N(this,Ge,Sd).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,ve._mergeSVGProperties(u(this,Or).getPathResizedSVGProperties(N(this,Ge,Qy).call(this)),{bbox:N(this,Ge,Sd).call(this)}))}_onTranslating(t,r){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,{bbox:N(this,Ge,Sd).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,ve._mergeSVGProperties(u(this,Or).getPathTranslatedSVGProperties(N(this,Ge,Qy).call(this),this.parentDimensions),{bbox:N(this,Ge,Sd).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,u(this,af)&&(A(this,af,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){N(this,Ge,vE).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(N(this,Ge,Mp).call(this),N(this,Ge,Op).call(this,u(this,Or).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let r=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),N(this,Ge,vE).call(this)):t&&(this._uiManager.addShouldRescale(this),N(this,Ge,Mp).call(this,t),r=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,ve._mergeSVGProperties({bbox:N(this,Ge,Sd).call(this)},u(this,Or).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&N(this,Ge,Op).call(this,u(this,Or).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,r;this._isCopy&&(t=this.x,r=this.y);const s=super.render();s.classList.add("draw");const i=document.createElement("div");s.append(i),i.setAttribute("aria-hidden","true"),i.className="internal";const[a,o]=this.parentDimensions;return this.setDims(this.width*a,this.height*o),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,r),s}static createDrawerInstance(t,r,s,i,a){ct("Not implemented")}static startDrawing(t,r,s,i){var y;const{target:a,offsetX:o,offsetY:l,pointerId:c,pointerType:d}=i;if(u(ve,ul)&&u(ve,ul)!==d)return;const{viewport:{rotation:h}}=t,{width:p,height:m}=a.getBoundingClientRect(),v=A(ve,bu,new AbortController),g=t.combinedSignal(v);if(u(ve,cl)||A(ve,cl,c),u(ve,ul)??A(ve,ul,d),window.addEventListener("pointerup",x=>{var w;u(ve,cl)===x.pointerId?this._endDraw(x):(w=u(ve,dl))==null||w.delete(x.pointerId)},{signal:g}),window.addEventListener("pointercancel",x=>{var w;u(ve,cl)===x.pointerId?this._currentParent.endDrawingSession():(w=u(ve,dl))==null||w.delete(x.pointerId)},{signal:g}),window.addEventListener("pointerdown",x=>{u(ve,ul)===x.pointerType&&((u(ve,dl)||A(ve,dl,new Set)).add(x.pointerId),u(ve,an).isCancellable()&&(u(ve,an).removeLastElement(),u(ve,an).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",ei,{signal:g}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:g}),a.addEventListener("touchmove",x=>{x.timeStamp===u(ve,Eu)&&Vt(x)},{signal:g}),t.toggleDrawing(),(y=r._editorUndoBar)==null||y.hide(),u(ve,an)){t.drawLayer.updateProperties(this._currentDrawId,u(ve,an).startNew(o,l,p,m,h));return}r.updateUIForDefaultProperties(this),A(ve,an,this.createDrawerInstance(o,l,p,m,h)),A(ve,Su,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(u(ve,Su).toSVGProperties(),u(ve,an).defaultSVGProperties),!0,!1)}static _drawMove(t){var a;if(A(ve,Eu,-1),!u(ve,an))return;const{offsetX:r,offsetY:s,pointerId:i}=t;if(u(ve,cl)===i){if(((a=u(ve,dl))==null?void 0:a.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,u(ve,an).add(r,s)),A(ve,Eu,t.timeStamp),Vt(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,A(ve,an,null),A(ve,Su,null),A(ve,ul,null),A(ve,Eu,NaN)),u(ve,bu)&&(u(ve,bu).abort(),A(ve,bu,null),A(ve,cl,NaN),A(ve,dl,null))}static _endDraw(t){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,u(ve,an).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const s=u(ve,an),i=this._currentDrawId,a=s.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(i,s.setLastElement(a))},undo:()=>{r.drawLayer.updateProperties(i,s.removeLastElement())},mustExec:!1,type:Ve.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(Ve.DRAW_STEP),!u(ve,an).isEmpty()){const{pageDimensions:[s,i],scale:a}=r,o=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:u(ve,an).getOutlines(s*a,i*a,a,this._INNER_MARGIN),drawingOptions:u(ve,Su),mustBeCommitted:!t});return this._cleanup(!0),o}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,r,s,i,a,o){ct("Not implemented")}static async deserialize(t,r,s){var h,p;const{rawDims:{pageWidth:i,pageHeight:a,pageX:o,pageY:l}}=r.viewport,c=this.deserializeDraw(o,l,i,a,this._INNER_MARGIN,t),d=await super.deserialize(t,r,s);return d.createDrawingOptions(t),N(h=d,Ge,mE).call(h,{drawOutlines:c}),N(p=d,Ge,Mp).call(p),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[r,s]=this.pageTranslation,[i,a]=this.pageDimensions;return u(this,Or).serialize([r,s,i,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Or=new WeakMap,af=new WeakMap,an=new WeakMap,bu=new WeakMap,Su=new WeakMap,cl=new WeakMap,ul=new WeakMap,dl=new WeakMap,Eu=new WeakMap,Ge=new WeakSet,mE=function({drawOutlines:t,drawId:r,drawingOptions:s}){A(this,Or,t),this._drawingOptions||(this._drawingOptions=s),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,t.defaultProperties)):this._drawId=N(this,Ge,gE).call(this,t,this.parent),N(this,Ge,Op).call(this,t.box)},gE=function(t,r){const{id:s}=r.drawLayer.draw(ve._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return s},vE=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Mp=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=N(this,Ge,gE).call(this,u(this,Or),t)}},hF=function([t,r,s,i]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[r,1-t,s*(o/a),i*(a/o)];case 180:return[1-t,1-r,s,i];case 270:return[1-r,t,s*(o/a),i*(a/o)];default:return[t,r,s,i]}},Qy=function(){const{x:t,y:r,width:s,height:i,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-r,t,s*(a/o),i*(o/a)];case 180:return[1-t,1-r,s,i];case 270:return[r,1-t,s*(a/o),i*(o/a)];default:return[t,r,s,i]}},Op=function(t){if([this.x,this.y,this.width,this.height]=N(this,Ge,hF).call(this,t),this.div){this.fixAndSetPosition();const[r,s]=this.parentDimensions;this.setDims(this.width*r,this.height*s)}this._onResized()},Sd=function(){const{x:t,y:r,width:s,height:i,rotation:a,parentRotation:o,parentDimensions:[l,c]}=this;switch((a*4+o)/90){case 1:return[1-r-i,t,i,s];case 2:return[1-t-s,1-r-i,s,i];case 3:return[r,1-t-s,i,s];case 4:return[t,r-s*(l/c),i*(c/l),s*(l/c)];case 5:return[1-r,t,s*(l/c),i*(c/l)];case 6:return[1-t-i*(c/l),1-r,i*(c/l),s*(l/c)];case 7:return[r-s*(l/c),1-t-i*(c/l),s*(l/c),i*(c/l)];case 8:return[t-s,r-i,s,i];case 9:return[1-r,t-s,i,s];case 10:return[1-t,1-r,s,i];case 11:return[r-i,1-t,i,s];case 12:return[t-i*(c/l),r,i*(c/l),s*(l/c)];case 13:return[1-r-s*(l/c),t-i*(c/l),s*(l/c),i*(c/l)];case 14:return[1-t,1-r-s*(l/c),i*(c/l),s*(l/c)];case 15:return[r,1-t,s*(l/c),i*(c/l)];default:return[t,r,s,i]}},ee(ve,"_currentDrawId",-1),ee(ve,"_currentParent",null),T(ve,an,null),T(ve,bu,null),T(ve,Su,null),T(ve,cl,NaN),T(ve,ul,null),T(ve,dl,null),T(ve,Eu,NaN),ee(ve,"_INNER_MARGIN",3);let o0=ve;var Ci,on,ln,Au,of,Vn,xn,os,Cu,Tu,Ru,lf,Zy;class oK{constructor(e,t,r,s,i,a){T(this,lf);T(this,Ci,new Float64Array(6));T(this,on);T(this,ln);T(this,Au);T(this,of);T(this,Vn);T(this,xn,"");T(this,os,0);T(this,Cu,new Av);T(this,Tu);T(this,Ru);A(this,Tu,r),A(this,Ru,s),A(this,Au,i),A(this,of,a),[e,t]=N(this,lf,Zy).call(this,e,t);const o=A(this,on,[NaN,NaN,NaN,NaN,e,t]);A(this,Vn,[e,t]),A(this,ln,[{line:o,points:u(this,Vn)}]),u(this,Ci).set(o,0)}updateProperty(e,t){e==="stroke-width"&&A(this,of,t)}isEmpty(){return!u(this,ln)||u(this,ln).length===0}isCancellable(){return u(this,Vn).length<=10}add(e,t){[e,t]=N(this,lf,Zy).call(this,e,t);const[r,s,i,a]=u(this,Ci).subarray(2,6),o=e-i,l=t-a;return Math.hypot(u(this,Tu)*o,u(this,Ru)*l)<=2?null:(u(this,Vn).push(e,t),isNaN(r)?(u(this,Ci).set([i,a,e,t],2),u(this,on).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(u(this,Ci)[0])&&u(this,on).splice(6,6),u(this,Ci).set([r,s,i,a,e,t],0),u(this,on).push(...pe.createBezierPoints(r,s,i,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(u(this,Vn).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,s,i){A(this,Tu,r),A(this,Ru,s),A(this,Au,i),[e,t]=N(this,lf,Zy).call(this,e,t);const a=A(this,on,[NaN,NaN,NaN,NaN,e,t]);A(this,Vn,[e,t]);const o=u(this,ln).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),u(this,ln).push({line:a,points:u(this,Vn)}),u(this,Ci).set(a,0),A(this,os,0),this.toSVGPath(),null}getLastElement(){return u(this,ln).at(-1)}setLastElement(e){return u(this,ln)?(u(this,ln).push(e),A(this,on,e.line),A(this,Vn,e.points),A(this,os,0),{path:{d:this.toSVGPath()}}):u(this,Cu).setLastElement(e)}removeLastElement(){if(!u(this,ln))return u(this,Cu).removeLastElement();u(this,ln).pop(),A(this,xn,"");for(let e=0,t=u(this,ln).length;e<t;e++){const{line:r,points:s}=u(this,ln)[e];A(this,on,r),A(this,Vn,s),A(this,os,0),this.toSVGPath()}return{path:{d:u(this,xn)}}}toSVGPath(){const e=pe.svgRound(u(this,on)[4]),t=pe.svgRound(u(this,on)[5]);if(u(this,Vn).length===2)return A(this,xn,`${u(this,xn)} M ${e} ${t} Z`),u(this,xn);if(u(this,Vn).length<=6){const s=u(this,xn).lastIndexOf("M");A(this,xn,`${u(this,xn).slice(0,s)} M ${e} ${t}`),A(this,os,6)}if(u(this,Vn).length===4){const s=pe.svgRound(u(this,on)[10]),i=pe.svgRound(u(this,on)[11]);return A(this,xn,`${u(this,xn)} L ${s} ${i}`),A(this,os,12),u(this,xn)}const r=[];u(this,os)===0&&(r.push(`M ${e} ${t}`),A(this,os,6));for(let s=u(this,os),i=u(this,on).length;s<i;s+=6){const[a,o,l,c,d,h]=u(this,on).slice(s,s+6).map(pe.svgRound);r.push(`C${a} ${o} ${l} ${c} ${d} ${h}`)}return A(this,xn,u(this,xn)+r.join(" ")),A(this,os,u(this,on).length),u(this,xn)}getOutlines(e,t,r,s){const i=u(this,ln).at(-1);return i.line=new Float32Array(i.line),i.points=new Float32Array(i.points),u(this,Cu).build(u(this,ln),e,t,r,u(this,Au),u(this,of),s),A(this,Ci,null),A(this,on,null),A(this,ln,null),A(this,xn,null),u(this,Cu)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Ci=new WeakMap,on=new WeakMap,ln=new WeakMap,Au=new WeakMap,of=new WeakMap,Vn=new WeakMap,xn=new WeakMap,os=new WeakMap,Cu=new WeakMap,Tu=new WeakMap,Ru=new WeakMap,lf=new WeakSet,Zy=function(e,t){return pe._normalizePoint(e,t,u(this,Tu),u(this,Ru),u(this,Au))};var Hn,tv,nv,jr,Ti,Ri,cf,uf,Nu,Sn,na,fF,pF,mF;class Av extends pe{constructor(){super(...arguments);T(this,Sn);T(this,Hn);T(this,tv,0);T(this,nv);T(this,jr);T(this,Ti);T(this,Ri);T(this,cf);T(this,uf);T(this,Nu)}build(t,r,s,i,a,o,l){A(this,Ti,r),A(this,Ri,s),A(this,cf,i),A(this,uf,a),A(this,Nu,o),A(this,nv,l??0),A(this,jr,t),N(this,Sn,pF).call(this)}get thickness(){return u(this,Nu)}setLastElement(t){return u(this,jr).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return u(this,jr).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:r}of u(this,jr)){if(t.push(`M${pe.svgRound(r[4])} ${pe.svgRound(r[5])}`),r.length===6){t.push("Z");continue}if(r.length===12&&isNaN(r[6])){t.push(`L${pe.svgRound(r[10])} ${pe.svgRound(r[11])}`);continue}for(let s=6,i=r.length;s<i;s+=6){const[a,o,l,c,d,h]=r.subarray(s,s+6).map(pe.svgRound);t.push(`C${a} ${o} ${l} ${c} ${d} ${h}`)}}return t.join("")}serialize([t,r,s,i],a){const o=[],l=[],[c,d,h,p]=N(this,Sn,fF).call(this);let m,v,g,y,x,w,b,E,C;switch(u(this,uf)){case 0:C=pe._rescale,m=t,v=r+i,g=s,y=-i,x=t+c*s,w=r+(1-d-p)*i,b=t+(c+h)*s,E=r+(1-d)*i;break;case 90:C=pe._rescaleAndSwap,m=t,v=r,g=s,y=i,x=t+d*s,w=r+c*i,b=t+(d+p)*s,E=r+(c+h)*i;break;case 180:C=pe._rescale,m=t+s,v=r,g=-s,y=i,x=t+(1-c-h)*s,w=r+d*i,b=t+(1-c)*s,E=r+(d+p)*i;break;case 270:C=pe._rescaleAndSwap,m=t+s,v=r+i,g=-s,y=-i,x=t+(1-d-p)*s,w=r+(1-c-h)*i,b=t+(1-d)*s,E=r+(1-c)*i;break}for(const{line:R,points:P}of u(this,jr))o.push(C(R,m,v,g,y,a?new Array(R.length):null)),l.push(C(P,m,v,g,y,a?new Array(P.length):null));return{lines:o,points:l,rect:[x,w,b,E]}}static deserialize(t,r,s,i,a,{paths:{lines:o,points:l},rotation:c,thickness:d}){const h=[];let p,m,v,g,y;switch(c){case 0:y=pe._rescale,p=-t/s,m=r/i+1,v=1/s,g=-1/i;break;case 90:y=pe._rescaleAndSwap,p=-r/i,m=-t/s,v=1/i,g=1/s;break;case 180:y=pe._rescale,p=t/s+1,m=-r/i,v=-1/s,g=1/i;break;case 270:y=pe._rescaleAndSwap,p=r/i+1,m=t/s+1,v=-1/i,g=-1/s;break}if(!o){o=[];for(const w of l){const b=w.length;if(b===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(b===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const E=new Float32Array(3*(b-2));o.push(E);let[C,R,P,k]=w.subarray(0,4);E.set([NaN,NaN,NaN,NaN,C,R],0);for(let I=4;I<b;I+=2){const _=w[I],O=w[I+1];E.set(pe.createBezierPoints(C,R,P,k,_,O),(I-2)*3),[C,R,P,k]=[P,k,_,O]}}}for(let w=0,b=o.length;w<b;w++)h.push({line:y(o[w].map(E=>E??NaN),p,m,v,g),points:y(l[w].map(E=>E??NaN),p,m,v,g)});const x=new this.prototype.constructor;return x.build(h,s,i,1,c,d,a),x}get box(){return u(this,Hn)}updateProperty(t,r){return t==="stroke-width"?N(this,Sn,mF).call(this,r):null}updateParentDimensions([t,r],s){const[i,a]=N(this,Sn,na).call(this);A(this,Ti,t),A(this,Ri,r),A(this,cf,s);const[o,l]=N(this,Sn,na).call(this),c=o-i,d=l-a,h=u(this,Hn);return h[0]-=c,h[1]-=d,h[2]+=2*c,h[3]+=2*d,h}updateRotation(t){return A(this,tv,t),{path:{transform:this.rotationTransform}}}get viewBox(){return u(this,Hn).map(pe.svgRound).join(" ")}get defaultProperties(){const[t,r]=u(this,Hn);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${pe.svgRound(t)} ${pe.svgRound(r)}`}}}get rotationTransform(){const[,,t,r]=u(this,Hn);let s=0,i=0,a=0,o=0,l=0,c=0;switch(u(this,tv)){case 90:i=r/t,a=-t/r,l=t;break;case 180:s=-1,o=-1,l=t,c=r;break;case 270:i=-r/t,a=t/r,c=r;break;default:return""}return`matrix(${s} ${i} ${a} ${o} ${pe.svgRound(l)} ${pe.svgRound(c)})`}getPathResizingSVGProperties([t,r,s,i]){const[a,o]=N(this,Sn,na).call(this),[l,c,d,h]=u(this,Hn);if(Math.abs(d-a)<=pe.PRECISION||Math.abs(h-o)<=pe.PRECISION){const y=t+s/2-(l+d/2),x=r+i/2-(c+h/2);return{path:{"transform-origin":`${pe.svgRound(t)} ${pe.svgRound(r)}`,transform:`${this.rotationTransform} translate(${y} ${x})`}}}const p=(s-2*a)/(d-2*a),m=(i-2*o)/(h-2*o),v=d/s,g=h/i;return{path:{"transform-origin":`${pe.svgRound(l)} ${pe.svgRound(c)}`,transform:`${this.rotationTransform} scale(${v} ${g}) translate(${pe.svgRound(a)} ${pe.svgRound(o)}) scale(${p} ${m}) translate(${pe.svgRound(-a)} ${pe.svgRound(-o)})`}}}getPathResizedSVGProperties([t,r,s,i]){const[a,o]=N(this,Sn,na).call(this),l=u(this,Hn),[c,d,h,p]=l;if(l[0]=t,l[1]=r,l[2]=s,l[3]=i,Math.abs(h-a)<=pe.PRECISION||Math.abs(p-o)<=pe.PRECISION){const x=t+s/2-(c+h/2),w=r+i/2-(d+p/2);for(const{line:b,points:E}of u(this,jr))pe._translate(b,x,w,b),pe._translate(E,x,w,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${pe.svgRound(t)} ${pe.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(s-2*a)/(h-2*a),v=(i-2*o)/(p-2*o),g=-m*(c+a)+t+a,y=-v*(d+o)+r+o;if(m!==1||v!==1||g!==0||y!==0)for(const{line:x,points:w}of u(this,jr))pe._rescale(x,g,y,m,v,x),pe._rescale(w,g,y,m,v,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${pe.svgRound(t)} ${pe.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,r],s){const[i,a]=s,o=u(this,Hn),l=t-o[0],c=r-o[1];if(u(this,Ti)===i&&u(this,Ri)===a)for(const{line:d,points:h}of u(this,jr))pe._translate(d,l,c,d),pe._translate(h,l,c,h);else{const d=u(this,Ti)/i,h=u(this,Ri)/a;A(this,Ti,i),A(this,Ri,a);for(const{line:p,points:m}of u(this,jr))pe._rescale(p,l,c,d,h,p),pe._rescale(m,l,c,d,h,m);o[2]*=d,o[3]*=h}return o[0]=t,o[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${pe.svgRound(t)} ${pe.svgRound(r)}`}}}get defaultSVGProperties(){const t=u(this,Hn);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${pe.svgRound(t[0])} ${pe.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}Hn=new WeakMap,tv=new WeakMap,nv=new WeakMap,jr=new WeakMap,Ti=new WeakMap,Ri=new WeakMap,cf=new WeakMap,uf=new WeakMap,Nu=new WeakMap,Sn=new WeakSet,na=function(t=u(this,Nu)){const r=u(this,nv)+t/2*u(this,cf);return u(this,uf)%180===0?[r/u(this,Ti),r/u(this,Ri)]:[r/u(this,Ri),r/u(this,Ti)]},fF=function(){const[t,r,s,i]=u(this,Hn),[a,o]=N(this,Sn,na).call(this,0);return[t+a,r+o,s-2*a,i-2*o]},pF=function(){const t=A(this,Hn,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:i}of u(this,jr)){if(i.length<=12){for(let l=4,c=i.length;l<c;l+=6)Ee.pointBoundingBox(i[l],i[l+1],t);continue}let a=i[4],o=i[5];for(let l=6,c=i.length;l<c;l+=6){const[d,h,p,m,v,g]=i.subarray(l,l+6);Ee.bezierBoundingBox(a,o,d,h,p,m,v,g,t),a=v,o=g}}const[r,s]=N(this,Sn,na).call(this);t[0]=Kn(t[0]-r,0,1),t[1]=Kn(t[1]-s,0,1),t[2]=Kn(t[2]+r,0,1),t[3]=Kn(t[3]+s,0,1),t[2]-=t[0],t[3]-=t[1]},mF=function(t){const[r,s]=N(this,Sn,na).call(this);A(this,Nu,t);const[i,a]=N(this,Sn,na).call(this),[o,l]=[i-r,a-s],c=u(this,Hn);return c[0]-=o,c[1]-=l,c[2]+=2*o,c[3]+=2*l,c};class Aw extends dF{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:ft._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Aw(this._viewParameters);return e.updateAll(this),e}}var T0,gF;const $d=class $d extends o0{constructor(t){super({...t,name:"inkEditor"});T(this,T0);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,r){ft.initialize(t,r),this._defaultDrawingOptions=new Aw(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return ze(this,"typesMap",new Map([[Ve.INK_THICKNESS,"stroke-width"],[Ve.INK_COLOR,"stroke"],[Ve.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,r,s,i,a){return new oK(t,r,s,i,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,r,s,i,a,o){return Av.deserialize(t,r,s,i,a,o)}static async deserialize(t,r,s){let i=null;if(t instanceof GC){const{data:{inkLists:o,rect:l,rotation:c,id:d,color:h,opacity:p,borderStyle:{rawWidth:m},popupRef:v},parent:{page:{pageNumber:g}}}=t;i=t={annotationType:Pe.INK,color:Array.from(h),thickness:m,opacity:p,paths:{points:o},boxes:null,pageIndex:g-1,rect:l.slice(0),rotation:c,annotationElementId:d,id:d,deleted:!1,popupRef:v}}const a=await super.deserialize(t,r,s);return a._initialData=i,a}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:r,parent:s}=this;r.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(t,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:r,opacity:s}){this._drawingOptions=$d.getDefaultDrawingOptions({stroke:Ee.makeHexColor(...t),"stroke-width":r,"stroke-opacity":s})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:s,rect:i}=this.serializeDraw(t),{_drawingOptions:{stroke:a,"stroke-opacity":o,"stroke-width":l}}=this,c={annotationType:Pe.INK,color:ft._colorManager.convert(a),opacity:o,thickness:l,paths:{lines:r,points:s},pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(c.isCopy=!0,c):this.annotationElementId&&!N(this,T0,gF).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(t){const{points:r,rect:s}=this.serializeDraw(!1);return t.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:r}),null}};T0=new WeakSet,gF=function(t){const{color:r,thickness:s,opacity:i,pageIndex:a}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((o,l)=>o!==r[l])||t.thickness!==s||t.opacity!==i||t.pageIndex!==a},ee($d,"_type","ink"),ee($d,"_editorType",Pe.INK),ee($d,"_defaultDrawingOptions",null);let yE=$d;class xE extends Av{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const oy=8,lp=3;var Pu,et,wE,Bs,vF,yF,bE,Jy,xF,wF,bF,SE,EE,SF;class Va{static extractContoursFromText(e,{fontFamily:t,fontStyle:r,fontWeight:s},i,a,o,l){let c=new OffscreenCanvas(1,1),d=c.getContext("2d",{alpha:!1});const h=200,p=d.font=`${r} ${s} ${h}px ${t}`,{actualBoundingBoxLeft:m,actualBoundingBoxRight:v,actualBoundingBoxAscent:g,actualBoundingBoxDescent:y,fontBoundingBoxAscent:x,fontBoundingBoxDescent:w,width:b}=d.measureText(e),E=1.5,C=Math.ceil(Math.max(Math.abs(m)+Math.abs(v)||0,b)*E),R=Math.ceil(Math.max(Math.abs(g)+Math.abs(y)||h,Math.abs(x)+Math.abs(w)||h)*E);c=new OffscreenCanvas(C,R),d=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=p,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,C,R),d.fillStyle="black",d.fillText(e,C*(E-1)/2,R*(3-E)/2);const P=N(this,et,SE).call(this,d.getImageData(0,0,C,R).data),k=N(this,et,bF).call(this,P),I=N(this,et,EE).call(this,k),_=N(this,et,bE).call(this,P,C,R,I);return this.processDrawnLines({lines:{curves:_,width:C,height:R},pageWidth:i,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,r,s,i){const[a,o,l]=N(this,et,SF).call(this,e),[c,d]=N(this,et,wF).call(this,a,o,l,Math.hypot(o,l)*u(this,Pu).sigmaSFactor,u(this,Pu).sigmaR,u(this,Pu).kernelSize),h=N(this,et,EE).call(this,d),p=N(this,et,bE).call(this,c,o,l,h);return this.processDrawnLines({lines:{curves:p,width:o,height:l},pageWidth:t,pageHeight:r,rotation:s,innerMargin:i,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:r,rotation:s,innerMargin:i,mustSmooth:a,areContours:o}){s%180!==0&&([t,r]=[r,t]);const{curves:l,width:c,height:d}=e,h=e.thickness??0,p=[],m=Math.min(t/c,r/d),v=m/t,g=m/r,y=[];for(const{points:w}of l){const b=a?N(this,et,xF).call(this,w):w;if(!b)continue;y.push(b);const E=b.length,C=new Float32Array(E),R=new Float32Array(3*(E===2?2:E-2));if(p.push({line:R,points:C}),E===2){C[0]=b[0]*v,C[1]=b[1]*g,R.set([NaN,NaN,NaN,NaN,C[0],C[1]],0);continue}let[P,k,I,_]=b;P*=v,k*=g,I*=v,_*=g,C.set([P,k,I,_],0),R.set([NaN,NaN,NaN,NaN,P,k],0);for(let O=4;O<E;O+=2){const M=C[O]=b[O]*v,z=C[O+1]=b[O+1]*g;R.set(pe.createBezierPoints(P,k,I,_,M,z),(O-2)*3),[P,k,I,_]=[I,_,M,z]}}if(p.length===0)return null;const x=o?new xE:new Av;return x.build(p,t,r,1,s,o?0:h,i),{outline:x,newCurves:y,areContours:o,thickness:h,width:c,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:r,width:s,height:i}){let a=1/0,o=-1/0,l=0;for(const b of e){l+=b.length;for(let E=2,C=b.length;E<C;E++){const R=b[E]-b[E-2];a=Math.min(a,R),o=Math.max(o,R)}}let c;a>=-128&&o<=127?c=Int8Array:a>=-32768&&o<=32767?c=Int16Array:c=Int32Array;const d=e.length,h=oy+lp*d,p=new Uint32Array(h);let m=0;p[m++]=h*Uint32Array.BYTES_PER_ELEMENT+(l-2*d)*c.BYTES_PER_ELEMENT,p[m++]=0,p[m++]=s,p[m++]=i,p[m++]=t?0:1,p[m++]=Math.max(0,Math.floor(r??0)),p[m++]=d,p[m++]=c.BYTES_PER_ELEMENT;for(const b of e)p[m++]=b.length-2,p[m++]=b[0],p[m++]=b[1];const v=new CompressionStream("deflate-raw"),g=v.writable.getWriter();await g.ready,g.write(p);const y=c.prototype.constructor;for(const b of e){const E=new y(b.length-2);for(let C=2,R=b.length;C<R;C++)E[C-2]=b[C]-b[C-2];g.write(E)}g.close();const x=await new Response(v.readable).arrayBuffer(),w=new Uint8Array(x);return SD(w)}static async decompressSignature(e){try{const t=IW(e),{readable:r,writable:s}=new DecompressionStream("deflate-raw"),i=s.getWriter();await i.ready,i.write(t).then(async()=>{await i.ready,await i.close()}).catch(()=>{});let a=null,o=0;for await(const b of r)a||(a=new Uint8Array(new Uint32Array(b.buffer,0,4)[0])),a.set(b,o),o+=b.length;const l=new Uint32Array(a.buffer,0,a.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const d=l[2],h=l[3],p=l[4]===0,m=l[5],v=l[6],g=l[7],y=[],x=(oy+lp*v)*Uint32Array.BYTES_PER_ELEMENT;let w;switch(g){case Int8Array.BYTES_PER_ELEMENT:w=new Int8Array(a.buffer,x);break;case Int16Array.BYTES_PER_ELEMENT:w=new Int16Array(a.buffer,x);break;case Int32Array.BYTES_PER_ELEMENT:w=new Int32Array(a.buffer,x);break}o=0;for(let b=0;b<v;b++){const E=l[lp*b+oy],C=new Float32Array(E+2);y.push(C);for(let R=0;R<lp-1;R++)C[R]=l[lp*b+oy+R+1];for(let R=0;R<E;R++)C[R+2]=C[R]+w[o++]}return{areContours:p,thickness:m,outlines:y,width:d,height:h}}catch(t){return Re(`decompressSignature: ${t}`),null}}}Pu=new WeakMap,et=new WeakSet,wE=function(e,t,r,s){return r-=e,s-=t,r===0?s>0?0:4:r===1?s+6:2-s},Bs=new WeakMap,vF=function(e,t,r,s,i,a,o){const l=N(this,et,wE).call(this,r,s,i,a);for(let c=0;c<8;c++){const d=(-c+l-o+16)%8,h=u(this,Bs)[2*d],p=u(this,Bs)[2*d+1];if(e[(r+h)*t+(s+p)]!==0)return d}return-1},yF=function(e,t,r,s,i,a,o){const l=N(this,et,wE).call(this,r,s,i,a);for(let c=0;c<8;c++){const d=(c+l+o+16)%8,h=u(this,Bs)[2*d],p=u(this,Bs)[2*d+1];if(e[(r+h)*t+(s+p)]!==0)return d}return-1},bE=function(e,t,r,s){const i=e.length,a=new Int32Array(i);for(let d=0;d<i;d++)a[d]=e[d]<=s?1:0;for(let d=1;d<r-1;d++)a[d*t]=a[d*t+t-1]=0;for(let d=0;d<t;d++)a[d]=a[t*r-1-d]=0;let o=1,l;const c=[];for(let d=1;d<r-1;d++){l=1;for(let h=1;h<t-1;h++){const p=d*t+h,m=a[p];if(m===0)continue;let v=d,g=h;if(m===1&&a[p-1]===0)o+=1,g-=1;else if(m>=1&&a[p+1]===0)o+=1,g+=1,m>1&&(l=m);else{m!==1&&(l=Math.abs(m));continue}const y=[h,d],x=g===h+1,w={isHole:x,points:y,id:o,parent:0};c.push(w);let b;for(const O of c)if(O.id===l){b=O;break}b?b.isHole?w.parent=x?b.parent:l:w.parent=x?l:b.parent:w.parent=x?l:0;const E=N(this,et,vF).call(this,a,t,d,h,v,g,0);if(E===-1){a[p]=-o,a[p]!==1&&(l=Math.abs(a[p]));continue}let C=u(this,Bs)[2*E],R=u(this,Bs)[2*E+1];const P=d+C,k=h+R;v=P,g=k;let I=d,_=h;for(;;){const O=N(this,et,yF).call(this,a,t,I,_,v,g,1);C=u(this,Bs)[2*O],R=u(this,Bs)[2*O+1];const M=I+C,z=_+R;y.push(z,M);const D=I*t+_;if(a[D+1]===0?a[D]=-o:a[D]===1&&(a[D]=o),M===d&&z===h&&I===P&&_===k){a[p]!==1&&(l=Math.abs(a[p]));break}else v=I,g=_,I=M,_=z}}}return c},Jy=function(e,t,r,s){if(r-t<=4){for(let P=t;P<r-2;P+=2)s.push(e[P],e[P+1]);return}const i=e[t],a=e[t+1],o=e[r-4]-i,l=e[r-3]-a,c=Math.hypot(o,l),d=o/c,h=l/c,p=d*a-h*i,m=l/o,v=1/c,g=Math.atan(m),y=Math.cos(g),x=Math.sin(g),w=v*(Math.abs(y)+Math.abs(x)),b=v*(1-w+w**2),E=Math.max(Math.atan(Math.abs(x+y)*b),Math.atan(Math.abs(x-y)*b));let C=0,R=t;for(let P=t+2;P<r-2;P+=2){const k=Math.abs(p-d*e[P+1]+h*e[P]);k>C&&(R=P,C=k)}C>(c*E)**2?(N(this,et,Jy).call(this,e,t,R+2,s),N(this,et,Jy).call(this,e,R,r,s)):s.push(i,a)},xF=function(e){const t=[],r=e.length;return N(this,et,Jy).call(this,e,0,r,t),t.push(e[r-2],e[r-1]),t.length<=4?null:t},wF=function(e,t,r,s,i,a){const o=new Float32Array(a**2),l=-2*s**2,c=a>>1;for(let g=0;g<a;g++){const y=(g-c)**2;for(let x=0;x<a;x++)o[g*a+x]=Math.exp((y+(x-c)**2)/l)}const d=new Float32Array(256),h=-2*i**2;for(let g=0;g<256;g++)d[g]=Math.exp(g**2/h);const p=e.length,m=new Uint8Array(p),v=new Uint32Array(256);for(let g=0;g<r;g++)for(let y=0;y<t;y++){const x=g*t+y,w=e[x];let b=0,E=0;for(let R=0;R<a;R++){const P=g+R-c;if(!(P<0||P>=r))for(let k=0;k<a;k++){const I=y+k-c;if(I<0||I>=t)continue;const _=e[P*t+I],O=o[R*a+k]*d[Math.abs(_-w)];b+=_*O,E+=O}}const C=m[x]=Math.round(b/E);v[C]++}return[m,v]},bF=function(e){const t=new Uint32Array(256);for(const r of e)t[r]++;return t},SE=function(e){const t=e.length,r=new Uint8ClampedArray(t>>2);let s=-1/0,i=1/0;for(let o=0,l=r.length;o<l;o++){if(e[(o<<2)+3]===0){s=r[o]=255;continue}const d=r[o]=e[o<<2];d>s&&(s=d),d<i&&(i=d)}const a=255/(s-i);for(let o=0;o<t;o++)r[o]=(r[o]-i)*a;return r},EE=function(e){let t,r=-1/0,s=-1/0;const i=e.findIndex(l=>l!==0);let a=i,o=i;for(t=i;t<256;t++){const l=e[t];l>r&&(t-a>s&&(s=t-a,o=t-1),r=l,a=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t},SF=function(e){const t=e,{width:r,height:s}=e,{maxDim:i}=u(this,Pu);let a=r,o=s;if(r>i||s>i){let p=r,m=s,v=Math.log2(Math.max(r,s)/i);const g=Math.floor(v);v=v===g?g-1:g;for(let x=0;x<v;x++){a=Math.ceil(p/2),o=Math.ceil(m/2);const w=new OffscreenCanvas(a,o);w.getContext("2d").drawImage(e,0,0,p,m,0,0,a,o),p=a,m=o,e!==t&&e.close(),e=w.transferToImageBitmap()}const y=Math.min(i/a,i/o);a=Math.round(a*y),o=Math.round(o*y)}const c=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,a,o);const d=c.getImageData(0,0,a,o).data;return[N(this,et,SE).call(this,d),a,o]},T(Va,et),T(Va,Pu,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),T(Va,Bs,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class KC extends dF{constructor(){super(),super.updateProperties({fill:ft._defaultLineColor,"stroke-width":0})}clone(){const e=new KC;return e.updateAll(this),e}}class YC extends Aw{constructor(e){super(e),super.updateProperties({stroke:ft._defaultLineColor,"stroke-width":1})}clone(){const e=new YC(this._viewParameters);return e.updateAll(this),e}}var hl,Ni,fl,ku;const Er=class Er extends o0{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});T(this,hl,!1);T(this,Ni,null);T(this,fl,null);T(this,ku,null);this._willKeepAspectRatio=!0,A(this,fl,t.signatureData||null),A(this,Ni,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,r){ft.initialize(t,r),this._defaultDrawingOptions=new KC,this._defaultDrawnSignatureOptions=new YC(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return ze(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!u(this,Ni)}}static computeTelemetryFinalData(t){const r=t.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,r;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,t=this.x,r=this.y),super.render(),this._drawId===null)if(u(this,fl)){const{lines:i,mustSmooth:a,areContours:o,description:l,uuid:c,heightInPage:d}=u(this,fl),{rawDims:{pageWidth:h,pageHeight:p},rotation:m}=this.parent.viewport,v=Va.processDrawnLines({lines:i,pageWidth:h,pageHeight:p,rotation:m,innerMargin:Er._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(v,d,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return s&&(this._isCopy=!0,this._moveAfterPaste(t,r)),this.div}setUuid(t){A(this,ku,t),this.addEditToolbar()}getUuid(){return u(this,ku)}get description(){return u(this,Ni)}set description(t){A(this,Ni,t),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:r,thickness:s,width:i,height:a}=u(this,fl),o=Math.max(i,a),l=Va.processDrawnLines({lines:{curves:t.map(c=>({points:c})),thickness:s,width:i,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,r,s,i){const{x:a,y:o}=this,{outline:l}=A(this,fl,t);A(this,hl,l instanceof xE),this.description=s,this.div.setAttribute("data-l10n-args",JSON.stringify({description:s}));let c;u(this,hl)?c=Er.getDefaultDrawingOptions():(c=Er._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[d,h]=this.parentDimensions,[,p]=this.pageDimensions;let m=r/p;m=m>=1?.5:m,this.width*=m/this.height,this.width>=1&&(m*=.9/this.width,this.width=.9),this.height=m,this.setDims(d*this.width,h*this.height),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:r,pageHeight:s},rotation:i}=this.parent.viewport;return Va.process(t,r,s,i,Er._INNER_MARGIN)}getFromText(t,r){const{rawDims:{pageWidth:s,pageHeight:i},rotation:a}=this.parent.viewport;return Va.extractContoursFromText(t,r,s,i,a,Er._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:r,pageHeight:s},rotation:i}=this.parent.viewport;return Va.processDrawnLines({lines:t,pageWidth:r,pageHeight:s,rotation:i,innerMargin:Er._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:r}){t?this._drawingOptions=Er.getDefaultDrawingOptions():(this._drawingOptions=Er._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:r,points:s,rect:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":a}}=this,o={annotationType:Pe.SIGNATURE,isSignature:!0,areContours:u(this,hl),color:[0,0,0],thickness:u(this,hl)?0:a,pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(o.paths={lines:r,points:s},o.uuid=u(this,ku),o.isCopy=!0):o.lines=r,u(this,Ni)&&(o.accessibilityData={type:"Figure",alt:u(this,Ni)}),o}static deserializeDraw(t,r,s,i,a,o){return o.areContours?xE.deserialize(t,r,s,i,a,o):Av.deserialize(t,r,s,i,a,o)}static async deserialize(t,r,s){var a;const i=await super.deserialize(t,r,s);return A(i,hl,t.areContours),A(i,Ni,((a=t.accessibilityData)==null?void 0:a.alt)||""),A(i,ku,t.uuid),i}};hl=new WeakMap,Ni=new WeakMap,fl=new WeakMap,ku=new WeakMap,ee(Er,"_type","signature"),ee(Er,"_editorType",Pe.SIGNATURE),ee(Er,"_defaultDrawingOptions",null);let AE=Er;var wt,cn,pl,Oa,ml,df,ja,Iu,Pi,Dr,hf,Ke,jp,Dp,qy,ex,tx,TE,nx,EF;class CE extends ft{constructor(t){super({...t,name:"stampEditor"});T(this,Ke);T(this,wt,null);T(this,cn,null);T(this,pl,null);T(this,Oa,null);T(this,ml,null);T(this,df,"");T(this,ja,null);T(this,Iu,!1);T(this,Pi,null);T(this,Dr,!1);T(this,hf,!1);A(this,Oa,t.bitmapUrl),A(this,ml,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,r){ft.initialize(t,r)}static isHandlingMimeForPasting(t){return yS.includes(t)}static paste(t,r){r.pasteEditor({mode:Pe.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await s.guess({name:"altText",request:{data:i,width:a,height:o,channels:i.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var t;u(this,cn)&&(A(this,wt,null),this._uiManager.imageManager.deleteId(u(this,cn)),(t=u(this,ja))==null||t.remove(),A(this,ja,null),u(this,Pi)&&(clearTimeout(u(this,Pi)),A(this,Pi,null))),super.remove()}rebuild(){if(!this.parent){u(this,cn)&&N(this,Ke,qy).call(this);return}super.rebuild(),this.div!==null&&(u(this,cn)&&u(this,ja)===null&&N(this,Ke,qy).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(u(this,pl)||u(this,wt)||u(this,Oa)||u(this,ml)||u(this,cn)||u(this,Iu))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;return this._isCopy&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),u(this,Iu)||(u(this,wt)?N(this,Ke,ex).call(this):N(this,Ke,qy).call(this)),this._isCopy&&this._moveAfterPaste(t,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,r){const{id:s,bitmap:i}=this._uiManager.imageManager.getFromCanvas(t,r);r.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(A(this,cn,s),i&&A(this,wt,i),A(this,Iu,!1),N(this,Ke,ex).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;u(this,Pi)!==null&&clearTimeout(u(this,Pi)),A(this,Pi,setTimeout(()=>{A(this,Pi,null),N(this,Ke,TE).call(this)},200))}copyCanvas(t,r,s=!1){var m;t||(t=224);const{width:i,height:a}=u(this,wt),o=new Hi;let l=u(this,wt),c=i,d=a,h=null;if(r){if(i>r||a>r){const k=Math.min(r/i,r/a);c=Math.floor(i*k),d=Math.floor(a*k)}h=document.createElement("canvas");const v=h.width=Math.ceil(c*o.sx),g=h.height=Math.ceil(d*o.sy);u(this,Dr)||(l=N(this,Ke,tx).call(this,v,g));const y=h.getContext("2d");y.filter=this._uiManager.hcmFilter;let x="white",w="#cfcfd8";this._uiManager.hcmFilter!=="none"?w="black":(m=window.matchMedia)!=null&&m.call(window,"(prefers-color-scheme: dark)").matches&&(x="#8f8f9d",w="#42414d");const b=15,E=b*o.sx,C=b*o.sy,R=new OffscreenCanvas(E*2,C*2),P=R.getContext("2d");P.fillStyle=x,P.fillRect(0,0,E*2,C*2),P.fillStyle=w,P.fillRect(0,0,E,C),P.fillRect(E,C,E,C),y.fillStyle=y.createPattern(R,"repeat"),y.fillRect(0,0,v,g),y.drawImage(l,0,0,l.width,l.height,0,0,v,g)}let p=null;if(s){let v,g;if(o.symmetric&&l.width<t&&l.height<t)v=l.width,g=l.height;else if(l=u(this,wt),i>t||a>t){const w=Math.min(t/i,t/a);v=Math.floor(i*w),g=Math.floor(a*w),u(this,Dr)||(l=N(this,Ke,tx).call(this,v,g))}const x=new OffscreenCanvas(v,g).getContext("2d",{willReadFrequently:!0});x.drawImage(l,0,0,l.width,l.height,0,0,v,g),p={width:v,height:g,data:x.getImageData(0,0,v,g).data}}return{canvas:h,width:c,height:d,imageData:p}}static async deserialize(t,r,s){var y;let i=null,a=!1;if(t instanceof FL){const{data:{rect:x,rotation:w,id:b,structParent:E,popupRef:C},container:R,parent:{page:{pageNumber:P}},canvas:k}=t;let I,_;k?(delete t.canvas,{id:I,bitmap:_}=s.imageManager.getFromCanvas(R.id,k),k.remove()):(a=!0,t._hasNoCanvas=!0);const O=((y=await r._structTree.getAriaAttributes(`${FC}${b}`))==null?void 0:y.get("aria-label"))||"";i=t={annotationType:Pe.STAMP,bitmapId:I,bitmap:_,pageIndex:P-1,rect:x.slice(0),rotation:w,annotationElementId:b,id:b,deleted:!1,accessibilityData:{decorative:!1,altText:O},isSvg:!1,structParent:E,popupRef:C}}const o=await super.deserialize(t,r,s),{rect:l,bitmap:c,bitmapUrl:d,bitmapId:h,isSvg:p,accessibilityData:m}=t;a?(s.addMissingCanvas(t.id,o),A(o,Iu,!0)):h&&s.imageManager.isValidId(h)?(A(o,cn,h),c&&A(o,wt,c)):A(o,Oa,d),A(o,Dr,p);const[v,g]=o.pageDimensions;return o.width=(l[2]-l[0])/v,o.height=(l[3]-l[1])/g,m&&(o.altTextData=m),o._initialData=i,A(o,hf,!!i),o}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:Pe.STAMP,bitmapId:u(this,cn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,Dr),structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=N(this,Ke,nx).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:i,altText:a}=this.serializeAltText(!1);if(!i&&a&&(s.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=N(this,Ke,EF).call(this,s);if(l.isSame)return null;l.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,r===null)return s;r.stamps||(r.stamps=new Map);const o=u(this,Dr)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!r.stamps.has(u(this,cn)))r.stamps.set(u(this,cn),{area:o,serialized:s}),s.bitmap=N(this,Ke,nx).call(this,!1);else if(u(this,Dr)){const l=r.stamps.get(u(this,cn));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=N(this,Ke,nx).call(this,!1))}return s}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}wt=new WeakMap,cn=new WeakMap,pl=new WeakMap,Oa=new WeakMap,ml=new WeakMap,df=new WeakMap,ja=new WeakMap,Iu=new WeakMap,Pi=new WeakMap,Dr=new WeakMap,hf=new WeakMap,Ke=new WeakSet,jp=function(t,r=!1){if(!t){this.remove();return}A(this,wt,t.bitmap),r||(A(this,cn,t.id),A(this,Dr,t.isSvg)),t.file&&A(this,df,t.file.name),N(this,Ke,ex).call(this)},Dp=function(){if(A(this,pl,null),this._uiManager.enableWaiting(!1),!!u(this,ja)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,wt)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,wt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},qy=function(){if(u(this,cn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,cn)).then(s=>N(this,Ke,jp).call(this,s,!0)).finally(()=>N(this,Ke,Dp).call(this));return}if(u(this,Oa)){const s=u(this,Oa);A(this,Oa,null),this._uiManager.enableWaiting(!0),A(this,pl,this._uiManager.imageManager.getFromUrl(s).then(i=>N(this,Ke,jp).call(this,i)).finally(()=>N(this,Ke,Dp).call(this)));return}if(u(this,ml)){const s=u(this,ml);A(this,ml,null),this._uiManager.enableWaiting(!0),A(this,pl,this._uiManager.imageManager.getFromFile(s).then(i=>N(this,Ke,jp).call(this,i)).finally(()=>N(this,Ke,Dp).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=yS.join(",");const r=this._uiManager._signal;A(this,pl,new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),N(this,Ke,jp).call(this,i)}s()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:r})}).finally(()=>N(this,Ke,Dp).call(this))),t.click()},ex=function(){var h;const{div:t}=this;let{width:r,height:s}=u(this,wt);const[i,a]=this.pageDimensions,o=.75;if(this.width)r=this.width*i,s=this.height*a;else if(r>o*i||s>o*a){const p=Math.min(o*i/r,o*a/s);r*=p,s*=p}const[l,c]=this.parentDimensions;this.setDims(r*l/i,s*c/a),this._uiManager.enableWaiting(!1);const d=A(this,ja,document.createElement("canvas"));d.setAttribute("role","img"),this.addContainer(d),this.width=r/i,this.height=s/a,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),N(this,Ke,TE).call(this),u(this,hf)||(this.parent.addUndoableEditor(this),A(this,hf,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,df)&&this.div.setAttribute("aria-description",u(this,df)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},tx=function(t,r){const{width:s,height:i}=u(this,wt);let a=s,o=i,l=u(this,wt);for(;a>2*t||o>2*r;){const c=a,d=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(a,o);h.getContext("2d").drawImage(l,0,0,c,d,0,0,a,o),l=h.transferToImageBitmap()}return l},TE=function(){const[t,r]=this.parentDimensions,{width:s,height:i}=this,a=new Hi,o=Math.ceil(s*t*a.sx),l=Math.ceil(i*r*a.sy),c=u(this,ja);if(!c||c.width===o&&c.height===l)return;c.width=o,c.height=l;const d=u(this,Dr)?u(this,wt):N(this,Ke,tx).call(this,o,l),h=c.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,o,l)},nx=function(t){if(t){if(u(this,Dr)){const i=this._uiManager.imageManager.getSvgUrl(u(this,cn));if(i)return i}const r=document.createElement("canvas");return{width:r.width,height:r.height}=u(this,wt),r.getContext("2d").drawImage(u(this,wt),0,0),r.toDataURL()}if(u(this,Dr)){const[r,s]=this.pageDimensions,i=Math.round(this.width*r*Hl.PDF_TO_CSS_UNITS),a=Math.round(this.height*s*Hl.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(i,a);return o.getContext("2d").drawImage(u(this,wt),0,0,u(this,wt).width,u(this,wt).height,0,0,i,a),o.transferToImageBitmap()}return structuredClone(u(this,wt))},EF=function(t){var o;const{pageIndex:r,accessibilityData:{altText:s}}=this._initialData,i=t.pageIndex===r,a=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===s;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&i&&a,isSameAltText:a}},ee(CE,"_type","stamp"),ee(CE,"_editorType",Pe.STAMP);var _u,ff,ki,gl,Da,Lr,vl,pf,Mu,zs,La,un,Fa,yl,mf,Se,xl,bt,AF,ci,NE,PE,rx;const Rs=class Rs{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:s,accessibilityManager:i,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:d}){T(this,bt);T(this,_u);T(this,ff,!1);T(this,ki,null);T(this,gl,null);T(this,Da,null);T(this,Lr,new Map);T(this,vl,!1);T(this,pf,!1);T(this,Mu,!1);T(this,zs,null);T(this,La,null);T(this,un,null);T(this,Fa,null);T(this,yl,null);T(this,mf,-1);T(this,Se);const h=[...u(Rs,xl).values()];if(!Rs._initialized){Rs._initialized=!0;for(const p of h)p.initialize(d,e)}e.registerEditorTypes(h),A(this,Se,e),this.pageIndex=t,this.div=r,A(this,_u,i),A(this,ki,a),this.viewport=c,A(this,un,l),this.drawLayer=o,this._structTree=s,u(this,Se).addLayer(this)}get isEmpty(){return u(this,Lr).size===0}get isInvisible(){return this.isEmpty&&u(this,Se).getMode()===Pe.NONE}updateToolbar(e){u(this,Se).updateToolbar(e)}updateMode(e=u(this,Se).getMode()){switch(N(this,bt,rx).call(this),e){case Pe.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Pe.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Pe.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of u(Rs,xl).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=u(this,un))==null?void 0:t.div)}setEditingState(e){u(this,Se).setEditingState(e)}addCommands(e){u(this,Se).addCommands(e)}cleanUndoStack(e){u(this,Se).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=u(this,ki))==null||t.div.classList.toggle("disabled",!e)}async enable(){var r;A(this,Mu,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(r=u(this,yl))==null||r.abort(),A(this,yl,null);const e=new Set;for(const s of u(this,Lr).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(u(this,Se).removeChangedExistingAnnotation(s),e.add(s.annotationElementId));if(!u(this,ki)){A(this,Mu,!1);return}const t=u(this,ki).getEditableAnnotations();for(const s of t){if(s.hide(),u(this,Se).isDeletedAnnotationElement(s.data.id)||e.has(s.data.id))continue;const i=await this.deserialize(s);i&&(this.addOrRebuild(i),i.enableEditing())}A(this,Mu,!1)}disable(){var s;if(A(this,pf,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),u(this,un)&&!u(this,yl)){A(this,yl,new AbortController);const i=u(this,Se).combinedSignal(u(this,yl));u(this,un).div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:c,timeStamp:d}=a,h=u(this,mf);if(d-h>500){A(this,mf,d);return}A(this,mf,-1);const{classList:p}=this.div;p.toggle("getElements",!0);const m=document.elementsFromPoint(l,c);if(p.toggle("getElements",!1),!this.div.contains(m[0]))return;let v;const g=new RegExp(`^${vD}[0-9]+$`);for(const x of m)if(g.test(x.id)){v=x.id;break}if(!v)return;const y=u(this,Lr).get(v);(y==null?void 0:y.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),y.dblclick())},{signal:i,capture:!0})}const e=new Map,t=new Map;for(const i of u(this,Lr).values())if(i.disableEditing(),!!i.annotationElementId){if(i.serialize()!==null){e.set(i.annotationElementId,i);continue}else t.set(i.annotationElementId,i);(s=this.getEditableAnnotation(i.annotationElementId))==null||s.show(),i.remove()}if(u(this,ki)){const i=u(this,ki).getEditableAnnotations();for(const a of i){const{id:o}=a.data;if(u(this,Se).isDeletedAnnotationElement(o))continue;let l=t.get(o);if(l){l.resetAnnotationElement(a),l.show(!1),a.show();continue}l=e.get(o),l&&(u(this,Se).addChangedExistingAnnotation(l),l.renderAnnotationElement(a)&&l.show(!1)),a.show()}}N(this,bt,rx).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of u(Rs,xl).values())r.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),A(this,pf,!1)}getEditableAnnotation(e){var t;return((t=u(this,ki))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){u(this,Se).getActive()!==e&&u(this,Se).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=u(this,un))!=null&&e.div&&!u(this,Fa)){A(this,Fa,new AbortController);const t=u(this,Se).combinedSignal(u(this,Fa));u(this,un).div.addEventListener("pointerdown",N(this,bt,AF).bind(this),{signal:t}),u(this,un).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=u(this,un))!=null&&e.div&&u(this,Fa)&&(u(this,Fa).abort(),A(this,Fa,null),u(this,un).div.classList.remove("highlighting"))}enableClick(){if(u(this,gl))return;A(this,gl,new AbortController);const e=u(this,Se).combinedSignal(u(this,gl));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=u(this,gl))==null||e.abort(),A(this,gl,null)}attach(e){u(this,Lr).set(e.id,e);const{annotationElementId:t}=e;t&&u(this,Se).isDeletedAnnotationElement(t)&&u(this,Se).removeDeletedAnnotationElement(e)}detach(e){var t;u(this,Lr).delete(e.id),(t=u(this,_u))==null||t.removePointerInTextLayer(e.contentDiv),!u(this,pf)&&e.annotationElementId&&u(this,Se).addDeletedAnnotationElement(e)}remove(e){this.detach(e),u(this,Se).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(u(this,Se).addDeletedAnnotationElement(e.annotationElementId),ft.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),u(this,Se).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!u(this,Mu)),u(this,Se).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!u(this,Da)&&(e._focusEventsAllowed=!1,A(this,Da,setTimeout(()=>{A(this,Da,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:u(this,Se)._signal}),t.focus())},0))),e._structTreeParentId=(r=u(this,_u))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return u(this,Se).getId()}combinedSignal(e){return u(this,Se).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=u(this,bt,ci))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await u(this,Se).updateMode(e.mode);const{offsetX:r,offsetY:s}=N(this,bt,PE).call(this),i=this.getNextId(),a=N(this,bt,NE).call(this,{parent:this,id:i,x:r,y:s,uiManager:u(this,Se),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=u(Rs,xl).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,u(this,Se)))||null}createAndAddNewEditor(e,t,r={}){const s=this.getNextId(),i=N(this,bt,NE).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:u(this,Se),isCentered:t,...r});return i&&this.add(i),i}addNewEditor(e={}){this.createAndAddNewEditor(N(this,bt,PE).call(this),!0,e)}setSelected(e){u(this,Se).setSelected(e)}toggleSelected(e){u(this,Se).toggleSelected(e)}unselect(e){u(this,Se).unselect(e)}pointerup(e){var s;const{isMac:t}=An.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!u(this,vl)||(A(this,vl,!1),(s=u(this,bt,ci))!=null&&s.isDrawer&&u(this,bt,ci).supportMultipleDrawings))return;if(!u(this,ff)){A(this,ff,!0);return}const r=u(this,Se).getMode();if(r===Pe.STAMP||r===Pe.SIGNATURE){u(this,Se).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var s;if(u(this,Se).getMode()===Pe.HIGHLIGHT&&this.enableTextSelection(),u(this,vl)){A(this,vl,!1);return}const{isMac:t}=An.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(A(this,vl,!0),(s=u(this,bt,ci))!=null&&s.isDrawer){this.startDrawingSession(e);return}const r=u(this,Se).getActive();A(this,ff,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),u(this,zs)){u(this,bt,ci).startDrawing(this,u(this,Se),!1,e);return}u(this,Se).setCurrentDrawingSession(this),A(this,zs,new AbortController);const t=u(this,Se).combinedSignal(u(this,zs));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(A(this,La,null),this.commitOrRemove())},{signal:t}),u(this,bt,ci).startDrawing(this,u(this,Se),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&A(this,La,t);return}u(this,La)&&setTimeout(()=>{var t;(t=u(this,La))==null||t.focus(),A(this,La,null)},0)}endDrawingSession(e=!1){return u(this,zs)?(u(this,Se).setCurrentDrawingSession(null),u(this,zs).abort(),A(this,zs,null),A(this,La,null),u(this,bt,ci).endDrawing(e)):null}findNewParent(e,t,r){const s=u(this,Se).findParent(t,r);return s===null||s===this?!1:(s.changeParent(e),!0)}commitOrRemove(){return u(this,zs)?(this.endDrawingSession(),!0):!1}onScaleChanging(){u(this,zs)&&u(this,bt,ci).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=u(this,Se).getActive())==null?void 0:e.parent)===this&&(u(this,Se).commitOrRemove(),u(this,Se).setActiveEditor(null)),u(this,Da)&&(clearTimeout(u(this,Da)),A(this,Da,null));for(const r of u(this,Lr).values())(t=u(this,_u))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,u(this,Lr).clear(),u(this,Se).removeLayer(this)}render({viewport:e}){this.viewport=e,Zu(this.div,e);for(const t of u(this,Se).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){u(this,Se).commitOrRemove(),N(this,bt,rx).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Zu(this.div,{rotation:r}),t!==r)for(const s of u(this,Lr).values())s.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return u(this,Se).viewParameters.realScale}};_u=new WeakMap,ff=new WeakMap,ki=new WeakMap,gl=new WeakMap,Da=new WeakMap,Lr=new WeakMap,vl=new WeakMap,pf=new WeakMap,Mu=new WeakMap,zs=new WeakMap,La=new WeakMap,un=new WeakMap,Fa=new WeakMap,yl=new WeakMap,mf=new WeakMap,Se=new WeakMap,xl=new WeakMap,bt=new WeakSet,AF=function(e){u(this,Se).unselectAll();const{target:t}=e;if(t===u(this,un).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&u(this,un).div.contains(t)){const{isMac:r}=An.platform;if(e.button!==0||e.ctrlKey&&r)return;u(this,Se).showAllEditors("highlight",!0,!0),u(this,un).div.classList.add("free"),this.toggleDrawing(),a0.startHighlighting(this,u(this,Se).direction==="ltr",{target:u(this,un).div,x:e.x,y:e.y}),u(this,un).div.addEventListener("pointerup",()=>{u(this,un).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:u(this,Se)._signal}),e.preventDefault()}},ci=function(){return u(Rs,xl).get(u(this,Se).getMode())},NE=function(e){const t=u(this,bt,ci);return t?new t.prototype.constructor(e):null},PE=function(){const{x:e,y:t,width:r,height:s}=this.div.getBoundingClientRect(),i=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+s),c=(i+o)/2-e,d=(a+l)/2-t,[h,p]=this.viewport.rotation%180===0?[c,d]:[d,c];return{offsetX:h,offsetY:p}},rx=function(){for(const e of u(this,Lr).values())e.isEmpty()&&e.remove()},ee(Rs,"_initialized",!1),T(Rs,xl,new Map([iE,yE,CE,a0,AE].map(e=>[e._editorType,e])));let RE=Rs;var Us,Wn,Ou,rv,R0,CF,Wi,IE,TF,_E;const Xt=class Xt{constructor({pageIndex:e}){T(this,Wi);T(this,Us,null);T(this,Wn,new Map);T(this,Ou,new Map);this.pageIndex=e}setParent(e){if(!u(this,Us)){A(this,Us,e);return}if(u(this,Us)!==e){if(u(this,Wn).size>0)for(const t of u(this,Wn).values())t.remove(),e.append(t);A(this,Us,e)}}static get _svgFactory(){return ze(this,"_svgFactory",new r0)}draw(e,t=!1,r=!1){const s=nn(Xt,rv)._++,i=N(this,Wi,IE).call(this),a=Xt._svgFactory.createElement("defs");i.append(a);const o=Xt._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${s}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&u(this,Ou).set(s,o);const c=r?N(this,Wi,TF).call(this,a,l):null,d=Xt._svgFactory.createElement("use");return i.append(d),d.setAttribute("href",`#${l}`),this.updateProperties(i,e),u(this,Wn).set(s,i),{id:s,clipPathId:`url(#${c})`}}drawOutline(e,t){const r=nn(Xt,rv)._++,s=N(this,Wi,IE).call(this),i=Xt._svgFactory.createElement("defs");s.append(i);const a=Xt._svgFactory.createElement("path");i.append(a);const o=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const h=Xt._svgFactory.createElement("mask");i.append(h),l=`mask_p${this.pageIndex}_${r}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const p=Xt._svgFactory.createElement("rect");h.append(p),p.setAttribute("width","1"),p.setAttribute("height","1"),p.setAttribute("fill","white");const m=Xt._svgFactory.createElement("use");h.append(m),m.setAttribute("href",`#${o}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}const c=Xt._svgFactory.createElement("use");s.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const d=c.cloneNode();return s.append(d),c.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(s,e),u(this,Wn).set(r,s),r}finalizeDraw(e,t){u(this,Ou).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:r,bbox:s,rootClass:i,path:a}=t,o=typeof e=="number"?u(this,Wn).get(e):e;if(o){if(r&&N(this,Wi,_E).call(this,o,r),s&&N(l=Xt,R0,CF).call(l,o,s),i){const{classList:c}=o;for(const[d,h]of Object.entries(i))c.toggle(d,h)}if(a){const d=o.firstChild.firstChild;N(this,Wi,_E).call(this,d,a)}}}updateParent(e,t){if(t===this)return;const r=u(this,Wn).get(e);r&&(u(t,Us).append(r),u(this,Wn).delete(e),u(t,Wn).set(e,r))}remove(e){u(this,Ou).delete(e),u(this,Us)!==null&&(u(this,Wn).get(e).remove(),u(this,Wn).delete(e))}destroy(){A(this,Us,null);for(const e of u(this,Wn).values())e.remove();u(this,Wn).clear(),u(this,Ou).clear()}};Us=new WeakMap,Wn=new WeakMap,Ou=new WeakMap,rv=new WeakMap,R0=new WeakSet,CF=function(e,[t,r,s,i]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*t}%`,a.width=`${100*s}%`,a.height=`${100*i}%`},Wi=new WeakSet,IE=function(){const e=Xt._svgFactory.create(1,1,!0);return u(this,Us).append(e),e.setAttribute("aria-hidden",!0),e},TF=function(e,t){const r=Xt._svgFactory.createElement("clipPath");e.append(r);const s=`clip_${t}`;r.setAttribute("id",s),r.setAttribute("clipPathUnits","objectBoundingBox");const i=Xt._svgFactory.createElement("use");return r.append(i),i.setAttribute("href",`#${t}`),i.classList.add("clip"),s},_E=function(e,t){for(const[r,s]of Object.entries(t))s===null?e.removeAttribute(r):e.setAttribute(r,s)},T(Xt,R0),T(Xt,rv,0);let kE=Xt;globalThis._pdfjsTestingUtils={HighlightOutliner:oE};globalThis.pdfjsLib={AbortException:Vl,AnnotationEditorLayer:RE,AnnotationEditorParamsType:Ve,AnnotationEditorType:Pe,AnnotationEditorUIManager:Ju,AnnotationLayer:nE,AnnotationMode:To,AnnotationType:zt,build:BG,ColorPicker:i0,createValidAbsoluteUrl:yD,DOMSVGFactory:r0,DrawLayer:kE,FeatureTest:An,fetchData:wv,getDocument:SL,getFilenameFromUrl:_W,getPdfFilenameFromUrl:MW,getUuid:bD,getXfaPageViewport:jW,GlobalWorkerOptions:Oi,ImageKind:Ry,InvalidPDFException:gS,isDataScheme:Sw,isPdfFile:BC,isValidExplicitDest:GW,MathClamp:Kn,noContextMenu:ei,normalizeUnicode:PW,OPS:qx,OutputScale:Hi,PasswordResponses:wW,PDFDataRangeTransport:EL,PDFDateString:zC,PDFWorker:Cm,PermissionFlag:xW,PixelsPerInch:Hl,RenderingCancelledException:$C,ResponseException:e0,setLayerDimensions:Zu,shadow:ze,SignatureExtractor:Va,stopEvent:Vt,SupportedImageMimeTypes:yS,TextLayer:Em,TouchManager:n0,updateUrlHash:xD,Util:Ee,VerbosityLevel:xw,version:$G,XfaLayer:TL};const lK="/assets/pdf.worker-B8q3_SH5.mjs";Oi.workerSrc=lK;function cK({sessionId:n,files:e,onFileAdded:t}){const[r,s]=S.useState(!1),[i,a]=S.useState(!1),[o,l]=S.useState(null),[c,d]=S.useState(""),h=S.useRef(null),{toast:p}=ys();async function m(w){const b=await w.arrayBuffer(),E=await SL({data:b}).promise;let C="";for(let R=1;R<=E.numPages;R++){const k=await(await E.getPage(R)).getTextContent();C+=k.items.map(I=>I.str).join(" ")+`

`}return C}async function v(w,b,E="gpt-4-turbo"){var I,_;const C=`You are an expert study assistant. Read the following document and generate a set of flashcards (question and answer pairs) that help a student learn the key concepts. Format as JSON: [ {"question": "...", "answer": "..."}, ... ] Document: ${w}`,k=((_=(I=(await(await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({model:E,messages:[{role:"system",content:"You are a helpful assistant for creating study materials."},{role:"user",content:C}],max_tokens:2e3,temperature:.3})})).json()).choices[0])==null?void 0:I.message)==null?void 0:_.content)||"";try{return JSON.parse(k)}catch{return k}}const g=w=>{w.preventDefault(),s(!1),w.dataTransfer.files&&w.dataTransfer.files.length>0&&y(w.dataTransfer.files)},y=async w=>{if(w.length!==0){a(!0);try{const b=w[0];if(b.type!=="application/pdf"){p({title:"Error",description:"Only PDF files are supported",variant:"destructive"});return}d(b.name);const E=await m(b);p({title:"PDF Loaded",description:`Extracted ${E.length} characters from ${b.name}`});let C;if(C||(C=prompt("Enter your OpenAI API key:")||""),!C){p({title:"API Key Required",description:"OpenAI API key is required to generate flashcards.",variant:"destructive"});return}p({title:"Generating Flashcards",description:"Sending to OpenAI..."});const R=await v(E,C);l(R),p({title:"Done!",description:"Flashcards generated."}),t({id:`${Date.now()}`,name:b.name,url:URL.createObjectURL(b),type:b.type,uploadedAt:new Date().toISOString(),content:E,flashcards:R})}catch(b){p({title:"Error",description:b.message||"Failed to process PDF",variant:"destructive"})}finally{a(!1),h.current&&(h.current.value="")}}},x=()=>{var w;(w=h.current)==null||w.click()};return f.jsx("div",{children:f.jsxs("div",{className:"mb-6",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Study Materials"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"Upload your PDF notes and generate flashcards instantly with AI."}),f.jsxs("div",{className:`upload-area rounded-lg p-8 text-center cursor-pointer mb-6 border-2 border-dashed ${r?"border-purple-500 bg-purple-50":"border-gray-300"}`,onDragOver:w=>{w.preventDefault(),s(!0)},onDragLeave:()=>s(!1),onDrop:g,onClick:x,children:[f.jsx(xI,{className:"w-12 h-12 mx-auto text-purple-500 mb-3"}),f.jsx("p",{className:"text-gray-600 mb-2",children:"Drag & drop your PDF files here"}),f.jsx("p",{className:"text-gray-400 text-sm",children:"or"}),f.jsx(me,{variant:"outline",className:"mt-2 border-purple-300 text-purple-600 hover:bg-purple-50",children:"Browse files"}),f.jsx("input",{type:"file",ref:h,className:"hidden",accept:".pdf",multiple:!1,onChange:w=>{w.target.files&&w.target.files.length>0&&y(w.target.files)}})]}),i&&f.jsx("div",{className:"text-purple-600",children:"Processing..."}),o&&f.jsxs("div",{className:"mt-6",children:[f.jsx("h3",{className:"text-lg font-bold mb-2",children:"Generated Flashcards"}),f.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg overflow-x-auto text-sm whitespace-pre-wrap",children:typeof o=="string"?o:JSON.stringify(o,null,2)})]})]})})}var XC="Progress",QC=100,[uK,DK]=rr(XC),[dK,hK]=uK(XC),RF=S.forwardRef((n,e)=>{const{__scopeProgress:t,value:r=null,max:s,getValueLabel:i=fK,...a}=n;(s||s===0)&&!f2(s)&&console.error(pK(`${s}`,"Progress"));const o=f2(s)?s:QC;r!==null&&!p2(r,o)&&console.error(mK(`${r}`,"Progress"));const l=p2(r,o)?r:null,c=l0(l)?i(l,o):void 0;return f.jsx(dK,{scope:t,value:l,max:o,children:f.jsx(be.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":l0(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":kF(l,o),"data-value":l??void 0,"data-max":o,...a,ref:e})})});RF.displayName=XC;var NF="ProgressIndicator",PF=S.forwardRef((n,e)=>{const{__scopeProgress:t,...r}=n,s=hK(NF,t);return f.jsx(be.div,{"data-state":kF(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});PF.displayName=NF;function fK(n,e){return`${Math.round(n/e*100)}%`}function kF(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function l0(n){return typeof n=="number"}function f2(n){return l0(n)&&!isNaN(n)&&n>0}function p2(n,e){return l0(n)&&!isNaN(n)&&n<=e&&n>=0}function pK(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${QC}\`.`}function mK(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${QC} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var IF=RF,gK=PF;const _F=S.forwardRef(({className:n,value:e,...t},r)=>f.jsx(IF,{ref:r,className:Ce("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",n),...t,children:f.jsx(gK,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));_F.displayName=IF.displayName;function vK({sessionId:n,flashcards:e,studyMaterials:t=[],files:r=[]}){var L,W;const[s,i]=S.useState([]),[a,o]=S.useState(0),[l,c]=S.useState(!1),[d,h]=S.useState(0),[p,m]=S.useState(0),[v,g]=S.useState(0),{toast:y}=ys(),[x,w]=S.useState(!1),[b,E]=S.useState(""),[C,R]=S.useState("notes"),[P,k]=S.useState("medium"),[I,_]=S.useState(null),[O,M]=S.useState(""),[z,D]=S.useState("medium"),[K,B]=S.useState(!1),[U,$]=S.useState("");S.useEffect(()=>{const Y=e.filter(Ae=>!Ae.mastered);i(F([...Y])),o(0),c(!1),m(Y.length),g(e.length-Y.length);const ie=e.length,de=ie>0?Math.round(e.filter(Ae=>Ae.mastered).length/ie*100):0;h(de)},[e]);const F=Y=>{const ie=[...Y];for(let de=ie.length-1;de>0;de--){const Ae=Math.floor(Math.random()*(de+1));[ie[de],ie[Ae]]=[ie[Ae],ie[de]]}return ie},H=async()=>{if(s.length===0)return;const Y=s[a];try{await FV(n,Y.id);const ie=s.filter(nt=>nt.id!==Y.id);i(ie),m(ie.length),g(v+1);const de=e.length,Ae=de>0?Math.round((v+1)/de*100):0;h(Ae),c(!1),o(a>=ie.length?0:a),y({title:"Marked as mastered",description:"You've mastered this flashcard!"})}catch{y({title:"Error",description:"Failed to update flashcard",variant:"destructive"})}},J=()=>{if(s.length===0)return;const Y=[...s],ie=Y.splice(a,1)[0];Y.push(ie),i(Y),c(!1),o(a>=Y.length-1?0:a)},Z=()=>{c(!1),o((a+1)%s.length)},te=()=>{c(!1),o((a-1+s.length)%s.length)},ye=()=>{const Y=F([...e]);i(Y),o(0),c(!1),m(Y.length),g(0),h(0)},Ne=async()=>{if(!b){y({title:"Topic required",description:"Please enter a topic for your study material",variant:"destructive"});return}w(!0),_(null);try{const Y=await Ne(b,C,P,r,n),ie={id:`sm-${Date.now()}`,title:b,content:Y,format:C,complexity:P,createdat:new Date().toISOString()};_(ie),y({title:"Study material generated",description:"Your study material has been created successfully"})}catch(Y){y({title:"Error",description:Y instanceof Error?Y.message:"Failed to generate study material",variant:"destructive"})}finally{w(!1)}},Q=async()=>{if(!O){y({title:"Question required",description:"Please enter a question to generate an answer",variant:"destructive"});return}B(!0),$("");try{const Y=await aS(O,z,r,n);$(Y),y({title:"Answer generated",description:"Long-form answer has been generated successfully"})}catch(Y){y({title:"Error",description:Y instanceof Error?Y.message:"Failed to generate answer",variant:"destructive"})}finally{B(!1)}};return f.jsxs("div",{children:[f.jsxs(YO,{defaultValue:"longAnswer",className:"w-full",children:[f.jsxs(NC,{className:"w-full mb-6",children:[f.jsxs(za,{value:"flashcards",className:"flex-1",children:[f.jsx(Nx,{className:"h-4 w-4 mr-2"}),"Flashcards"]}),f.jsxs(za,{value:"longAnswer",className:"flex-1",children:[f.jsx(l6,{className:"h-4 w-4 mr-2"}),"Ask Questions"]}),f.jsxs(za,{value:"material",className:"flex-1",children:[f.jsx(bR,{className:"h-4 w-4 mr-2"}),"Study Materials"]})]}),f.jsxs(Ua,{value:"flashcards",children:[f.jsx("div",{className:"flex justify-between items-center mb-6",children:f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-semibold mb-1",children:"Flashcard Review"}),f.jsx("p",{className:"text-gray-600",children:"Practice your flashcards until you master them"})]})}),f.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg mb-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("span",{className:"text-sm font-medium",children:"Mastery Progress"}),f.jsxs("span",{className:"text-sm font-medium",children:[d,"%"]})]}),f.jsx(_F,{value:d,className:"h-2"}),f.jsxs("div",{className:"flex justify-between items-center mt-4 text-sm text-gray-600",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-medium text-purple-600",children:v})," mastered"]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-medium text-purple-600",children:p})," remaining"]})]})]}),s.length>0?f.jsxs("div",{children:[f.jsx("div",{className:"flex justify-center mb-8",children:f.jsx("div",{className:"relative w-full max-w-2xl h-64 cursor-pointer perspective-1000",onClick:()=>c(!l),children:f.jsxs("div",{className:`absolute w-full h-full transform transition-transform duration-500 preserve-3d ${l?"rotate-y-180":""}`,children:[f.jsxs("div",{className:"absolute w-full h-full bg-white rounded-xl p-8 border-2 border-purple-200 shadow-md backface-hidden flex flex-col items-center justify-center",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center mb-4",children:f.jsx("span",{className:"text-purple-600 font-semibold",children:a+1})}),f.jsx("p",{className:"text-center text-xl font-medium",children:(L=s[a])==null?void 0:L.front}),f.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"Click to flip"})]}),f.jsxs("div",{className:"absolute w-full h-full bg-purple-50 rounded-xl p-8 border-2 border-purple-200 shadow-md backface-hidden rotate-y-180 flex flex-col items-center justify-center",children:[f.jsx("p",{className:"text-center text-lg",children:(W=s[a])==null?void 0:W.back}),f.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"Click to flip back"})]})]})})}),f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs(me,{variant:"outline",onClick:te,disabled:s.length<=1,className:"flex items-center",children:[f.jsx(mI,{className:"mr-2 h-4 w-4"}),"Previous"]}),f.jsxs(me,{variant:"outline",onClick:Z,disabled:s.length<=1,className:"flex items-center",children:["Next",f.jsx(o6,{className:"ml-2 h-4 w-4"})]})]}),f.jsxs("div",{className:"flex gap-4 justify-center",children:[f.jsxs(me,{variant:"outline",className:"border-red-300 text-red-600 hover:bg-red-50 flex-1 md:flex-none",onClick:J,children:[f.jsx(hv,{className:"mr-2 h-4 w-4"}),"Need More Practice"]}),f.jsxs(me,{variant:"outline",className:"border-green-300 text-green-600 hover:bg-green-50 flex-1 md:flex-none",onClick:H,children:[f.jsx(dn,{className:"mr-2 h-4 w-4"}),"Mark as Mastered"]})]})]}):e.length===0?f.jsxs("div",{className:"text-center py-16 border rounded-lg bg-gray-50",children:[f.jsx(Nx,{className:"h-10 w-10 text-gray-400 mx-auto mb-3"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No flashcards to learn"}),f.jsx("p",{className:"text-gray-500 mt-1 mb-6",children:"Create flashcards first in the Flashcards tab"})]}):f.jsxs("div",{className:"text-center py-16 border rounded-lg bg-purple-50",children:[f.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-100 flex items-center justify-center mx-auto mb-4",children:f.jsx(dn,{className:"h-8 w-8 text-purple-600"})}),f.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"All cards mastered!"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Congratulations! You've mastered all your flashcards."}),f.jsx(me,{className:"gradient-bg",onClick:ye,children:"Restart All Cards"})]})]}),f.jsxs(Ua,{value:"longAnswer",children:[f.jsx("div",{className:"flex justify-between items-center mb-6",children:f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-semibold mb-1",children:"Ask Deep Questions"}),f.jsx("p",{className:"text-gray-600",children:"Get comprehensive answers to complex questions about your study materials"}),r.length>0&&f.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),f.jsxs("span",{className:"text-sm text-green-600 font-medium",children:[r.length," file",r.length>1?"s":""," available for context"]})]})]})}),f.jsxs(Mi,{className:"mb-6",children:[f.jsx($a,{children:f.jsx(Co,{children:"Ask a Question"})}),f.jsx(Ba,{children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx(He,{htmlFor:"question",children:"Your Question"}),f.jsx(vc,{id:"question",placeholder:"Enter a detailed question (e.g., 'Explain how the Holocaust impacted international law and human rights frameworks')",value:O,onChange:Y=>M(Y.target.value),className:"h-32"})]}),f.jsxs("div",{children:[f.jsx(He,{children:"Answer Complexity"}),f.jsxs(Xp,{value:z,onValueChange:D,className:"flex mt-2",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Ts,{value:"simple",id:"simple-answer"}),f.jsx(He,{htmlFor:"simple-answer",children:"Simple"})]}),f.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[f.jsx(Ts,{value:"medium",id:"medium-answer"}),f.jsx(He,{htmlFor:"medium-answer",children:"Medium"})]}),f.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[f.jsx(Ts,{value:"advanced",id:"advanced-answer"}),f.jsx(He,{htmlFor:"advanced-answer",children:"Advanced"})]})]})]}),f.jsx(me,{onClick:Q,disabled:K,className:"w-full",children:K?"Generating...":f.jsxs(f.Fragment,{children:[f.jsx(MA,{className:"mr-2 h-4 w-4"}),"Generate Answer"]})})]})})]}),U&&f.jsxs(Mi,{children:[f.jsx($a,{children:f.jsx(Co,{children:"Detailed Answer"})}),f.jsx(Ba,{children:f.jsx("div",{className:"prose max-w-none",children:f.jsx("div",{dangerouslySetInnerHTML:{__html:U.replace(/\n/g,"<br>")}})})})]})]}),f.jsxs(Ua,{value:"material",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h2",{className:"text-2xl font-semibold",children:"Study Materials"}),r.length>0&&f.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600",children:[f.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),f.jsxs("span",{children:[r.length," file",r.length>1?"s":""," available"]})]})]}),f.jsx("p",{className:"text-gray-600",children:"Generate study materials and practice with flashcards"})]}),t.length>0||I?f.jsxs("div",{className:"mb-6",children:[I&&f.jsxs(Mi,{className:"mb-6",children:[f.jsx($a,{children:f.jsx(Co,{children:I.title})}),f.jsx(Ba,{children:f.jsx("div",{className:"prose max-w-none",children:f.jsx("div",{dangerouslySetInnerHTML:{__html:I.content.replace(/\n/g,"<br>")}})})})]}),t.map(Y=>f.jsxs(Mi,{className:"mb-6",children:[f.jsx($a,{children:f.jsx(Co,{children:Y.title})}),f.jsx(Ba,{children:f.jsx("div",{className:"prose max-w-none",children:f.jsx("div",{dangerouslySetInnerHTML:{__html:Y.content.replace(/\n/g,"<br>")}})})})]},Y.id))]}):f.jsxs("div",{className:"text-center py-10 border rounded-lg bg-gray-50 mb-6",children:[f.jsx(bR,{className:"h-10 w-10 text-gray-400 mx-auto mb-3"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No study materials yet"}),f.jsx("p",{className:"text-gray-500 mt-1 mb-6",children:"Generate comprehensive study materials below"})]}),f.jsxs(Mi,{children:[f.jsx($a,{children:f.jsx(Co,{children:"Generate New Study Material"})}),f.jsx(Ba,{children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx(He,{htmlFor:"topic",children:"Topic"}),f.jsx(hs,{id:"topic",placeholder:"Enter topic (e.g., 'The Holocaust and World War II')",value:b,onChange:Y=>E(Y.target.value)})]}),f.jsxs("div",{children:[f.jsx(He,{children:"Format"}),f.jsxs(Xp,{value:C,onValueChange:Y=>R(Y),className:"flex mt-2",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Ts,{value:"notes",id:"notes"}),f.jsx(He,{htmlFor:"notes",children:"Notes"})]}),f.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[f.jsx(Ts,{value:"outline",id:"outline"}),f.jsx(He,{htmlFor:"outline",children:"Outline"})]}),f.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[f.jsx(Ts,{value:"summary",id:"summary"}),f.jsx(He,{htmlFor:"summary",children:"Summary"})]})]})]}),f.jsxs("div",{children:[f.jsx(He,{children:"Complexity"}),f.jsxs(Xp,{value:P,onValueChange:k,className:"flex mt-2",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Ts,{value:"simple",id:"simple"}),f.jsx(He,{htmlFor:"simple",children:"Simple"})]}),f.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[f.jsx(Ts,{value:"medium",id:"medium"}),f.jsx(He,{htmlFor:"medium",children:"Medium"})]}),f.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[f.jsx(Ts,{value:"advanced",id:"advanced"}),f.jsx(He,{htmlFor:"advanced",children:"Advanced"})]})]})]}),f.jsx(me,{onClick:Ne,disabled:x,className:"w-full",children:x?"Generating...":f.jsxs(f.Fragment,{children:[f.jsx(v6,{className:"mr-2 h-4 w-4"}),"Generate Study Material"]})})]})})]})]})]}),f.jsx("style",{children:`
        .perspective-1000 {
          perspective: 1000px;
        }
        
        .preserve-3d {
          transform-style: preserve-3d;
        }
        
        .backface-hidden {
          backface-visibility: hidden;
        }
        
        .rotate-y-180 {
          transform: rotateY(180deg);
        }
        `})]})}function yK(){const{id:n}=w8(),e=rd(),{toast:t}=ys(),[r,s]=S.useState(null),[i,a]=S.useState("files"),o=lo(),{isLoading:l,error:c,data:d}=y_({queryKey:["session",n],queryFn:()=>_O(),enabled:!!n,retry:1,retryDelay:1e3});return S.useEffect(()=>{d?(console.log("Session query success:",{id:n,data:d}),s(d)):c?(console.error("Session query error:",{id:n,error:c}),t({title:"Error",description:"Failed to load study session",variant:"destructive"}),e("/sessions")):!l&&!d&&(console.log("Session not found for ID:",n),t({title:"Error",description:"Study session not found",variant:"destructive"}),e("/sessions"))},[d,c,l,n,e,t]),l?f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx(Qd,{}),f.jsx("div",{className:"container mx-auto px-4 py-12",children:f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})})})]}):r?f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx(Qd,{}),f.jsxs("div",{ref:o,className:"container mx-auto px-4 py-6",children:[f.jsxs("div",{className:"mb-6",children:[f.jsxs(me,{variant:"outline",className:"mb-4",onClick:()=>e("/sessions"),children:[f.jsx(mI,{className:"mr-2 h-4 w-4"}),"Back to Sessions"]}),f.jsx("h1",{className:"text-3xl font-bold",children:r.title}),f.jsx("p",{className:"text-gray-600 mt-1",children:r.description})]}),f.jsxs(YO,{value:i,onValueChange:a,children:[f.jsxs(NC,{className:"grid grid-cols-5 mb-8",children:[f.jsxs(za,{value:"files",className:"flex items-center",children:[f.jsx(g6,{className:"mr-2 h-4 w-4"}),"Files"]}),f.jsxs(za,{value:"flashcards",className:"flex items-center",children:[f.jsx(gI,{className:"mr-2 h-4 w-4"}),"Flashcards"]}),f.jsxs(za,{value:"quiz",className:"flex items-center",children:[f.jsx(dn,{className:"mr-2 h-4 w-4"}),"Quiz"]}),f.jsxs(za,{value:"learn",className:"flex items-center",children:[f.jsx(Nx,{className:"mr-2 h-4 w-4"}),"Learn"]}),f.jsxs(za,{value:"chat",className:"flex items-center",children:[f.jsx(MA,{className:"mr-2 h-4 w-4"}),"Chat"]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[f.jsx(Ua,{value:"files",children:f.jsx(cK,{sessionId:r.id,files:r.files,onFileAdded:h=>{s({...r,files:[...r.files,h]})}})}),f.jsx(Ua,{value:"flashcards",children:f.jsx(JH,{sessionId:r.id,flashcards:r.flashcards,files:r.files,onFlashcardAdded:h=>{s(p=>({...p,flashcards:[...p.flashcards,h]}))},onFlashcardsAdded:h=>{s(p=>({...p,flashcards:[...p.flashcards,...h]}))},onMasteryToggled:(h,p)=>{s(m=>({...m,flashcards:m.flashcards.map(v=>v.id===h?{...v,mastered:!v.mastered}:v)}))}})}),f.jsx(Ua,{value:"quiz",children:f.jsx(gW,{sessionId:r.id,quizzes:r.quizzes,files:r.files,flashcards:r.flashcards,onQuizAdded:h=>{s({...r,quizzes:[...r.quizzes,{...h,id:`quiz_${Date.now()}`}]})}})}),f.jsx(Ua,{value:"learn",children:f.jsx(vK,{sessionId:r.id,flashcards:r.flashcards,studyMaterials:r.studyMaterials||[],files:r.files})}),f.jsx(Ua,{value:"chat",children:f.jsx(vW,{sessionId:r.id,files:r.files,onFileUploaded:h=>{s({...r,files:[...r.files,h]})}})})]})]})]})]}):f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx(Qd,{}),f.jsx("div",{className:"container mx-auto px-4 py-12",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"Session not found"}),f.jsx(me,{variant:"outline",className:"mt-4",onClick:()=>e("/sessions"),children:"Go back to sessions"})]})})]})}const xK=new TB,wK=()=>f.jsx(IB,{client:xK,children:f.jsxs(cB,{children:[f.jsx(s$,{}),f.jsx(D$,{}),f.jsx(Z8,{children:f.jsx(W8,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:f.jsxs(F8,{children:[f.jsx(pd,{path:"/",element:f.jsx(GV,{})}),f.jsxs(pd,{element:f.jsx(J8,{redirectTo:"/"}),children:[f.jsx(pd,{path:"/sessions",element:f.jsx(XV,{})}),f.jsx(pd,{path:"/session/:id",element:f.jsx(yK,{})})]}),f.jsx(pd,{path:"*",element:f.jsx(KV,{})})]})})})]})});localStorage.removeItem("quiz_io_current_user");Pb.createRoot(document.getElementById("root")).render(f.jsx(X.StrictMode,{children:f.jsx(wK,{})}));
